function Lv(t,e){for(var i=0;i<e.length;i++){const r=e[i];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function i(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=i(a);fetch(a.href,o)}})();var _o=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fg={exports:{}},nu={},pg={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=Symbol.for("react.element"),Nv=Symbol.for("react.portal"),Fv=Symbol.for("react.fragment"),Uv=Symbol.for("react.strict_mode"),Ov=Symbol.for("react.profiler"),Bv=Symbol.for("react.provider"),zv=Symbol.for("react.context"),Gv=Symbol.for("react.forward_ref"),Hv=Symbol.for("react.suspense"),Wv=Symbol.for("react.memo"),Vv=Symbol.for("react.lazy"),sf=Symbol.iterator;function jv(t){return t===null||typeof t!="object"?null:(t=sf&&t[sf]||t["@@iterator"],typeof t=="function"?t:null)}var mg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gg=Object.assign,wg={};function Za(t,e,i){this.props=t,this.context=e,this.refs=wg,this.updater=i||mg}Za.prototype.isReactComponent={};Za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vg(){}vg.prototype=Za.prototype;function Kh(t,e,i){this.props=t,this.context=e,this.refs=wg,this.updater=i||mg}var Xh=Kh.prototype=new vg;Xh.constructor=Kh;gg(Xh,Za.prototype);Xh.isPureReactComponent=!0;var lf=Array.isArray,Sg=Object.prototype.hasOwnProperty,Yh={current:null},yg={key:!0,ref:!0,__self:!0,__source:!0};function _g(t,e,i){var r,a={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Sg.call(e,r)&&!yg.hasOwnProperty(r)&&(a[r]=e[r]);var l=arguments.length-2;if(l===1)a.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:ss,type:t,key:o,ref:s,props:a,_owner:Yh.current}}function Kv(t,e){return{$$typeof:ss,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ss}function Xv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(i){return e[i]})}var uf=/\/+/g;function Ru(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xv(""+t.key):e.toString(36)}function ll(t,e,i,r,a){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ss:case Nv:s=!0}}if(s)return s=t,a=a(s),t=r===""?"."+Ru(s,0):r,lf(a)?(i="",t!=null&&(i=t.replace(uf,"$&/")+"/"),ll(a,e,i,"",function(c){return c})):a!=null&&(Zh(a)&&(a=Kv(a,i+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(uf,"$&/")+"/")+t)),e.push(a)),1;if(s=0,r=r===""?".":r+":",lf(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+Ru(o,l);s+=ll(o,e,i,u,a)}else if(u=jv(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+Ru(o,l++),s+=ll(o,e,i,u,a);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ws(t,e,i){if(t==null)return t;var r=[],a=0;return ll(t,r,"","",function(o){return e.call(i,o,a++)}),r}function Yv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(i){(t._status===0||t._status===-1)&&(t._status=1,t._result=i)},function(i){(t._status===0||t._status===-1)&&(t._status=2,t._result=i)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},ul={transition:null},Zv={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:ul,ReactCurrentOwner:Yh};tt.Children={map:ws,forEach:function(t,e,i){ws(t,function(){e.apply(this,arguments)},i)},count:function(t){var e=0;return ws(t,function(){e++}),e},toArray:function(t){return ws(t,function(e){return e})||[]},only:function(t){if(!Zh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};tt.Component=Za;tt.Fragment=Fv;tt.Profiler=Ov;tt.PureComponent=Kh;tt.StrictMode=Uv;tt.Suspense=Hv;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zv;tt.cloneElement=function(t,e,i){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gg({},t.props),a=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Yh.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Sg.call(e,u)&&!yg.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=i;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ss,type:t.type,key:a,ref:o,props:r,_owner:s}};tt.createContext=function(t){return t={$$typeof:zv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Bv,_context:t},t.Consumer=t};tt.createElement=_g;tt.createFactory=function(t){var e=_g.bind(null,t);return e.type=t,e};tt.createRef=function(){return{current:null}};tt.forwardRef=function(t){return{$$typeof:Gv,render:t}};tt.isValidElement=Zh;tt.lazy=function(t){return{$$typeof:Vv,_payload:{_status:-1,_result:t},_init:Yv}};tt.memo=function(t,e){return{$$typeof:Wv,type:t,compare:e===void 0?null:e}};tt.startTransition=function(t){var e=ul.transition;ul.transition={};try{t()}finally{ul.transition=e}};tt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};tt.useCallback=function(t,e){return sn.current.useCallback(t,e)};tt.useContext=function(t){return sn.current.useContext(t)};tt.useDebugValue=function(){};tt.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};tt.useEffect=function(t,e){return sn.current.useEffect(t,e)};tt.useId=function(){return sn.current.useId()};tt.useImperativeHandle=function(t,e,i){return sn.current.useImperativeHandle(t,e,i)};tt.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};tt.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};tt.useMemo=function(t,e){return sn.current.useMemo(t,e)};tt.useReducer=function(t,e,i){return sn.current.useReducer(t,e,i)};tt.useRef=function(t){return sn.current.useRef(t)};tt.useState=function(t){return sn.current.useState(t)};tt.useSyncExternalStore=function(t,e,i){return sn.current.useSyncExternalStore(t,e,i)};tt.useTransition=function(){return sn.current.useTransition()};tt.version="18.2.0";pg.exports=tt;var pe=pg.exports;const xg=tu(pe),qv=Lv({__proto__:null,default:xg},[pe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv=pe,$v=Symbol.for("react.element"),Qv=Symbol.for("react.fragment"),eS=Object.prototype.hasOwnProperty,tS=Jv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nS={key:!0,ref:!0,__self:!0,__source:!0};function Mg(t,e,i){var r,a={},o=null,s=null;i!==void 0&&(o=""+i),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)eS.call(e,r)&&!nS.hasOwnProperty(r)&&(a[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)a[r]===void 0&&(a[r]=e[r]);return{$$typeof:$v,type:t,key:o,ref:s,props:a,_owner:tS.current}}nu.Fragment=Qv;nu.jsx=Mg;nu.jsxs=Mg;fg.exports=nu;var L=fg.exports,Bc={},Tg={exports:{}},En={},Eg={exports:{}},bg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,O){var $=z.length;z.push(O);e:for(;0<$;){var H=$-1>>>1,W=z[H];if(0<a(W,O))z[H]=O,z[$]=W,$=H;else break e}}function i(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var O=z[0],$=z.pop();if($!==O){z[0]=$;e:for(var H=0,W=z.length,fe=W>>>1;H<fe;){var q=2*(H+1)-1,ne=z[q],se=q+1,Me=z[se];if(0>a(ne,$))se<W&&0>a(Me,ne)?(z[H]=Me,z[se]=$,H=se):(z[H]=ne,z[q]=$,H=q);else if(se<W&&0>a(Me,$))z[H]=Me,z[se]=$,H=se;else break e}}return O}function a(z,O){var $=z.sortIndex-O.sortIndex;return $!==0?$:z.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,p=3,m=!1,S=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var O=i(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=z)r(c),O.sortIndex=O.expirationTime,e(u,O);else break;O=i(c)}}function M(z){if(v=!1,_(z),!S)if(i(u)!==null)S=!0,U(A);else{var O=i(c);O!==null&&N(M,O.startTime-z)}}function A(z,O){S=!1,v&&(v=!1,h(V),V=-1),m=!0;var $=p;try{for(_(O),f=i(u);f!==null&&(!(f.expirationTime>O)||z&&!F());){var H=f.callback;if(typeof H=="function"){f.callback=null,p=f.priorityLevel;var W=H(f.expirationTime<=O);O=t.unstable_now(),typeof W=="function"?f.callback=W:f===i(u)&&r(u),_(O)}else r(u);f=i(u)}if(f!==null)var fe=!0;else{var q=i(c);q!==null&&N(M,q.startTime-O),fe=!1}return fe}finally{f=null,p=$,m=!1}}var R=!1,C=null,V=-1,X=5,b=-1;function F(){return!(t.unstable_now()-b<X)}function I(){if(C!==null){var z=t.unstable_now();b=z;var O=!0;try{O=C(!0,z)}finally{O?J():(R=!1,C=null)}}else R=!1}var J;if(typeof y=="function")J=function(){y(I)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,P=x.port2;x.port1.onmessage=I,J=function(){P.postMessage(null)}}else J=function(){g(I,0)};function U(z){C=z,R||(R=!0,J())}function N(z,O){V=g(function(){z(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){S||m||(S=!0,U(A))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(u)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var $=p;p=O;try{return z()}finally{p=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,O){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var $=p;p=z;try{return O()}finally{p=$}},t.unstable_scheduleCallback=function(z,O,$){var H=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?H+$:H):$=H,z){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=$+W,z={id:d++,callback:O,priorityLevel:z,startTime:$,expirationTime:W,sortIndex:-1},$>H?(z.sortIndex=$,e(c,z),i(u)===null&&z===i(c)&&(v?(h(V),V=-1):v=!0,N(M,$-H))):(z.sortIndex=W,e(u,z),S||m||(S=!0,U(A))),z},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(z){var O=p;return function(){var $=p;p=O;try{return z.apply(this,arguments)}finally{p=$}}}})(bg);Eg.exports=bg;var iS=Eg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg=pe,Tn=iS;function ye(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cg=new Set,Oo={};function Vr(t,e){Oa(t,e),Oa(t+"Capture",e)}function Oa(t,e){for(Oo[t]=e,t=0;t<e.length;t++)Cg.add(e[t])}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zc=Object.prototype.hasOwnProperty,rS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cf={},hf={};function aS(t){return zc.call(hf,t)?!0:zc.call(cf,t)?!1:rS.test(t)?hf[t]=!0:(cf[t]=!0,!1)}function oS(t,e,i,r){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sS(t,e,i,r){if(e===null||typeof e>"u"||oS(t,e,i,r))return!0;if(r)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(t,e,i,r,a,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var qh=/[\-:]([a-z])/g;function Jh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qh,Jh);Ht[e]=new ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qh,Jh);Ht[e]=new ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qh,Jh);Ht[e]=new ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new ln(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function $h(t,e,i,r){var a=Ht.hasOwnProperty(e)?Ht[e]:null;(a!==null?a.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sS(e,i,a,r)&&(i=null),r||a===null?aS(e)&&(i===null?t.removeAttribute(e):t.setAttribute(e,""+i)):a.mustUseProperty?t[a.propertyName]=i===null?a.type===3?!1:"":i:(e=a.attributeName,r=a.attributeNamespace,i===null?t.removeAttribute(e):(a=a.type,i=a===3||a===4&&i===!0?"":""+i,r?t.setAttributeNS(r,e,i):t.setAttribute(e,i))))}var Pi=kg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),pa=Symbol.for("react.portal"),ma=Symbol.for("react.fragment"),Qh=Symbol.for("react.strict_mode"),Gc=Symbol.for("react.profiler"),Ag=Symbol.for("react.provider"),Rg=Symbol.for("react.context"),ed=Symbol.for("react.forward_ref"),Hc=Symbol.for("react.suspense"),Wc=Symbol.for("react.suspense_list"),td=Symbol.for("react.memo"),Bi=Symbol.for("react.lazy"),Pg=Symbol.for("react.offscreen"),df=Symbol.iterator;function ro(t){return t===null||typeof t!="object"?null:(t=df&&t[df]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,Pu;function xo(t){if(Pu===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Pu=e&&e[1]||""}return`
`+Pu+t}var Iu=!1;function Du(t,e){if(!t||Iu)return"";Iu=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=r.stack.split(`
`),s=a.length-1,l=o.length-1;1<=s&&0<=l&&a[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==o[l]){var u=`
`+a[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{Iu=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?xo(t):""}function lS(t){switch(t.tag){case 5:return xo(t.type);case 16:return xo("Lazy");case 13:return xo("Suspense");case 19:return xo("SuspenseList");case 0:case 2:case 15:return t=Du(t.type,!1),t;case 11:return t=Du(t.type.render,!1),t;case 1:return t=Du(t.type,!0),t;default:return""}}function Vc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ma:return"Fragment";case pa:return"Portal";case Gc:return"Profiler";case Qh:return"StrictMode";case Hc:return"Suspense";case Wc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rg:return(t.displayName||"Context")+".Consumer";case Ag:return(t._context.displayName||"Context")+".Provider";case ed:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case td:return e=t.displayName||null,e!==null?e:Vc(t.type)||"Memo";case Bi:e=t._payload,t=t._init;try{return Vc(t(e))}catch{}}return null}function uS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vc(e);case 8:return e===Qh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ig(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cS(t){var e=Ig(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,o=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ss(t){t._valueTracker||(t._valueTracker=cS(t))}function Dg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=Ig(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function _l(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jc(t,e){var i=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function ff(t,e){var i=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;i=or(e.value!=null?e.value:i),t._wrapperState={initialChecked:r,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Lg(t,e){e=e.checked,e!=null&&$h(t,"checked",e,!1)}function Kc(t,e){Lg(t,e);var i=or(e.value),r=e.type;if(i!=null)r==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xc(t,e.type,i):e.hasOwnProperty("defaultValue")&&Xc(t,e.type,or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pf(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function Xc(t,e,i){(e!=="number"||_l(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var Mo=Array.isArray;function Aa(t,e,i,r){if(t=t.options,e){e={};for(var a=0;a<i.length;a++)e["$"+i[a]]=!0;for(i=0;i<t.length;i++)a=e.hasOwnProperty("$"+t[i].value),t[i].selected!==a&&(t[i].selected=a),a&&r&&(t[i].defaultSelected=!0)}else{for(i=""+or(i),e=null,a=0;a<t.length;a++){if(t[a].value===i){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function Yc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ye(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mf(t,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(ye(92));if(Mo(i)){if(1<i.length)throw Error(ye(93));i=i[0]}e=i}e==null&&(e=""),i=e}t._wrapperState={initialValue:or(i)}}function Ng(t,e){var i=or(e.value),r=or(e.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),e.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),r!=null&&(t.defaultValue=""+r)}function gf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Fg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ys,Ug=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,i,r,a){MSApp.execUnsafeLocalFunction(function(){return t(e,i,r,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ys=ys||document.createElement("div"),ys.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ys.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bo(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hS=["Webkit","ms","Moz","O"];Object.keys(ko).forEach(function(t){hS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ko[e]=ko[t]})});function Og(t,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||ko.hasOwnProperty(t)&&ko[t]?(""+e).trim():e+"px"}function Bg(t,e){t=t.style;for(var i in e)if(e.hasOwnProperty(i)){var r=i.indexOf("--")===0,a=Og(i,e[i],r);i==="float"&&(i="cssFloat"),r?t.setProperty(i,a):t[i]=a}}var dS=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qc(t,e){if(e){if(dS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ye(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ye(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ye(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ye(62))}}function Jc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $c=null;function nd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qc=null,Ra=null,Pa=null;function wf(t){if(t=cs(t)){if(typeof Qc!="function")throw Error(ye(280));var e=t.stateNode;e&&(e=su(e),Qc(t.stateNode,t.type,e))}}function zg(t){Ra?Pa?Pa.push(t):Pa=[t]:Ra=t}function Gg(){if(Ra){var t=Ra,e=Pa;if(Pa=Ra=null,wf(t),e)for(t=0;t<e.length;t++)wf(e[t])}}function Hg(t,e){return t(e)}function Wg(){}var Lu=!1;function Vg(t,e,i){if(Lu)return t(e,i);Lu=!0;try{return Hg(t,e,i)}finally{Lu=!1,(Ra!==null||Pa!==null)&&(Wg(),Gg())}}function zo(t,e){var i=t.stateNode;if(i===null)return null;var r=su(i);if(r===null)return null;i=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(ye(231,e,typeof i));return i}var eh=!1;if(Ti)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){eh=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{eh=!1}function fS(t,e,i,r,a,o,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(i,c)}catch(d){this.onError(d)}}var Co=!1,xl=null,Ml=!1,th=null,pS={onError:function(t){Co=!0,xl=t}};function mS(t,e,i,r,a,o,s,l,u){Co=!1,xl=null,fS.apply(pS,arguments)}function gS(t,e,i,r,a,o,s,l,u){if(mS.apply(this,arguments),Co){if(Co){var c=xl;Co=!1,xl=null}else throw Error(ye(198));Ml||(Ml=!0,th=c)}}function jr(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function jg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vf(t){if(jr(t)!==t)throw Error(ye(188))}function wS(t){var e=t.alternate;if(!e){if(e=jr(t),e===null)throw Error(ye(188));return e!==t?null:t}for(var i=t,r=e;;){var a=i.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){i=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===i)return vf(a),t;if(o===r)return vf(a),e;o=o.sibling}throw Error(ye(188))}if(i.return!==r.return)i=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===i){s=!0,i=a,r=o;break}if(l===r){s=!0,r=a,i=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===i){s=!0,i=o,r=a;break}if(l===r){s=!0,r=o,i=a;break}l=l.sibling}if(!s)throw Error(ye(189))}}if(i.alternate!==r)throw Error(ye(190))}if(i.tag!==3)throw Error(ye(188));return i.stateNode.current===i?t:e}function Kg(t){return t=wS(t),t!==null?Xg(t):null}function Xg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Xg(t);if(e!==null)return e;t=t.sibling}return null}var Yg=Tn.unstable_scheduleCallback,Sf=Tn.unstable_cancelCallback,vS=Tn.unstable_shouldYield,SS=Tn.unstable_requestPaint,Tt=Tn.unstable_now,yS=Tn.unstable_getCurrentPriorityLevel,id=Tn.unstable_ImmediatePriority,Zg=Tn.unstable_UserBlockingPriority,Tl=Tn.unstable_NormalPriority,_S=Tn.unstable_LowPriority,qg=Tn.unstable_IdlePriority,iu=null,ai=null;function xS(t){if(ai&&typeof ai.onCommitFiberRoot=="function")try{ai.onCommitFiberRoot(iu,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:ES,MS=Math.log,TS=Math.LN2;function ES(t){return t>>>=0,t===0?32:31-(MS(t)/TS|0)|0}var _s=64,xs=4194304;function To(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function El(t,e){var i=t.pendingLanes;if(i===0)return 0;var r=0,a=t.suspendedLanes,o=t.pingedLanes,s=i&268435455;if(s!==0){var l=s&~a;l!==0?r=To(l):(o&=s,o!==0&&(r=To(o)))}else s=i&~a,s!==0?r=To(s):o!==0&&(r=To(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&a)&&(a=r&-r,o=e&-e,a>=o||a===16&&(o&4194240)!==0))return e;if(r&4&&(r|=i&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)i=31-Yn(e),a=1<<i,r|=t[i],e&=~a;return r}function bS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kS(t,e){for(var i=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Yn(o),l=1<<s,u=a[s];u===-1?(!(l&i)||l&r)&&(a[s]=bS(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function nh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jg(){var t=_s;return _s<<=1,!(_s&4194240)&&(_s=64),t}function Nu(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function ls(t,e,i){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=i}function CS(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<i;){var a=31-Yn(i),o=1<<a;e[a]=0,r[a]=-1,t[a]=-1,i&=~o}}function rd(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var r=31-Yn(i),a=1<<r;a&e|t[r]&e&&(t[r]|=e),i&=~a}}var at=0;function $g(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qg,ad,ew,tw,nw,ih=!1,Ms=[],Yi=null,Zi=null,qi=null,Go=new Map,Ho=new Map,Hi=[],AS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yf(t,e){switch(t){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Go.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(e.pointerId)}}function oo(t,e,i,r,a,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},e!==null&&(e=cs(e),e!==null&&ad(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function RS(t,e,i,r,a){switch(e){case"focusin":return Yi=oo(Yi,t,e,i,r,a),!0;case"dragenter":return Zi=oo(Zi,t,e,i,r,a),!0;case"mouseover":return qi=oo(qi,t,e,i,r,a),!0;case"pointerover":var o=a.pointerId;return Go.set(o,oo(Go.get(o)||null,t,e,i,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Ho.set(o,oo(Ho.get(o)||null,t,e,i,r,a)),!0}return!1}function iw(t){var e=br(t.target);if(e!==null){var i=jr(e);if(i!==null){if(e=i.tag,e===13){if(e=jg(i),e!==null){t.blockedOn=e,nw(t.priority,function(){ew(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=rh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var r=new i.constructor(i.type,i);$c=r,i.target.dispatchEvent(r),$c=null}else return e=cs(i),e!==null&&ad(e),t.blockedOn=i,!1;e.shift()}return!0}function _f(t,e,i){cl(t)&&i.delete(e)}function PS(){ih=!1,Yi!==null&&cl(Yi)&&(Yi=null),Zi!==null&&cl(Zi)&&(Zi=null),qi!==null&&cl(qi)&&(qi=null),Go.forEach(_f),Ho.forEach(_f)}function so(t,e){t.blockedOn===e&&(t.blockedOn=null,ih||(ih=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,PS)))}function Wo(t){function e(a){return so(a,t)}if(0<Ms.length){so(Ms[0],t);for(var i=1;i<Ms.length;i++){var r=Ms[i];r.blockedOn===t&&(r.blockedOn=null)}}for(Yi!==null&&so(Yi,t),Zi!==null&&so(Zi,t),qi!==null&&so(qi,t),Go.forEach(e),Ho.forEach(e),i=0;i<Hi.length;i++)r=Hi[i],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hi.length&&(i=Hi[0],i.blockedOn===null);)iw(i),i.blockedOn===null&&Hi.shift()}var Ia=Pi.ReactCurrentBatchConfig,bl=!0;function IS(t,e,i,r){var a=at,o=Ia.transition;Ia.transition=null;try{at=1,od(t,e,i,r)}finally{at=a,Ia.transition=o}}function DS(t,e,i,r){var a=at,o=Ia.transition;Ia.transition=null;try{at=4,od(t,e,i,r)}finally{at=a,Ia.transition=o}}function od(t,e,i,r){if(bl){var a=rh(t,e,i,r);if(a===null)ju(t,e,r,kl,i),yf(t,r);else if(RS(a,t,e,i,r))r.stopPropagation();else if(yf(t,r),e&4&&-1<AS.indexOf(t)){for(;a!==null;){var o=cs(a);if(o!==null&&Qg(o),o=rh(t,e,i,r),o===null&&ju(t,e,r,kl,i),o===a)break;a=o}a!==null&&r.stopPropagation()}else ju(t,e,r,null,i)}}var kl=null;function rh(t,e,i,r){if(kl=null,t=nd(r),t=br(t),t!==null)if(e=jr(t),e===null)t=null;else if(i=e.tag,i===13){if(t=jg(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return kl=t,null}function rw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yS()){case id:return 1;case Zg:return 4;case Tl:case _S:return 16;case qg:return 536870912;default:return 16}default:return 16}}var Vi=null,sd=null,hl=null;function aw(){if(hl)return hl;var t,e=sd,i=e.length,r,a="value"in Vi?Vi.value:Vi.textContent,o=a.length;for(t=0;t<i&&e[t]===a[t];t++);var s=i-t;for(r=1;r<=s&&e[i-r]===a[o-r];r++);return hl=a.slice(t,1<r?1-r:void 0)}function dl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ts(){return!0}function xf(){return!1}function bn(t){function e(i,r,a,o,s){this._reactName=i,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(i=t[l],this[l]=i?i(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ts:xf,this.isPropagationStopped=xf,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),e}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ld=bn(qa),us=vt({},qa,{view:0,detail:0}),LS=bn(us),Fu,Uu,lo,ru=vt({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ud,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lo&&(lo&&t.type==="mousemove"?(Fu=t.screenX-lo.screenX,Uu=t.screenY-lo.screenY):Uu=Fu=0,lo=t),Fu)},movementY:function(t){return"movementY"in t?t.movementY:Uu}}),Mf=bn(ru),NS=vt({},ru,{dataTransfer:0}),FS=bn(NS),US=vt({},us,{relatedTarget:0}),Ou=bn(US),OS=vt({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),BS=bn(OS),zS=vt({},qa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GS=bn(zS),HS=vt({},qa,{data:0}),Tf=bn(HS),WS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jS[t])?!!e[t]:!1}function ud(){return KS}var XS=vt({},us,{key:function(t){if(t.key){var e=WS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?VS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ud,charCode:function(t){return t.type==="keypress"?dl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YS=bn(XS),ZS=vt({},ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ef=bn(ZS),qS=vt({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ud}),JS=bn(qS),$S=vt({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),QS=bn($S),ey=vt({},ru,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ty=bn(ey),ny=[9,13,27,32],cd=Ti&&"CompositionEvent"in window,Ao=null;Ti&&"documentMode"in document&&(Ao=document.documentMode);var iy=Ti&&"TextEvent"in window&&!Ao,ow=Ti&&(!cd||Ao&&8<Ao&&11>=Ao),bf=" ",kf=!1;function sw(t,e){switch(t){case"keyup":return ny.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ga=!1;function ry(t,e){switch(t){case"compositionend":return lw(e);case"keypress":return e.which!==32?null:(kf=!0,bf);case"textInput":return t=e.data,t===bf&&kf?null:t;default:return null}}function ay(t,e){if(ga)return t==="compositionend"||!cd&&sw(t,e)?(t=aw(),hl=sd=Vi=null,ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ow&&e.locale!=="ko"?null:e.data;default:return null}}var oy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oy[t.type]:e==="textarea"}function uw(t,e,i,r){zg(r),e=Cl(e,"onChange"),0<e.length&&(i=new ld("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var Ro=null,Vo=null;function sy(t){yw(t,0)}function au(t){var e=Sa(t);if(Dg(e))return t}function ly(t,e){if(t==="change")return e}var cw=!1;if(Ti){var Bu;if(Ti){var zu="oninput"in document;if(!zu){var Af=document.createElement("div");Af.setAttribute("oninput","return;"),zu=typeof Af.oninput=="function"}Bu=zu}else Bu=!1;cw=Bu&&(!document.documentMode||9<document.documentMode)}function Rf(){Ro&&(Ro.detachEvent("onpropertychange",hw),Vo=Ro=null)}function hw(t){if(t.propertyName==="value"&&au(Vo)){var e=[];uw(e,Vo,t,nd(t)),Vg(sy,e)}}function uy(t,e,i){t==="focusin"?(Rf(),Ro=e,Vo=i,Ro.attachEvent("onpropertychange",hw)):t==="focusout"&&Rf()}function cy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return au(Vo)}function hy(t,e){if(t==="click")return au(e)}function dy(t,e){if(t==="input"||t==="change")return au(e)}function fy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jn=typeof Object.is=="function"?Object.is:fy;function jo(t,e){if(Jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var a=i[r];if(!zc.call(e,a)||!Jn(t[a],e[a]))return!1}return!0}function Pf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function If(t,e){var i=Pf(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Pf(i)}}function dw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fw(){for(var t=window,e=_l();e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=_l(t.document)}return e}function hd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function py(t){var e=fw(),i=t.focusedElem,r=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&dw(i.ownerDocument.documentElement,i)){if(r!==null&&hd(i)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if(t=(e=i.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=i.textContent.length,o=Math.min(r.start,a);r=r.end===void 0?o:Math.min(r.end,a),!t.extend&&o>r&&(a=r,r=o,o=a),a=If(i,o);var s=If(i,r);a&&s&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=i;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)t=e[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var my=Ti&&"documentMode"in document&&11>=document.documentMode,wa=null,ah=null,Po=null,oh=!1;function Df(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;oh||wa==null||wa!==_l(r)||(r=wa,"selectionStart"in r&&hd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Po&&jo(Po,r)||(Po=r,r=Cl(ah,"onSelect"),0<r.length&&(e=new ld("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=wa)))}function Es(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var va={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionend:Es("Transition","TransitionEnd")},Gu={},pw={};Ti&&(pw=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function ou(t){if(Gu[t])return Gu[t];if(!va[t])return t;var e=va[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in pw)return Gu[t]=e[i];return t}var mw=ou("animationend"),gw=ou("animationiteration"),ww=ou("animationstart"),vw=ou("transitionend"),Sw=new Map,Lf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(t,e){Sw.set(t,e),Vr(e,[t])}for(var Hu=0;Hu<Lf.length;Hu++){var Wu=Lf[Hu],gy=Wu.toLowerCase(),wy=Wu[0].toUpperCase()+Wu.slice(1);ur(gy,"on"+wy)}ur(mw,"onAnimationEnd");ur(gw,"onAnimationIteration");ur(ww,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(vw,"onTransitionEnd");Oa("onMouseEnter",["mouseout","mouseover"]);Oa("onMouseLeave",["mouseout","mouseover"]);Oa("onPointerEnter",["pointerout","pointerover"]);Oa("onPointerLeave",["pointerout","pointerover"]);Vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function Nf(t,e,i){var r=t.type||"unknown-event";t.currentTarget=i,gS(r,e,void 0,t),t.currentTarget=null}function yw(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],a=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&a.isPropagationStopped())break e;Nf(a,l,c),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&a.isPropagationStopped())break e;Nf(a,l,c),o=u}}}if(Ml)throw t=th,Ml=!1,th=null,t}function ut(t,e){var i=e[hh];i===void 0&&(i=e[hh]=new Set);var r=t+"__bubble";i.has(r)||(_w(e,t,2,!1),i.add(r))}function Vu(t,e,i){var r=0;e&&(r|=4),_w(i,t,r,e)}var bs="_reactListening"+Math.random().toString(36).slice(2);function Ko(t){if(!t[bs]){t[bs]=!0,Cg.forEach(function(i){i!=="selectionchange"&&(vy.has(i)||Vu(i,!1,t),Vu(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bs]||(e[bs]=!0,Vu("selectionchange",!1,e))}}function _w(t,e,i,r){switch(rw(e)){case 1:var a=IS;break;case 4:a=DS;break;default:a=od}i=a.bind(null,e,i,t),a=void 0,!eh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(e,i,{capture:!0,passive:a}):t.addEventListener(e,i,!0):a!==void 0?t.addEventListener(e,i,{passive:a}):t.addEventListener(e,i,!1)}function ju(t,e,i,r,a){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===a||u.nodeType===8&&u.parentNode===a))return;s=s.return}for(;l!==null;){if(s=br(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}Vg(function(){var c=o,d=nd(i),f=[];e:{var p=Sw.get(t);if(p!==void 0){var m=ld,S=t;switch(t){case"keypress":if(dl(i)===0)break e;case"keydown":case"keyup":m=YS;break;case"focusin":S="focus",m=Ou;break;case"focusout":S="blur",m=Ou;break;case"beforeblur":case"afterblur":m=Ou;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Mf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=FS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=JS;break;case mw:case gw:case ww:m=BS;break;case vw:m=QS;break;case"scroll":m=LS;break;case"wheel":m=ty;break;case"copy":case"cut":case"paste":m=GS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ef}var v=(e&4)!==0,g=!v&&t==="scroll",h=v?p!==null?p+"Capture":null:p;v=[];for(var y=c,_;y!==null;){_=y;var M=_.stateNode;if(_.tag===5&&M!==null&&(_=M,h!==null&&(M=zo(y,h),M!=null&&v.push(Xo(y,M,_)))),g)break;y=y.return}0<v.length&&(p=new m(p,S,null,i,d),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&i!==$c&&(S=i.relatedTarget||i.fromElement)&&(br(S)||S[Ei]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(S=i.relatedTarget||i.toElement,m=c,S=S?br(S):null,S!==null&&(g=jr(S),S!==g||S.tag!==5&&S.tag!==6)&&(S=null)):(m=null,S=c),m!==S)){if(v=Mf,M="onMouseLeave",h="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=Ef,M="onPointerLeave",h="onPointerEnter",y="pointer"),g=m==null?p:Sa(m),_=S==null?p:Sa(S),p=new v(M,y+"leave",m,i,d),p.target=g,p.relatedTarget=_,M=null,br(d)===c&&(v=new v(h,y+"enter",S,i,d),v.target=_,v.relatedTarget=g,M=v),g=M,m&&S)t:{for(v=m,h=S,y=0,_=v;_;_=Yr(_))y++;for(_=0,M=h;M;M=Yr(M))_++;for(;0<y-_;)v=Yr(v),y--;for(;0<_-y;)h=Yr(h),_--;for(;y--;){if(v===h||h!==null&&v===h.alternate)break t;v=Yr(v),h=Yr(h)}v=null}else v=null;m!==null&&Ff(f,p,m,v,!1),S!==null&&g!==null&&Ff(f,g,S,v,!0)}}e:{if(p=c?Sa(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var A=ly;else if(Cf(p))if(cw)A=dy;else{A=cy;var R=uy}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(A=hy);if(A&&(A=A(t,c))){uw(f,A,i,d);break e}R&&R(t,p,c),t==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&Xc(p,"number",p.value)}switch(R=c?Sa(c):window,t){case"focusin":(Cf(R)||R.contentEditable==="true")&&(wa=R,ah=c,Po=null);break;case"focusout":Po=ah=wa=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":oh=!1,Df(f,i,d);break;case"selectionchange":if(my)break;case"keydown":case"keyup":Df(f,i,d)}var C;if(cd)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else ga?sw(t,i)&&(V="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(V="onCompositionStart");V&&(ow&&i.locale!=="ko"&&(ga||V!=="onCompositionStart"?V==="onCompositionEnd"&&ga&&(C=aw()):(Vi=d,sd="value"in Vi?Vi.value:Vi.textContent,ga=!0)),R=Cl(c,V),0<R.length&&(V=new Tf(V,t,null,i,d),f.push({event:V,listeners:R}),C?V.data=C:(C=lw(i),C!==null&&(V.data=C)))),(C=iy?ry(t,i):ay(t,i))&&(c=Cl(c,"onBeforeInput"),0<c.length&&(d=new Tf("onBeforeInput","beforeinput",null,i,d),f.push({event:d,listeners:c}),d.data=C))}yw(f,e)})}function Xo(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Cl(t,e){for(var i=e+"Capture",r=[];t!==null;){var a=t,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=zo(t,i),o!=null&&r.unshift(Xo(t,o,a)),o=zo(t,e),o!=null&&r.push(Xo(t,o,a))),t=t.return}return r}function Yr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ff(t,e,i,r,a){for(var o=e._reactName,s=[];i!==null&&i!==r;){var l=i,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,a?(u=zo(i,o),u!=null&&s.unshift(Xo(i,u,l))):a||(u=zo(i,o),u!=null&&s.push(Xo(i,u,l)))),i=i.return}s.length!==0&&t.push({event:e,listeners:s})}var Sy=/\r\n?/g,yy=/\u0000|\uFFFD/g;function Uf(t){return(typeof t=="string"?t:""+t).replace(Sy,`
`).replace(yy,"")}function ks(t,e,i){if(e=Uf(e),Uf(t)!==e&&i)throw Error(ye(425))}function Al(){}var sh=null,lh=null;function uh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ch=typeof setTimeout=="function"?setTimeout:void 0,_y=typeof clearTimeout=="function"?clearTimeout:void 0,Of=typeof Promise=="function"?Promise:void 0,xy=typeof queueMicrotask=="function"?queueMicrotask:typeof Of<"u"?function(t){return Of.resolve(null).then(t).catch(My)}:ch;function My(t){setTimeout(function(){throw t})}function Ku(t,e){var i=e,r=0;do{var a=i.nextSibling;if(t.removeChild(i),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(r===0){t.removeChild(a),Wo(e);return}r--}else i!=="$"&&i!=="$?"&&i!=="$!"||r++;i=a}while(i);Wo(e)}function Ji(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),ii="__reactFiber$"+Ja,Yo="__reactProps$"+Ja,Ei="__reactContainer$"+Ja,hh="__reactEvents$"+Ja,Ty="__reactListeners$"+Ja,Ey="__reactHandles$"+Ja;function br(t){var e=t[ii];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Ei]||i[ii]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Bf(t);t!==null;){if(i=t[ii])return i;t=Bf(t)}return e}t=i,i=t.parentNode}return null}function cs(t){return t=t[ii]||t[Ei],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ye(33))}function su(t){return t[Yo]||null}var dh=[],ya=-1;function cr(t){return{current:t}}function ht(t){0>ya||(t.current=dh[ya],dh[ya]=null,ya--)}function lt(t,e){ya++,dh[ya]=t.current,t.current=e}var sr={},$t=cr(sr),dn=cr(!1),Ur=sr;function Ba(t,e){var i=t.type.contextTypes;if(!i)return sr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in i)a[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function fn(t){return t=t.childContextTypes,t!=null}function Rl(){ht(dn),ht($t)}function zf(t,e,i){if($t.current!==sr)throw Error(ye(168));lt($t,e),lt(dn,i)}function xw(t,e,i){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return i;r=r.getChildContext();for(var a in r)if(!(a in e))throw Error(ye(108,uS(t)||"Unknown",a));return vt({},i,r)}function Pl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sr,Ur=$t.current,lt($t,t),lt(dn,dn.current),!0}function Gf(t,e,i){var r=t.stateNode;if(!r)throw Error(ye(169));i?(t=xw(t,e,Ur),r.__reactInternalMemoizedMergedChildContext=t,ht(dn),ht($t),lt($t,t)):ht(dn),lt(dn,i)}var gi=null,lu=!1,Xu=!1;function Mw(t){gi===null?gi=[t]:gi.push(t)}function by(t){lu=!0,Mw(t)}function hr(){if(!Xu&&gi!==null){Xu=!0;var t=0,e=at;try{var i=gi;for(at=1;t<i.length;t++){var r=i[t];do r=r(!0);while(r!==null)}gi=null,lu=!1}catch(a){throw gi!==null&&(gi=gi.slice(t+1)),Yg(id,hr),a}finally{at=e,Xu=!1}}return null}var _a=[],xa=0,Il=null,Dl=0,Pn=[],In=0,Or=null,yi=1,_i="";function Sr(t,e){_a[xa++]=Dl,_a[xa++]=Il,Il=t,Dl=e}function Tw(t,e,i){Pn[In++]=yi,Pn[In++]=_i,Pn[In++]=Or,Or=t;var r=yi;t=_i;var a=32-Yn(r)-1;r&=~(1<<a),i+=1;var o=32-Yn(e)+a;if(30<o){var s=a-a%5;o=(r&(1<<s)-1).toString(32),r>>=s,a-=s,yi=1<<32-Yn(e)+a|i<<a|r,_i=o+t}else yi=1<<o|i<<a|r,_i=t}function dd(t){t.return!==null&&(Sr(t,1),Tw(t,1,0))}function fd(t){for(;t===Il;)Il=_a[--xa],_a[xa]=null,Dl=_a[--xa],_a[xa]=null;for(;t===Or;)Or=Pn[--In],Pn[In]=null,_i=Pn[--In],Pn[In]=null,yi=Pn[--In],Pn[In]=null}var Mn=null,xn=null,ft=!1,jn=null;function Ew(t,e){var i=Ln(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,e=t.deletions,e===null?(t.deletions=[i],t.flags|=16):e.push(i)}function Hf(t,e){switch(t.tag){case 5:var i=t.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,xn=Ji(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(i=Or!==null?{id:yi,overflow:_i}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},i=Ln(18,null,null,0),i.stateNode=e,i.return=t,t.child=i,Mn=t,xn=null,!0):!1;default:return!1}}function fh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ph(t){if(ft){var e=xn;if(e){var i=e;if(!Hf(t,e)){if(fh(t))throw Error(ye(418));e=Ji(i.nextSibling);var r=Mn;e&&Hf(t,e)?Ew(r,i):(t.flags=t.flags&-4097|2,ft=!1,Mn=t)}}else{if(fh(t))throw Error(ye(418));t.flags=t.flags&-4097|2,ft=!1,Mn=t}}}function Wf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function Cs(t){if(t!==Mn)return!1;if(!ft)return Wf(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uh(t.type,t.memoizedProps)),e&&(e=xn)){if(fh(t))throw bw(),Error(ye(418));for(;e;)Ew(t,e),e=Ji(e.nextSibling)}if(Wf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ye(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(e===0){xn=Ji(t.nextSibling);break e}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=Mn?Ji(t.stateNode.nextSibling):null;return!0}function bw(){for(var t=xn;t;)t=Ji(t.nextSibling)}function za(){xn=Mn=null,ft=!1}function pd(t){jn===null?jn=[t]:jn.push(t)}var ky=Pi.ReactCurrentBatchConfig;function Wn(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}var Ll=cr(null),Nl=null,Ma=null,md=null;function gd(){md=Ma=Nl=null}function wd(t){var e=Ll.current;ht(Ll),t._currentValue=e}function mh(t,e,i){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===i)break;t=t.return}}function Da(t,e){Nl=t,md=Ma=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function Un(t){var e=t._currentValue;if(md!==t)if(t={context:t,memoizedValue:e,next:null},Ma===null){if(Nl===null)throw Error(ye(308));Ma=t,Nl.dependencies={lanes:0,firstContext:t}}else Ma=Ma.next=t;return e}var kr=null;function vd(t){kr===null?kr=[t]:kr.push(t)}function kw(t,e,i,r){var a=e.interleaved;return a===null?(i.next=i,vd(e)):(i.next=a.next,a.next=i),e.interleaved=i,bi(t,r)}function bi(t,e){t.lanes|=e;var i=t.alternate;for(i!==null&&(i.lanes|=e),i=t,t=t.return;t!==null;)t.childLanes|=e,i=t.alternate,i!==null&&(i.childLanes|=e),i=t,t=t.return;return i.tag===3?i.stateNode:null}var zi=!1;function Sd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $i(t,e,i){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,nt&2){var a=r.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),r.pending=e,bi(t,i)}return a=r.interleaved,a===null?(e.next=e,vd(r)):(e.next=a.next,a.next=e),r.interleaved=e,bi(t,i)}function fl(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,rd(t,i)}}function Vf(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var a=null,o=null;if(i=i.firstBaseUpdate,i!==null){do{var s={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};o===null?a=o=s:o=o.next=s,i=i.next}while(i!==null);o===null?a=o=e:o=o.next=e}else a=o=e;i={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function Fl(t,e,i,r){var a=t.updateQueue;zi=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(o!==null){var f=a.baseState;s=0,d=c=u=null,l=o;do{var p=l.lane,m=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,v=l;switch(p=e,m=i,v.tag){case 1:if(S=v.payload,typeof S=="function"){f=S.call(m,f,p);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=v.payload,p=typeof S=="function"?S.call(m,f,p):S,p==null)break e;f=vt({},f,p);break e;case 2:zi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=a.effects,p===null?a.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=m,u=f):d=d.next=m,s|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;p=l,l=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(u=f),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do s|=a.lane,a=a.next;while(a!==e)}else o===null&&(a.shared.lanes=0);zr|=s,t.lanes=s,t.memoizedState=f}}function jf(t,e,i){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],a=r.callback;if(a!==null){if(r.callback=null,r=i,typeof a!="function")throw Error(ye(191,a));a.call(r)}}}var Aw=new kg.Component().refs;function gh(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:vt({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var uu={isMounted:function(t){return(t=t._reactInternals)?jr(t)===t:!1},enqueueSetState:function(t,e,i){t=t._reactInternals;var r=an(),a=er(t),o=Mi(r,a);o.payload=e,i!=null&&(o.callback=i),e=$i(t,o,a),e!==null&&(Zn(e,t,a,r),fl(e,t,a))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=an(),a=er(t),o=Mi(r,a);o.tag=1,o.payload=e,i!=null&&(o.callback=i),e=$i(t,o,a),e!==null&&(Zn(e,t,a,r),fl(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=an(),r=er(t),a=Mi(i,r);a.tag=2,e!=null&&(a.callback=e),e=$i(t,a,r),e!==null&&(Zn(e,t,r,i),fl(e,t,r))}};function Kf(t,e,i,r,a,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!jo(i,r)||!jo(a,o):!0}function Rw(t,e,i){var r=!1,a=sr,o=e.contextType;return typeof o=="object"&&o!==null?o=Un(o):(a=fn(e)?Ur:$t.current,r=e.contextTypes,o=(r=r!=null)?Ba(t,a):sr),e=new e(i,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=o),e}function Xf(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&uu.enqueueReplaceState(e,e.state,null)}function wh(t,e,i,r){var a=t.stateNode;a.props=i,a.state=t.memoizedState,a.refs=Aw,Sd(t);var o=e.contextType;typeof o=="object"&&o!==null?a.context=Un(o):(o=fn(e)?Ur:$t.current,a.context=Ba(t,o)),a.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(gh(t,e,o,i),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&uu.enqueueReplaceState(a,a.state,null),Fl(t,i,a,r),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function uo(t,e,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(ye(309));var r=i.stateNode}if(!r)throw Error(ye(147,t));var a=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=a.refs;l===Aw&&(l=a.refs={}),s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ye(284));if(!i._owner)throw Error(ye(290,t))}return t}function As(t,e){throw t=Object.prototype.toString.call(e),Error(ye(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yf(t){var e=t._init;return e(t._payload)}function Pw(t){function e(h,y){if(t){var _=h.deletions;_===null?(h.deletions=[y],h.flags|=16):_.push(y)}}function i(h,y){if(!t)return null;for(;y!==null;)e(h,y),y=y.sibling;return null}function r(h,y){for(h=new Map;y!==null;)y.key!==null?h.set(y.key,y):h.set(y.index,y),y=y.sibling;return h}function a(h,y){return h=tr(h,y),h.index=0,h.sibling=null,h}function o(h,y,_){return h.index=_,t?(_=h.alternate,_!==null?(_=_.index,_<y?(h.flags|=2,y):_):(h.flags|=2,y)):(h.flags|=1048576,y)}function s(h){return t&&h.alternate===null&&(h.flags|=2),h}function l(h,y,_,M){return y===null||y.tag!==6?(y=ec(_,h.mode,M),y.return=h,y):(y=a(y,_),y.return=h,y)}function u(h,y,_,M){var A=_.type;return A===ma?d(h,y,_.props.children,M,_.key):y!==null&&(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Bi&&Yf(A)===y.type)?(M=a(y,_.props),M.ref=uo(h,y,_),M.return=h,M):(M=Sl(_.type,_.key,_.props,null,h.mode,M),M.ref=uo(h,y,_),M.return=h,M)}function c(h,y,_,M){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=tc(_,h.mode,M),y.return=h,y):(y=a(y,_.children||[]),y.return=h,y)}function d(h,y,_,M,A){return y===null||y.tag!==7?(y=Ir(_,h.mode,M,A),y.return=h,y):(y=a(y,_),y.return=h,y)}function f(h,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ec(""+y,h.mode,_),y.return=h,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case vs:return _=Sl(y.type,y.key,y.props,null,h.mode,_),_.ref=uo(h,null,y),_.return=h,_;case pa:return y=tc(y,h.mode,_),y.return=h,y;case Bi:var M=y._init;return f(h,M(y._payload),_)}if(Mo(y)||ro(y))return y=Ir(y,h.mode,_,null),y.return=h,y;As(h,y)}return null}function p(h,y,_,M){var A=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return A!==null?null:l(h,y,""+_,M);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vs:return _.key===A?u(h,y,_,M):null;case pa:return _.key===A?c(h,y,_,M):null;case Bi:return A=_._init,p(h,y,A(_._payload),M)}if(Mo(_)||ro(_))return A!==null?null:d(h,y,_,M,null);As(h,_)}return null}function m(h,y,_,M,A){if(typeof M=="string"&&M!==""||typeof M=="number")return h=h.get(_)||null,l(y,h,""+M,A);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case vs:return h=h.get(M.key===null?_:M.key)||null,u(y,h,M,A);case pa:return h=h.get(M.key===null?_:M.key)||null,c(y,h,M,A);case Bi:var R=M._init;return m(h,y,_,R(M._payload),A)}if(Mo(M)||ro(M))return h=h.get(_)||null,d(y,h,M,A,null);As(y,M)}return null}function S(h,y,_,M){for(var A=null,R=null,C=y,V=y=0,X=null;C!==null&&V<_.length;V++){C.index>V?(X=C,C=null):X=C.sibling;var b=p(h,C,_[V],M);if(b===null){C===null&&(C=X);break}t&&C&&b.alternate===null&&e(h,C),y=o(b,y,V),R===null?A=b:R.sibling=b,R=b,C=X}if(V===_.length)return i(h,C),ft&&Sr(h,V),A;if(C===null){for(;V<_.length;V++)C=f(h,_[V],M),C!==null&&(y=o(C,y,V),R===null?A=C:R.sibling=C,R=C);return ft&&Sr(h,V),A}for(C=r(h,C);V<_.length;V++)X=m(C,h,V,_[V],M),X!==null&&(t&&X.alternate!==null&&C.delete(X.key===null?V:X.key),y=o(X,y,V),R===null?A=X:R.sibling=X,R=X);return t&&C.forEach(function(F){return e(h,F)}),ft&&Sr(h,V),A}function v(h,y,_,M){var A=ro(_);if(typeof A!="function")throw Error(ye(150));if(_=A.call(_),_==null)throw Error(ye(151));for(var R=A=null,C=y,V=y=0,X=null,b=_.next();C!==null&&!b.done;V++,b=_.next()){C.index>V?(X=C,C=null):X=C.sibling;var F=p(h,C,b.value,M);if(F===null){C===null&&(C=X);break}t&&C&&F.alternate===null&&e(h,C),y=o(F,y,V),R===null?A=F:R.sibling=F,R=F,C=X}if(b.done)return i(h,C),ft&&Sr(h,V),A;if(C===null){for(;!b.done;V++,b=_.next())b=f(h,b.value,M),b!==null&&(y=o(b,y,V),R===null?A=b:R.sibling=b,R=b);return ft&&Sr(h,V),A}for(C=r(h,C);!b.done;V++,b=_.next())b=m(C,h,V,b.value,M),b!==null&&(t&&b.alternate!==null&&C.delete(b.key===null?V:b.key),y=o(b,y,V),R===null?A=b:R.sibling=b,R=b);return t&&C.forEach(function(I){return e(h,I)}),ft&&Sr(h,V),A}function g(h,y,_,M){if(typeof _=="object"&&_!==null&&_.type===ma&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case vs:e:{for(var A=_.key,R=y;R!==null;){if(R.key===A){if(A=_.type,A===ma){if(R.tag===7){i(h,R.sibling),y=a(R,_.props.children),y.return=h,h=y;break e}}else if(R.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Bi&&Yf(A)===R.type){i(h,R.sibling),y=a(R,_.props),y.ref=uo(h,R,_),y.return=h,h=y;break e}i(h,R);break}else e(h,R);R=R.sibling}_.type===ma?(y=Ir(_.props.children,h.mode,M,_.key),y.return=h,h=y):(M=Sl(_.type,_.key,_.props,null,h.mode,M),M.ref=uo(h,y,_),M.return=h,h=M)}return s(h);case pa:e:{for(R=_.key;y!==null;){if(y.key===R)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){i(h,y.sibling),y=a(y,_.children||[]),y.return=h,h=y;break e}else{i(h,y);break}else e(h,y);y=y.sibling}y=tc(_,h.mode,M),y.return=h,h=y}return s(h);case Bi:return R=_._init,g(h,y,R(_._payload),M)}if(Mo(_))return S(h,y,_,M);if(ro(_))return v(h,y,_,M);As(h,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(i(h,y.sibling),y=a(y,_),y.return=h,h=y):(i(h,y),y=ec(_,h.mode,M),y.return=h,h=y),s(h)):i(h,y)}return g}var Ga=Pw(!0),Iw=Pw(!1),hs={},oi=cr(hs),Zo=cr(hs),qo=cr(hs);function Cr(t){if(t===hs)throw Error(ye(174));return t}function yd(t,e){switch(lt(qo,e),lt(Zo,t),lt(oi,hs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zc(e,t)}ht(oi),lt(oi,e)}function Ha(){ht(oi),ht(Zo),ht(qo)}function Dw(t){Cr(qo.current);var e=Cr(oi.current),i=Zc(e,t.type);e!==i&&(lt(Zo,t),lt(oi,i))}function _d(t){Zo.current===t&&(ht(oi),ht(Zo))}var gt=cr(0);function Ul(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yu=[];function xd(){for(var t=0;t<Yu.length;t++)Yu[t]._workInProgressVersionPrimary=null;Yu.length=0}var pl=Pi.ReactCurrentDispatcher,Zu=Pi.ReactCurrentBatchConfig,Br=0,wt=null,At=null,Ut=null,Ol=!1,Io=!1,Jo=0,Cy=0;function Vt(){throw Error(ye(321))}function Md(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Jn(t[i],e[i]))return!1;return!0}function Td(t,e,i,r,a,o){if(Br=o,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pl.current=t===null||t.memoizedState===null?Iy:Dy,t=i(r,a),Io){o=0;do{if(Io=!1,Jo=0,25<=o)throw Error(ye(301));o+=1,Ut=At=null,e.updateQueue=null,pl.current=Ly,t=i(r,a)}while(Io)}if(pl.current=Bl,e=At!==null&&At.next!==null,Br=0,Ut=At=wt=null,Ol=!1,e)throw Error(ye(300));return t}function Ed(){var t=Jo!==0;return Jo=0,t}function ti(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?wt.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function On(){if(At===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var e=Ut===null?wt.memoizedState:Ut.next;if(e!==null)Ut=e,At=t;else{if(t===null)throw Error(ye(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Ut===null?wt.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function $o(t,e){return typeof e=="function"?e(t):e}function qu(t){var e=On(),i=e.queue;if(i===null)throw Error(ye(311));i.lastRenderedReducer=t;var r=At,a=r.baseQueue,o=i.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,i.pending=null}if(a!==null){o=a.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((Br&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,s=r):u=u.next=f,wt.lanes|=d,zr|=d}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=l,Jn(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,i.lastRenderedState=r}if(t=i.interleaved,t!==null){a=t;do o=a.lane,wt.lanes|=o,zr|=o,a=a.next;while(a!==t)}else a===null&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function Ju(t){var e=On(),i=e.queue;if(i===null)throw Error(ye(311));i.lastRenderedReducer=t;var r=i.dispatch,a=i.pending,o=e.memoizedState;if(a!==null){i.pending=null;var s=a=a.next;do o=t(o,s.action),s=s.next;while(s!==a);Jn(o,e.memoizedState)||(hn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),i.lastRenderedState=o}return[o,r]}function Lw(){}function Nw(t,e){var i=wt,r=On(),a=e(),o=!Jn(r.memoizedState,a);if(o&&(r.memoizedState=a,hn=!0),r=r.queue,bd(Ow.bind(null,i,r,t),[t]),r.getSnapshot!==e||o||Ut!==null&&Ut.memoizedState.tag&1){if(i.flags|=2048,Qo(9,Uw.bind(null,i,r,a,e),void 0,null),Ot===null)throw Error(ye(349));Br&30||Fw(i,e,a)}return a}function Fw(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function Uw(t,e,i,r){e.value=i,e.getSnapshot=r,Bw(e)&&zw(t)}function Ow(t,e,i){return i(function(){Bw(e)&&zw(t)})}function Bw(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Jn(t,i)}catch{return!0}}function zw(t){var e=bi(t,1);e!==null&&Zn(e,t,1,-1)}function Zf(t){var e=ti();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:t},e.queue=t,t=t.dispatch=Py.bind(null,wt,t),[e.memoizedState,t]}function Qo(t,e,i,r){return t={tag:t,create:e,destroy:i,deps:r,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t)),t}function Gw(){return On().memoizedState}function ml(t,e,i,r){var a=ti();wt.flags|=t,a.memoizedState=Qo(1|e,i,void 0,r===void 0?null:r)}function cu(t,e,i,r){var a=On();r=r===void 0?null:r;var o=void 0;if(At!==null){var s=At.memoizedState;if(o=s.destroy,r!==null&&Md(r,s.deps)){a.memoizedState=Qo(e,i,o,r);return}}wt.flags|=t,a.memoizedState=Qo(1|e,i,o,r)}function qf(t,e){return ml(8390656,8,t,e)}function bd(t,e){return cu(2048,8,t,e)}function Hw(t,e){return cu(4,2,t,e)}function Ww(t,e){return cu(4,4,t,e)}function Vw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jw(t,e,i){return i=i!=null?i.concat([t]):null,cu(4,4,Vw.bind(null,e,t),i)}function kd(){}function Kw(t,e){var i=On();e=e===void 0?null:e;var r=i.memoizedState;return r!==null&&e!==null&&Md(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function Xw(t,e){var i=On();e=e===void 0?null:e;var r=i.memoizedState;return r!==null&&e!==null&&Md(e,r[1])?r[0]:(t=t(),i.memoizedState=[t,e],t)}function Yw(t,e,i){return Br&21?(Jn(i,e)||(i=Jg(),wt.lanes|=i,zr|=i,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=i)}function Ay(t,e){var i=at;at=i!==0&&4>i?i:4,t(!0);var r=Zu.transition;Zu.transition={};try{t(!1),e()}finally{at=i,Zu.transition=r}}function Zw(){return On().memoizedState}function Ry(t,e,i){var r=er(t);if(i={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null},qw(t))Jw(e,i);else if(i=kw(t,e,i,r),i!==null){var a=an();Zn(i,t,r,a),$w(i,e,r)}}function Py(t,e,i){var r=er(t),a={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null};if(qw(t))Jw(e,a);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,i);if(a.hasEagerState=!0,a.eagerState=l,Jn(l,s)){var u=e.interleaved;u===null?(a.next=a,vd(e)):(a.next=u.next,u.next=a),e.interleaved=a;return}}catch{}finally{}i=kw(t,e,a,r),i!==null&&(a=an(),Zn(i,t,r,a),$w(i,e,r))}}function qw(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function Jw(t,e){Io=Ol=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function $w(t,e,i){if(i&4194240){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,rd(t,i)}}var Bl={readContext:Un,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},Iy={readContext:Un,useCallback:function(t,e){return ti().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:qf,useImperativeHandle:function(t,e,i){return i=i!=null?i.concat([t]):null,ml(4194308,4,Vw.bind(null,e,t),i)},useLayoutEffect:function(t,e){return ml(4194308,4,t,e)},useInsertionEffect:function(t,e){return ml(4,2,t,e)},useMemo:function(t,e){var i=ti();return e=e===void 0?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var r=ti();return e=i!==void 0?i(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ry.bind(null,wt,t),[r.memoizedState,t]},useRef:function(t){var e=ti();return t={current:t},e.memoizedState=t},useState:Zf,useDebugValue:kd,useDeferredValue:function(t){return ti().memoizedState=t},useTransition:function(){var t=Zf(!1),e=t[0];return t=Ay.bind(null,t[1]),ti().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var r=wt,a=ti();if(ft){if(i===void 0)throw Error(ye(407));i=i()}else{if(i=e(),Ot===null)throw Error(ye(349));Br&30||Fw(r,e,i)}a.memoizedState=i;var o={value:i,getSnapshot:e};return a.queue=o,qf(Ow.bind(null,r,o,t),[t]),r.flags|=2048,Qo(9,Uw.bind(null,r,o,i,e),void 0,null),i},useId:function(){var t=ti(),e=Ot.identifierPrefix;if(ft){var i=_i,r=yi;i=(r&~(1<<32-Yn(r)-1)).toString(32)+i,e=":"+e+"R"+i,i=Jo++,0<i&&(e+="H"+i.toString(32)),e+=":"}else i=Cy++,e=":"+e+"r"+i.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Dy={readContext:Un,useCallback:Kw,useContext:Un,useEffect:bd,useImperativeHandle:jw,useInsertionEffect:Hw,useLayoutEffect:Ww,useMemo:Xw,useReducer:qu,useRef:Gw,useState:function(){return qu($o)},useDebugValue:kd,useDeferredValue:function(t){var e=On();return Yw(e,At.memoizedState,t)},useTransition:function(){var t=qu($o)[0],e=On().memoizedState;return[t,e]},useMutableSource:Lw,useSyncExternalStore:Nw,useId:Zw,unstable_isNewReconciler:!1},Ly={readContext:Un,useCallback:Kw,useContext:Un,useEffect:bd,useImperativeHandle:jw,useInsertionEffect:Hw,useLayoutEffect:Ww,useMemo:Xw,useReducer:Ju,useRef:Gw,useState:function(){return Ju($o)},useDebugValue:kd,useDeferredValue:function(t){var e=On();return At===null?e.memoizedState=t:Yw(e,At.memoizedState,t)},useTransition:function(){var t=Ju($o)[0],e=On().memoizedState;return[t,e]},useMutableSource:Lw,useSyncExternalStore:Nw,useId:Zw,unstable_isNewReconciler:!1};function Wa(t,e){try{var i="",r=e;do i+=lS(r),r=r.return;while(r);var a=i}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:a,digest:null}}function $u(t,e,i){return{value:t,source:null,stack:i??null,digest:e??null}}function vh(t,e){try{console.error(e.value)}catch(i){setTimeout(function(){throw i})}}var Ny=typeof WeakMap=="function"?WeakMap:Map;function Qw(t,e,i){i=Mi(-1,i),i.tag=3,i.payload={element:null};var r=e.value;return i.callback=function(){Gl||(Gl=!0,Ch=r),vh(t,e)},i}function e0(t,e,i){i=Mi(-1,i),i.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var a=e.value;i.payload=function(){return r(a)},i.callback=function(){vh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(i.callback=function(){vh(t,e),typeof r!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),i}function Jf(t,e,i){var r=t.pingCache;if(r===null){r=t.pingCache=new Ny;var a=new Set;r.set(e,a)}else a=r.get(e),a===void 0&&(a=new Set,r.set(e,a));a.has(i)||(a.add(i),t=Zy.bind(null,t,e,i),e.then(t,t))}function $f(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Qf(t,e,i,r,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(e=Mi(-1,1),e.tag=2,$i(i,e,1))),i.lanes|=1),t)}var Fy=Pi.ReactCurrentOwner,hn=!1;function nn(t,e,i,r){e.child=t===null?Iw(e,null,i,r):Ga(e,t.child,i,r)}function ep(t,e,i,r,a){i=i.render;var o=e.ref;return Da(e,a),r=Td(t,e,i,r,o,a),i=Ed(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,ki(t,e,a)):(ft&&i&&dd(e),e.flags|=1,nn(t,e,r,a),e.child)}function tp(t,e,i,r,a){if(t===null){var o=i.type;return typeof o=="function"&&!Nd(o)&&o.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=o,t0(t,e,o,r,a)):(t=Sl(i.type,null,r,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&a)){var s=o.memoizedProps;if(i=i.compare,i=i!==null?i:jo,i(s,r)&&t.ref===e.ref)return ki(t,e,a)}return e.flags|=1,t=tr(o,r),t.ref=e.ref,t.return=e,e.child=t}function t0(t,e,i,r,a){if(t!==null){var o=t.memoizedProps;if(jo(o,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=o,(t.lanes&a)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,ki(t,e,a)}return Sh(t,e,i,r,a)}function n0(t,e,i){var r=e.pendingProps,a=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Ea,yn),yn|=i;else{if(!(i&1073741824))return t=o!==null?o.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(Ea,yn),yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:i,lt(Ea,yn),yn|=r}else o!==null?(r=o.baseLanes|i,e.memoizedState=null):r=i,lt(Ea,yn),yn|=r;return nn(t,e,a,i),e.child}function i0(t,e){var i=e.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function Sh(t,e,i,r,a){var o=fn(i)?Ur:$t.current;return o=Ba(e,o),Da(e,a),i=Td(t,e,i,r,o,a),r=Ed(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,ki(t,e,a)):(ft&&r&&dd(e),e.flags|=1,nn(t,e,i,a),e.child)}function np(t,e,i,r,a){if(fn(i)){var o=!0;Pl(e)}else o=!1;if(Da(e,a),e.stateNode===null)gl(t,e),Rw(e,i,r),wh(e,i,r,a),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,c=i.contextType;typeof c=="object"&&c!==null?c=Un(c):(c=fn(i)?Ur:$t.current,c=Ba(e,c));var d=i.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Xf(e,s,r,c),zi=!1;var p=e.memoizedState;s.state=p,Fl(e,r,s,a),u=e.memoizedState,l!==r||p!==u||dn.current||zi?(typeof d=="function"&&(gh(e,i,d,r),u=e.memoizedState),(l=zi||Kf(e,i,l,r,p,u,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Cw(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Wn(e.type,l),s.props=c,f=e.pendingProps,p=s.context,u=i.contextType,typeof u=="object"&&u!==null?u=Un(u):(u=fn(i)?Ur:$t.current,u=Ba(e,u));var m=i.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||p!==u)&&Xf(e,s,r,u),zi=!1,p=e.memoizedState,s.state=p,Fl(e,r,s,a);var S=e.memoizedState;l!==f||p!==S||dn.current||zi?(typeof m=="function"&&(gh(e,i,m,r),S=e.memoizedState),(c=zi||Kf(e,i,c,r,p,S,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,S,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,S,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),s.props=r,s.state=S,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return yh(t,e,i,r,o,a)}function yh(t,e,i,r,a,o){i0(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return a&&Gf(e,i,!1),ki(t,e,o);r=e.stateNode,Fy.current=e;var l=s&&typeof i.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ga(e,t.child,null,o),e.child=Ga(e,null,l,o)):nn(t,e,l,o),e.memoizedState=r.state,a&&Gf(e,i,!0),e.child}function r0(t){var e=t.stateNode;e.pendingContext?zf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zf(t,e.context,!1),yd(t,e.containerInfo)}function ip(t,e,i,r,a){return za(),pd(a),e.flags|=256,nn(t,e,i,r),e.child}var _h={dehydrated:null,treeContext:null,retryLane:0};function xh(t){return{baseLanes:t,cachePool:null,transitions:null}}function a0(t,e,i){var r=e.pendingProps,a=gt.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),lt(gt,a&1),t===null)return ph(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=fu(s,r,0,null),t=Ir(t,r,i,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=xh(i),e.memoizedState=_h,t):Cd(e,s));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Uy(t,e,s,r,l,a,i);if(o){o=r.fallback,s=e.mode,a=t.child,l=a.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==a?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=tr(a,u),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=tr(l,o):(o=Ir(o,s,i,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?xh(i):{baseLanes:s.baseLanes|i,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~i,e.memoizedState=_h,r}return o=t.child,t=o.sibling,r=tr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=i),r.return=e,r.sibling=null,t!==null&&(i=e.deletions,i===null?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=r,e.memoizedState=null,r}function Cd(t,e){return e=fu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rs(t,e,i,r){return r!==null&&pd(r),Ga(e,t.child,null,i),t=Cd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Uy(t,e,i,r,a,o,s){if(i)return e.flags&256?(e.flags&=-257,r=$u(Error(ye(422))),Rs(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,a=e.mode,r=fu({mode:"visible",children:r.children},a,0,null),o=Ir(o,a,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ga(e,t.child,null,s),e.child.memoizedState=xh(s),e.memoizedState=_h,o);if(!(e.mode&1))return Rs(t,e,s,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(ye(419)),r=$u(o,r,void 0),Rs(t,e,s,r)}if(l=(s&t.childLanes)!==0,hn||l){if(r=Ot,r!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|s)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,bi(t,a),Zn(r,t,a,-1))}return Ld(),r=$u(Error(ye(421))),Rs(t,e,s,r)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=qy.bind(null,t),a._reactRetry=e,null):(t=o.treeContext,xn=Ji(a.nextSibling),Mn=e,ft=!0,jn=null,t!==null&&(Pn[In++]=yi,Pn[In++]=_i,Pn[In++]=Or,yi=t.id,_i=t.overflow,Or=e),e=Cd(e,r.children),e.flags|=4096,e)}function rp(t,e,i){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mh(t.return,e,i)}function Qu(t,e,i,r,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=i,o.tailMode=a)}function o0(t,e,i){var r=e.pendingProps,a=r.revealOrder,o=r.tail;if(nn(t,e,r.children,i),r=gt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rp(t,i,e);else if(t.tag===19)rp(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(gt,r),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(i=e.child,a=null;i!==null;)t=i.alternate,t!==null&&Ul(t)===null&&(a=i),i=i.sibling;i=a,i===null?(a=e.child,e.child=null):(a=i.sibling,i.sibling=null),Qu(e,!1,a,i,o);break;case"backwards":for(i=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Ul(t)===null){e.child=a;break}t=a.sibling,a.sibling=i,i=a,a=t}Qu(e,!0,i,null,o);break;case"together":Qu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ki(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),zr|=e.lanes,!(i&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ye(153));if(e.child!==null){for(t=e.child,i=tr(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=tr(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Oy(t,e,i){switch(e.tag){case 3:r0(e),za();break;case 5:Dw(e);break;case 1:fn(e.type)&&Pl(e);break;case 4:yd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,a=e.memoizedProps.value;lt(Ll,r._currentValue),r._currentValue=a;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(gt,gt.current&1),e.flags|=128,null):i&e.child.childLanes?a0(t,e,i):(lt(gt,gt.current&1),t=ki(t,e,i),t!==null?t.sibling:null);lt(gt,gt.current&1);break;case 19:if(r=(i&e.childLanes)!==0,t.flags&128){if(r)return o0(t,e,i);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),lt(gt,gt.current),r)break;return null;case 22:case 23:return e.lanes=0,n0(t,e,i)}return ki(t,e,i)}var s0,Mh,l0,u0;s0=function(t,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Mh=function(){};l0=function(t,e,i,r){var a=t.memoizedProps;if(a!==r){t=e.stateNode,Cr(oi.current);var o=null;switch(i){case"input":a=jc(t,a),r=jc(t,r),o=[];break;case"select":a=vt({},a,{value:void 0}),r=vt({},r,{value:void 0}),o=[];break;case"textarea":a=Yc(t,a),r=Yc(t,r),o=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Al)}qc(i,r);var s;i=null;for(c in a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var l=a[c];for(s in l)l.hasOwnProperty(s)&&(i||(i={}),i[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Oo.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=a!=null?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(i||(i={}),i[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(i||(i={}),i[s]=u[s])}else i||(o||(o=[]),o.push(c,i)),i=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Oo.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ut("scroll",t),o||l===u||(o=[])):(o=o||[]).push(c,u))}i&&(o=o||[]).push("style",i);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};u0=function(t,e,i,r){i!==r&&(e.flags|=4)};function co(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,r=0;if(e)for(var a=t.child;a!==null;)i|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)i|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=i,e}function By(t,e,i){var r=e.pendingProps;switch(fd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return fn(e.type)&&Rl(),jt(e),null;case 3:return r=e.stateNode,Ha(),ht(dn),ht($t),xd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jn!==null&&(Ph(jn),jn=null))),Mh(t,e),jt(e),null;case 5:_d(e);var a=Cr(qo.current);if(i=e.type,t!==null&&e.stateNode!=null)l0(t,e,i,r,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ye(166));return jt(e),null}if(t=Cr(oi.current),Cs(e)){r=e.stateNode,i=e.type;var o=e.memoizedProps;switch(r[ii]=e,r[Yo]=o,t=(e.mode&1)!==0,i){case"dialog":ut("cancel",r),ut("close",r);break;case"iframe":case"object":case"embed":ut("load",r);break;case"video":case"audio":for(a=0;a<Eo.length;a++)ut(Eo[a],r);break;case"source":ut("error",r);break;case"img":case"image":case"link":ut("error",r),ut("load",r);break;case"details":ut("toggle",r);break;case"input":ff(r,o),ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ut("invalid",r);break;case"textarea":mf(r,o),ut("invalid",r)}qc(i,o),a=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&ks(r.textContent,l,t),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ks(r.textContent,l,t),a=["children",""+l]):Oo.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ut("scroll",r)}switch(i){case"input":Ss(r),pf(r,o,!0);break;case"textarea":Ss(r),gf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Al)}r=a,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fg(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(i,{is:r.is}):(t=s.createElement(i),i==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,i),t[ii]=e,t[Yo]=r,s0(t,e,!1,!1),e.stateNode=t;e:{switch(s=Jc(i,r),i){case"dialog":ut("cancel",t),ut("close",t),a=r;break;case"iframe":case"object":case"embed":ut("load",t),a=r;break;case"video":case"audio":for(a=0;a<Eo.length;a++)ut(Eo[a],t);a=r;break;case"source":ut("error",t),a=r;break;case"img":case"image":case"link":ut("error",t),ut("load",t),a=r;break;case"details":ut("toggle",t),a=r;break;case"input":ff(t,r),a=jc(t,r),ut("invalid",t);break;case"option":a=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=vt({},r,{value:void 0}),ut("invalid",t);break;case"textarea":mf(t,r),a=Yc(t,r),ut("invalid",t);break;default:a=r}qc(i,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?Bg(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ug(t,u)):o==="children"?typeof u=="string"?(i!=="textarea"||u!=="")&&Bo(t,u):typeof u=="number"&&Bo(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Oo.hasOwnProperty(o)?u!=null&&o==="onScroll"&&ut("scroll",t):u!=null&&$h(t,o,u,s))}switch(i){case"input":Ss(t),pf(t,r,!1);break;case"textarea":Ss(t),gf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+or(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Aa(t,!!r.multiple,o,!1):r.defaultValue!=null&&Aa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Al)}switch(i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)u0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ye(166));if(i=Cr(qo.current),Cr(oi.current),Cs(e)){if(r=e.stateNode,i=e.memoizedProps,r[ii]=e,(o=r.nodeValue!==i)&&(t=Mn,t!==null))switch(t.tag){case 3:ks(r.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ks(r.nodeValue,i,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(i.nodeType===9?i:i.ownerDocument).createTextNode(r),r[ii]=e,e.stateNode=r}return jt(e),null;case 13:if(ht(gt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&xn!==null&&e.mode&1&&!(e.flags&128))bw(),za(),e.flags|=98560,o=!1;else if(o=Cs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ye(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ye(317));o[ii]=e}else za(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),o=!1}else jn!==null&&(Ph(jn),jn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=i,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||gt.current&1?Pt===0&&(Pt=3):Ld())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return Ha(),Mh(t,e),t===null&&Ko(e.stateNode.containerInfo),jt(e),null;case 10:return wd(e.type._context),jt(e),null;case 17:return fn(e.type)&&Rl(),jt(e),null;case 19:if(ht(gt),o=e.memoizedState,o===null)return jt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)co(o,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ul(t),s!==null){for(e.flags|=128,co(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=i,i=e.child;i!==null;)o=i,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return lt(gt,gt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Tt()>Va&&(e.flags|=128,r=!0,co(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ul(s),t!==null){if(e.flags|=128,r=!0,i=t.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),co(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ft)return jt(e),null}else 2*Tt()-o.renderingStartTime>Va&&i!==1073741824&&(e.flags|=128,r=!0,co(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(i=o.last,i!==null?i.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Tt(),e.sibling=null,i=gt.current,lt(gt,r?i&1|2:i&1),e):(jt(e),null);case 22:case 23:return Dd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yn&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(ye(156,e.tag))}function zy(t,e){switch(fd(e),e.tag){case 1:return fn(e.type)&&Rl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ha(),ht(dn),ht($t),xd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _d(e),null;case 13:if(ht(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ye(340));za()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ht(gt),null;case 4:return Ha(),null;case 10:return wd(e.type._context),null;case 22:case 23:return Dd(),null;case 24:return null;default:return null}}var Ps=!1,Zt=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Ta(t,e){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(r){yt(t,e,r)}else i.current=null}function Th(t,e,i){try{i()}catch(r){yt(t,e,r)}}var ap=!1;function Hy(t,e){if(sh=bl,t=fw(),hd(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{i.nodeType,o.nodeType}catch{i=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var m;f!==i||a!==0&&f.nodeType!==3||(l=s+a),f!==o||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===i&&++c===a&&(l=s),p===o&&++d===r&&(u=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}i=l===-1||u===-1?null:{start:l,end:u}}else i=null}i=i||{start:0,end:0}}else i=null;for(lh={focusedElem:t,selectionRange:i},bl=!1,Pe=e;Pe!==null;)if(e=Pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pe=t;else for(;Pe!==null;){e=Pe;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var v=S.memoizedProps,g=S.memoizedState,h=e.stateNode,y=h.getSnapshotBeforeUpdate(e.elementType===e.type?v:Wn(e.type,v),g);h.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(M){yt(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}return S=ap,ap=!1,S}function Do(t,e,i){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var o=a.destroy;a.destroy=void 0,o!==void 0&&Th(e,i,o)}a=a.next}while(a!==r)}}function hu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&t)===t){var r=i.create;i.destroy=r()}i=i.next}while(i!==e)}}function Eh(t){var e=t.ref;if(e!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof e=="function"?e(t):e.current=t}}function c0(t){var e=t.alternate;e!==null&&(t.alternate=null,c0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ii],delete e[Yo],delete e[hh],delete e[Ty],delete e[Ey])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function h0(t){return t.tag===5||t.tag===3||t.tag===4}function op(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bh(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.nodeType===8?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(t,i)):(e=i,e.appendChild(t)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Al));else if(r!==4&&(t=t.child,t!==null))for(bh(t,e,i),t=t.sibling;t!==null;)bh(t,e,i),t=t.sibling}function kh(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kh(t,e,i),t=t.sibling;t!==null;)kh(t,e,i),t=t.sibling}var zt=null,Vn=!1;function Ii(t,e,i){for(i=i.child;i!==null;)d0(t,e,i),i=i.sibling}function d0(t,e,i){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount(iu,i)}catch{}switch(i.tag){case 5:Zt||Ta(i,e);case 6:var r=zt,a=Vn;zt=null,Ii(t,e,i),zt=r,Vn=a,zt!==null&&(Vn?(t=zt,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):zt.removeChild(i.stateNode));break;case 18:zt!==null&&(Vn?(t=zt,i=i.stateNode,t.nodeType===8?Ku(t.parentNode,i):t.nodeType===1&&Ku(t,i),Wo(t)):Ku(zt,i.stateNode));break;case 4:r=zt,a=Vn,zt=i.stateNode.containerInfo,Vn=!0,Ii(t,e,i),zt=r,Vn=a;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=i.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var o=a,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Th(i,e,s),a=a.next}while(a!==r)}Ii(t,e,i);break;case 1:if(!Zt&&(Ta(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(l){yt(i,e,l)}Ii(t,e,i);break;case 21:Ii(t,e,i);break;case 22:i.mode&1?(Zt=(r=Zt)||i.memoizedState!==null,Ii(t,e,i),Zt=r):Ii(t,e,i);break;default:Ii(t,e,i)}}function sp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new Gy),e.forEach(function(r){var a=Jy.bind(null,t,r);i.has(r)||(i.add(r),r.then(a,a))})}}function Bn(t,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var a=i[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:zt=l.stateNode,Vn=!1;break e;case 3:zt=l.stateNode.containerInfo,Vn=!0;break e;case 4:zt=l.stateNode.containerInfo,Vn=!0;break e}l=l.return}if(zt===null)throw Error(ye(160));d0(o,s,a),zt=null,Vn=!1;var u=a.alternate;u!==null&&(u.return=null),a.return=null}catch(c){yt(a,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)f0(e,t),e=e.sibling}function f0(t,e){var i=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bn(e,t),$n(t),r&4){try{Do(3,t,t.return),hu(3,t)}catch(v){yt(t,t.return,v)}try{Do(5,t,t.return)}catch(v){yt(t,t.return,v)}}break;case 1:Bn(e,t),$n(t),r&512&&i!==null&&Ta(i,i.return);break;case 5:if(Bn(e,t),$n(t),r&512&&i!==null&&Ta(i,i.return),t.flags&32){var a=t.stateNode;try{Bo(a,"")}catch(v){yt(t,t.return,v)}}if(r&4&&(a=t.stateNode,a!=null)){var o=t.memoizedProps,s=i!==null?i.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Lg(a,o),Jc(l,s);var c=Jc(l,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];d==="style"?Bg(a,f):d==="dangerouslySetInnerHTML"?Ug(a,f):d==="children"?Bo(a,f):$h(a,d,f,c)}switch(l){case"input":Kc(a,o);break;case"textarea":Ng(a,o);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Aa(a,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Aa(a,!!o.multiple,o.defaultValue,!0):Aa(a,!!o.multiple,o.multiple?[]:"",!1))}a[Yo]=o}catch(v){yt(t,t.return,v)}}break;case 6:if(Bn(e,t),$n(t),r&4){if(t.stateNode===null)throw Error(ye(162));a=t.stateNode,o=t.memoizedProps;try{a.nodeValue=o}catch(v){yt(t,t.return,v)}}break;case 3:if(Bn(e,t),$n(t),r&4&&i!==null&&i.memoizedState.isDehydrated)try{Wo(e.containerInfo)}catch(v){yt(t,t.return,v)}break;case 4:Bn(e,t),$n(t);break;case 13:Bn(e,t),$n(t),a=t.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Pd=Tt())),r&4&&sp(t);break;case 22:if(d=i!==null&&i.memoizedState!==null,t.mode&1?(Zt=(c=Zt)||d,Bn(e,t),Zt=c):Bn(e,t),$n(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Pe=t,d=t.child;d!==null;){for(f=Pe=d;Pe!==null;){switch(p=Pe,m=p.child,p.tag){case 0:case 11:case 14:case 15:Do(4,p,p.return);break;case 1:Ta(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,i=p.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(v){yt(r,i,v)}}break;case 5:Ta(p,p.return);break;case 22:if(p.memoizedState!==null){up(f);continue}}m!==null?(m.return=p,Pe=m):up(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Og("display",s))}catch(v){yt(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){yt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bn(e,t),$n(t),r&4&&sp(t);break;case 21:break;default:Bn(e,t),$n(t)}}function $n(t){var e=t.flags;if(e&2){try{e:{for(var i=t.return;i!==null;){if(h0(i)){var r=i;break e}i=i.return}throw Error(ye(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Bo(a,""),r.flags&=-33);var o=op(t);kh(t,o,a);break;case 3:case 4:var s=r.stateNode.containerInfo,l=op(t);bh(t,l,s);break;default:throw Error(ye(161))}}catch(u){yt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Wy(t,e,i){Pe=t,p0(t)}function p0(t,e,i){for(var r=(t.mode&1)!==0;Pe!==null;){var a=Pe,o=a.child;if(a.tag===22&&r){var s=a.memoizedState!==null||Ps;if(!s){var l=a.alternate,u=l!==null&&l.memoizedState!==null||Zt;l=Ps;var c=Zt;if(Ps=s,(Zt=u)&&!c)for(Pe=a;Pe!==null;)s=Pe,u=s.child,s.tag===22&&s.memoizedState!==null?cp(a):u!==null?(u.return=s,Pe=u):cp(a);for(;o!==null;)Pe=o,p0(o),o=o.sibling;Pe=a,Ps=l,Zt=c}lp(t)}else a.subtreeFlags&8772&&o!==null?(o.return=a,Pe=o):lp(t)}}function lp(t){for(;Pe!==null;){var e=Pe;if(e.flags&8772){var i=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zt||hu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zt)if(i===null)r.componentDidMount();else{var a=e.elementType===e.type?i.memoizedProps:Wn(e.type,i.memoizedProps);r.componentDidUpdate(a,i.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&jf(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(i=null,e.child!==null)switch(e.child.tag){case 5:i=e.child.stateNode;break;case 1:i=e.child.stateNode}jf(e,s,i)}break;case 5:var l=e.stateNode;if(i===null&&e.flags&4){i=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&i.focus();break;case"img":u.src&&(i.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Wo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}Zt||e.flags&512&&Eh(e)}catch(p){yt(e,e.return,p)}}if(e===t){Pe=null;break}if(i=e.sibling,i!==null){i.return=e.return,Pe=i;break}Pe=e.return}}function up(t){for(;Pe!==null;){var e=Pe;if(e===t){Pe=null;break}var i=e.sibling;if(i!==null){i.return=e.return,Pe=i;break}Pe=e.return}}function cp(t){for(;Pe!==null;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{hu(4,e)}catch(u){yt(e,i,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var a=e.return;try{r.componentDidMount()}catch(u){yt(e,a,u)}}var o=e.return;try{Eh(e)}catch(u){yt(e,o,u)}break;case 5:var s=e.return;try{Eh(e)}catch(u){yt(e,s,u)}}}catch(u){yt(e,e.return,u)}if(e===t){Pe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Pe=l;break}Pe=e.return}}var Vy=Math.ceil,zl=Pi.ReactCurrentDispatcher,Ad=Pi.ReactCurrentOwner,Fn=Pi.ReactCurrentBatchConfig,nt=0,Ot=null,kt=null,Gt=0,yn=0,Ea=cr(0),Pt=0,es=null,zr=0,du=0,Rd=0,Lo=null,cn=null,Pd=0,Va=1/0,mi=null,Gl=!1,Ch=null,Qi=null,Is=!1,ji=null,Hl=0,No=0,Ah=null,wl=-1,vl=0;function an(){return nt&6?Tt():wl!==-1?wl:wl=Tt()}function er(t){return t.mode&1?nt&2&&Gt!==0?Gt&-Gt:ky.transition!==null?(vl===0&&(vl=Jg()),vl):(t=at,t!==0||(t=window.event,t=t===void 0?16:rw(t.type)),t):1}function Zn(t,e,i,r){if(50<No)throw No=0,Ah=null,Error(ye(185));ls(t,i,r),(!(nt&2)||t!==Ot)&&(t===Ot&&(!(nt&2)&&(du|=i),Pt===4&&Wi(t,Gt)),pn(t,r),i===1&&nt===0&&!(e.mode&1)&&(Va=Tt()+500,lu&&hr()))}function pn(t,e){var i=t.callbackNode;kS(t,e);var r=El(t,t===Ot?Gt:0);if(r===0)i!==null&&Sf(i),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(i!=null&&Sf(i),e===1)t.tag===0?by(hp.bind(null,t)):Mw(hp.bind(null,t)),xy(function(){!(nt&6)&&hr()}),i=null;else{switch($g(r)){case 1:i=id;break;case 4:i=Zg;break;case 16:i=Tl;break;case 536870912:i=qg;break;default:i=Tl}i=x0(i,m0.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function m0(t,e){if(wl=-1,vl=0,nt&6)throw Error(ye(327));var i=t.callbackNode;if(La()&&t.callbackNode!==i)return null;var r=El(t,t===Ot?Gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wl(t,r);else{e=r;var a=nt;nt|=2;var o=w0();(Ot!==t||Gt!==e)&&(mi=null,Va=Tt()+500,Pr(t,e));do try{Xy();break}catch(l){g0(t,l)}while(!0);gd(),zl.current=o,nt=a,kt!==null?e=0:(Ot=null,Gt=0,e=Pt)}if(e!==0){if(e===2&&(a=nh(t),a!==0&&(r=a,e=Rh(t,a))),e===1)throw i=es,Pr(t,0),Wi(t,r),pn(t,Tt()),i;if(e===6)Wi(t,r);else{if(a=t.current.alternate,!(r&30)&&!jy(a)&&(e=Wl(t,r),e===2&&(o=nh(t),o!==0&&(r=o,e=Rh(t,o))),e===1))throw i=es,Pr(t,0),Wi(t,r),pn(t,Tt()),i;switch(t.finishedWork=a,t.finishedLanes=r,e){case 0:case 1:throw Error(ye(345));case 2:yr(t,cn,mi);break;case 3:if(Wi(t,r),(r&130023424)===r&&(e=Pd+500-Tt(),10<e)){if(El(t,0)!==0)break;if(a=t.suspendedLanes,(a&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=ch(yr.bind(null,t,cn,mi),e);break}yr(t,cn,mi);break;case 4:if(Wi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,a=-1;0<r;){var s=31-Yn(r);o=1<<s,s=e[s],s>a&&(a=s),r&=~o}if(r=a,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vy(r/1960))-r,10<r){t.timeoutHandle=ch(yr.bind(null,t,cn,mi),r);break}yr(t,cn,mi);break;case 5:yr(t,cn,mi);break;default:throw Error(ye(329))}}}return pn(t,Tt()),t.callbackNode===i?m0.bind(null,t):null}function Rh(t,e){var i=Lo;return t.current.memoizedState.isDehydrated&&(Pr(t,e).flags|=256),t=Wl(t,e),t!==2&&(e=cn,cn=i,e!==null&&Ph(e)),t}function Ph(t){cn===null?cn=t:cn.push.apply(cn,t)}function jy(t){for(var e=t;;){if(e.flags&16384){var i=e.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var r=0;r<i.length;r++){var a=i[r],o=a.getSnapshot;a=a.value;try{if(!Jn(o(),a))return!1}catch{return!1}}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wi(t,e){for(e&=~Rd,e&=~du,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-Yn(e),r=1<<i;t[i]=-1,e&=~r}}function hp(t){if(nt&6)throw Error(ye(327));La();var e=El(t,0);if(!(e&1))return pn(t,Tt()),null;var i=Wl(t,e);if(t.tag!==0&&i===2){var r=nh(t);r!==0&&(e=r,i=Rh(t,r))}if(i===1)throw i=es,Pr(t,0),Wi(t,e),pn(t,Tt()),i;if(i===6)throw Error(ye(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yr(t,cn,mi),pn(t,Tt()),null}function Id(t,e){var i=nt;nt|=1;try{return t(e)}finally{nt=i,nt===0&&(Va=Tt()+500,lu&&hr())}}function Gr(t){ji!==null&&ji.tag===0&&!(nt&6)&&La();var e=nt;nt|=1;var i=Fn.transition,r=at;try{if(Fn.transition=null,at=1,t)return t()}finally{at=r,Fn.transition=i,nt=e,!(nt&6)&&hr()}}function Dd(){yn=Ea.current,ht(Ea)}function Pr(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,_y(i)),kt!==null)for(i=kt.return;i!==null;){var r=i;switch(fd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rl();break;case 3:Ha(),ht(dn),ht($t),xd();break;case 5:_d(r);break;case 4:Ha();break;case 13:ht(gt);break;case 19:ht(gt);break;case 10:wd(r.type._context);break;case 22:case 23:Dd()}i=i.return}if(Ot=t,kt=t=tr(t.current,null),Gt=yn=e,Pt=0,es=null,Rd=du=zr=0,cn=Lo=null,kr!==null){for(e=0;e<kr.length;e++)if(i=kr[e],r=i.interleaved,r!==null){i.interleaved=null;var a=r.next,o=i.pending;if(o!==null){var s=o.next;o.next=a,r.next=s}i.pending=r}kr=null}return t}function g0(t,e){do{var i=kt;try{if(gd(),pl.current=Bl,Ol){for(var r=wt.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Ol=!1}if(Br=0,Ut=At=wt=null,Io=!1,Jo=0,Ad.current=null,i===null||i.return===null){Pt=1,es=e,kt=null;break}e:{var o=t,s=i.return,l=i,u=e;if(e=Gt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=$f(s);if(m!==null){m.flags&=-257,Qf(m,s,l,o,e),m.mode&1&&Jf(o,c,e),e=m,u=c;var S=e.updateQueue;if(S===null){var v=new Set;v.add(u),e.updateQueue=v}else S.add(u);break e}else{if(!(e&1)){Jf(o,c,e),Ld();break e}u=Error(ye(426))}}else if(ft&&l.mode&1){var g=$f(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Qf(g,s,l,o,e),pd(Wa(u,l));break e}}o=u=Wa(u,l),Pt!==4&&(Pt=2),Lo===null?Lo=[o]:Lo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var h=Qw(o,u,e);Vf(o,h);break e;case 1:l=u;var y=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Qi===null||!Qi.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var M=e0(o,l,e);Vf(o,M);break e}}o=o.return}while(o!==null)}S0(i)}catch(A){e=A,kt===i&&i!==null&&(kt=i=i.return);continue}break}while(!0)}function w0(){var t=zl.current;return zl.current=Bl,t===null?Bl:t}function Ld(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Ot===null||!(zr&268435455)&&!(du&268435455)||Wi(Ot,Gt)}function Wl(t,e){var i=nt;nt|=2;var r=w0();(Ot!==t||Gt!==e)&&(mi=null,Pr(t,e));do try{Ky();break}catch(a){g0(t,a)}while(!0);if(gd(),nt=i,zl.current=r,kt!==null)throw Error(ye(261));return Ot=null,Gt=0,Pt}function Ky(){for(;kt!==null;)v0(kt)}function Xy(){for(;kt!==null&&!vS();)v0(kt)}function v0(t){var e=_0(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?S0(t):kt=e,Ad.current=null}function S0(t){var e=t;do{var i=e.alternate;if(t=e.return,e.flags&32768){if(i=zy(i,e),i!==null){i.flags&=32767,kt=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,kt=null;return}}else if(i=By(i,e,yn),i!==null){kt=i;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);Pt===0&&(Pt=5)}function yr(t,e,i){var r=at,a=Fn.transition;try{Fn.transition=null,at=1,Yy(t,e,i,r)}finally{Fn.transition=a,at=r}return null}function Yy(t,e,i,r){do La();while(ji!==null);if(nt&6)throw Error(ye(327));i=t.finishedWork;var a=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(ye(177));t.callbackNode=null,t.callbackPriority=0;var o=i.lanes|i.childLanes;if(CS(t,o),t===Ot&&(kt=Ot=null,Gt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Is||(Is=!0,x0(Tl,function(){return La(),null})),o=(i.flags&15990)!==0,i.subtreeFlags&15990||o){o=Fn.transition,Fn.transition=null;var s=at;at=1;var l=nt;nt|=4,Ad.current=null,Hy(t,i),f0(i,t),py(lh),bl=!!sh,lh=sh=null,t.current=i,Wy(i),SS(),nt=l,at=s,Fn.transition=o}else t.current=i;if(Is&&(Is=!1,ji=t,Hl=a),o=t.pendingLanes,o===0&&(Qi=null),xS(i.stateNode),pn(t,Tt()),e!==null)for(r=t.onRecoverableError,i=0;i<e.length;i++)a=e[i],r(a.value,{componentStack:a.stack,digest:a.digest});if(Gl)throw Gl=!1,t=Ch,Ch=null,t;return Hl&1&&t.tag!==0&&La(),o=t.pendingLanes,o&1?t===Ah?No++:(No=0,Ah=t):No=0,hr(),null}function La(){if(ji!==null){var t=$g(Hl),e=Fn.transition,i=at;try{if(Fn.transition=null,at=16>t?16:t,ji===null)var r=!1;else{if(t=ji,ji=null,Hl=0,nt&6)throw Error(ye(331));var a=nt;for(nt|=4,Pe=t.current;Pe!==null;){var o=Pe,s=o.child;if(Pe.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Pe=c;Pe!==null;){var d=Pe;switch(d.tag){case 0:case 11:case 15:Do(8,d,o)}var f=d.child;if(f!==null)f.return=d,Pe=f;else for(;Pe!==null;){d=Pe;var p=d.sibling,m=d.return;if(c0(d),d===c){Pe=null;break}if(p!==null){p.return=m,Pe=p;break}Pe=m}}}var S=o.alternate;if(S!==null){var v=S.child;if(v!==null){S.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}Pe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Pe=s;else e:for(;Pe!==null;){if(o=Pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Do(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,Pe=h;break e}Pe=o.return}}var y=t.current;for(Pe=y;Pe!==null;){s=Pe;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Pe=_;else e:for(s=y;Pe!==null;){if(l=Pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hu(9,l)}}catch(A){yt(l,l.return,A)}if(l===s){Pe=null;break e}var M=l.sibling;if(M!==null){M.return=l.return,Pe=M;break e}Pe=l.return}}if(nt=a,hr(),ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot(iu,t)}catch{}r=!0}return r}finally{at=i,Fn.transition=e}}return!1}function dp(t,e,i){e=Wa(i,e),e=Qw(t,e,1),t=$i(t,e,1),e=an(),t!==null&&(ls(t,1,e),pn(t,e))}function yt(t,e,i){if(t.tag===3)dp(t,t,i);else for(;e!==null;){if(e.tag===3){dp(e,t,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qi===null||!Qi.has(r))){t=Wa(i,t),t=e0(e,t,1),e=$i(e,t,1),t=an(),e!==null&&(ls(e,1,t),pn(e,t));break}}e=e.return}}function Zy(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&i,Ot===t&&(Gt&i)===i&&(Pt===4||Pt===3&&(Gt&130023424)===Gt&&500>Tt()-Pd?Pr(t,0):Rd|=i),pn(t,e)}function y0(t,e){e===0&&(t.mode&1?(e=xs,xs<<=1,!(xs&130023424)&&(xs=4194304)):e=1);var i=an();t=bi(t,e),t!==null&&(ls(t,e,i),pn(t,i))}function qy(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),y0(t,i)}function Jy(t,e){var i=0;switch(t.tag){case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(i=a.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ye(314))}r!==null&&r.delete(e),y0(t,i)}var _0;_0=function(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps||dn.current)hn=!0;else{if(!(t.lanes&i)&&!(e.flags&128))return hn=!1,Oy(t,e,i);hn=!!(t.flags&131072)}else hn=!1,ft&&e.flags&1048576&&Tw(e,Dl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gl(t,e),t=e.pendingProps;var a=Ba(e,$t.current);Da(e,i),a=Td(null,e,r,t,a,i);var o=Ed();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fn(r)?(o=!0,Pl(e)):o=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Sd(e),a.updater=uu,e.stateNode=a,a._reactInternals=e,wh(e,r,t,i),e=yh(null,e,r,!0,o,i)):(e.tag=0,ft&&o&&dd(e),nn(null,e,a,i),e=e.child),e;case 16:r=e.elementType;e:{switch(gl(t,e),t=e.pendingProps,a=r._init,r=a(r._payload),e.type=r,a=e.tag=Qy(r),t=Wn(r,t),a){case 0:e=Sh(null,e,r,t,i);break e;case 1:e=np(null,e,r,t,i);break e;case 11:e=ep(null,e,r,t,i);break e;case 14:e=tp(null,e,r,Wn(r.type,t),i);break e}throw Error(ye(306,r,""))}return e;case 0:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:Wn(r,a),Sh(t,e,r,a,i);case 1:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:Wn(r,a),np(t,e,r,a,i);case 3:e:{if(r0(e),t===null)throw Error(ye(387));r=e.pendingProps,o=e.memoizedState,a=o.element,Cw(t,e),Fl(e,r,null,i);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){a=Wa(Error(ye(423)),e),e=ip(t,e,r,i,a);break e}else if(r!==a){a=Wa(Error(ye(424)),e),e=ip(t,e,r,i,a);break e}else for(xn=Ji(e.stateNode.containerInfo.firstChild),Mn=e,ft=!0,jn=null,i=Iw(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(za(),r===a){e=ki(t,e,i);break e}nn(t,e,r,i)}e=e.child}return e;case 5:return Dw(e),t===null&&ph(e),r=e.type,a=e.pendingProps,o=t!==null?t.memoizedProps:null,s=a.children,uh(r,a)?s=null:o!==null&&uh(r,o)&&(e.flags|=32),i0(t,e),nn(t,e,s,i),e.child;case 6:return t===null&&ph(e),null;case 13:return a0(t,e,i);case 4:return yd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ga(e,null,r,i):nn(t,e,r,i),e.child;case 11:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:Wn(r,a),ep(t,e,r,a,i);case 7:return nn(t,e,e.pendingProps,i),e.child;case 8:return nn(t,e,e.pendingProps.children,i),e.child;case 12:return nn(t,e,e.pendingProps.children,i),e.child;case 10:e:{if(r=e.type._context,a=e.pendingProps,o=e.memoizedProps,s=a.value,lt(Ll,r._currentValue),r._currentValue=s,o!==null)if(Jn(o.value,s)){if(o.children===a.children&&!dn.current){e=ki(t,e,i);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Mi(-1,i&-i),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=i,u=o.alternate,u!==null&&(u.lanes|=i),mh(o.return,i,e),l.lanes|=i;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ye(341));s.lanes|=i,l=s.alternate,l!==null&&(l.lanes|=i),mh(s,i,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}nn(t,e,a.children,i),e=e.child}return e;case 9:return a=e.type,r=e.pendingProps.children,Da(e,i),a=Un(a),r=r(a),e.flags|=1,nn(t,e,r,i),e.child;case 14:return r=e.type,a=Wn(r,e.pendingProps),a=Wn(r.type,a),tp(t,e,r,a,i);case 15:return t0(t,e,e.type,e.pendingProps,i);case 17:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:Wn(r,a),gl(t,e),e.tag=1,fn(r)?(t=!0,Pl(e)):t=!1,Da(e,i),Rw(e,r,a),wh(e,r,a,i),yh(null,e,r,!0,t,i);case 19:return o0(t,e,i);case 22:return n0(t,e,i)}throw Error(ye(156,e.tag))};function x0(t,e){return Yg(t,e)}function $y(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,e,i,r){return new $y(t,e,i,r)}function Nd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qy(t){if(typeof t=="function")return Nd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ed)return 11;if(t===td)return 14}return 2}function tr(t,e){var i=t.alternate;return i===null?(i=Ln(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Sl(t,e,i,r,a,o){var s=2;if(r=t,typeof t=="function")Nd(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ma:return Ir(i.children,a,o,e);case Qh:s=8,a|=8;break;case Gc:return t=Ln(12,i,e,a|2),t.elementType=Gc,t.lanes=o,t;case Hc:return t=Ln(13,i,e,a),t.elementType=Hc,t.lanes=o,t;case Wc:return t=Ln(19,i,e,a),t.elementType=Wc,t.lanes=o,t;case Pg:return fu(i,a,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ag:s=10;break e;case Rg:s=9;break e;case ed:s=11;break e;case td:s=14;break e;case Bi:s=16,r=null;break e}throw Error(ye(130,t==null?t:typeof t,""))}return e=Ln(s,i,e,a),e.elementType=t,e.type=r,e.lanes=o,e}function Ir(t,e,i,r){return t=Ln(7,t,r,e),t.lanes=i,t}function fu(t,e,i,r){return t=Ln(22,t,r,e),t.elementType=Pg,t.lanes=i,t.stateNode={isHidden:!1},t}function ec(t,e,i){return t=Ln(6,t,null,e),t.lanes=i,t}function tc(t,e,i){return e=Ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function e_(t,e,i,r,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nu(0),this.expirationTimes=Nu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nu(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Fd(t,e,i,r,a,o,s,l,u){return t=new e_(t,e,i,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ln(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sd(o),t}function t_(t,e,i){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:i}}function M0(t){if(!t)return sr;t=t._reactInternals;e:{if(jr(t)!==t||t.tag!==1)throw Error(ye(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ye(171))}if(t.tag===1){var i=t.type;if(fn(i))return xw(t,i,e)}return e}function T0(t,e,i,r,a,o,s,l,u){return t=Fd(i,r,!0,t,a,o,s,l,u),t.context=M0(null),i=t.current,r=an(),a=er(i),o=Mi(r,a),o.callback=e??null,$i(i,o,a),t.current.lanes=a,ls(t,a,r),pn(t,r),t}function pu(t,e,i,r){var a=e.current,o=an(),s=er(a);return i=M0(i),e.context===null?e.context=i:e.pendingContext=i,e=Mi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$i(a,e,s),t!==null&&(Zn(t,a,s,o),fl(t,a,s)),s}function Vl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Ud(t,e){fp(t,e),(t=t.alternate)&&fp(t,e)}function n_(){return null}var E0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Od(t){this._internalRoot=t}mu.prototype.render=Od.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ye(409));pu(t,e,null,null)};mu.prototype.unmount=Od.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gr(function(){pu(null,t,null,null)}),e[Ei]=null}};function mu(t){this._internalRoot=t}mu.prototype.unstable_scheduleHydration=function(t){if(t){var e=tw();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Hi.length&&e!==0&&e<Hi[i].priority;i++);Hi.splice(i,0,t),i===0&&iw(t)}};function Bd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pp(){}function i_(t,e,i,r,a){if(a){if(typeof r=="function"){var o=r;r=function(){var c=Vl(s);o.call(c)}}var s=T0(e,r,t,0,null,!1,!1,"",pp);return t._reactRootContainer=s,t[Ei]=s.current,Ko(t.nodeType===8?t.parentNode:t),Gr(),s}for(;a=t.lastChild;)t.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var c=Vl(u);l.call(c)}}var u=Fd(t,0,!1,null,null,!1,!1,"",pp);return t._reactRootContainer=u,t[Ei]=u.current,Ko(t.nodeType===8?t.parentNode:t),Gr(function(){pu(e,u,i,r)}),u}function wu(t,e,i,r,a){var o=i._reactRootContainer;if(o){var s=o;if(typeof a=="function"){var l=a;a=function(){var u=Vl(s);l.call(u)}}pu(e,s,t,a)}else s=i_(i,e,t,a,r);return Vl(s)}Qg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=To(e.pendingLanes);i!==0&&(rd(e,i|1),pn(e,Tt()),!(nt&6)&&(Va=Tt()+500,hr()))}break;case 13:Gr(function(){var r=bi(t,1);if(r!==null){var a=an();Zn(r,t,1,a)}}),Ud(t,1)}};ad=function(t){if(t.tag===13){var e=bi(t,134217728);if(e!==null){var i=an();Zn(e,t,134217728,i)}Ud(t,134217728)}};ew=function(t){if(t.tag===13){var e=er(t),i=bi(t,e);if(i!==null){var r=an();Zn(i,t,e,r)}Ud(t,e)}};tw=function(){return at};nw=function(t,e){var i=at;try{return at=t,e()}finally{at=i}};Qc=function(t,e,i){switch(e){case"input":if(Kc(t,i),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var a=su(r);if(!a)throw Error(ye(90));Dg(r),Kc(r,a)}}}break;case"textarea":Ng(t,i);break;case"select":e=i.value,e!=null&&Aa(t,!!i.multiple,e,!1)}};Hg=Id;Wg=Gr;var r_={usingClientEntryPoint:!1,Events:[cs,Sa,su,zg,Gg,Id]},ho={findFiberByHostInstance:br,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},a_={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Kg(t),t===null?null:t.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||n_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{iu=Ds.inject(a_),ai=Ds}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r_;En.createPortal=function(t,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bd(e))throw Error(ye(200));return t_(t,e,null,i)};En.createRoot=function(t,e){if(!Bd(t))throw Error(ye(299));var i=!1,r="",a=E0;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Fd(t,1,!1,null,null,i,!1,r,a),t[Ei]=e.current,Ko(t.nodeType===8?t.parentNode:t),new Od(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ye(188)):(t=Object.keys(t).join(","),Error(ye(268,t)));return t=Kg(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return Gr(t)};En.hydrate=function(t,e,i){if(!gu(e))throw Error(ye(200));return wu(null,t,e,!0,i)};En.hydrateRoot=function(t,e,i){if(!Bd(t))throw Error(ye(405));var r=i!=null&&i.hydratedSources||null,a=!1,o="",s=E0;if(i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onRecoverableError!==void 0&&(s=i.onRecoverableError)),e=T0(e,null,t,1,i??null,a,!1,o,s),t[Ei]=e.current,Ko(t),r)for(t=0;t<r.length;t++)i=r[t],a=i._getVersion,a=a(i._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[i,a]:e.mutableSourceEagerHydrationData.push(i,a);return new mu(e)};En.render=function(t,e,i){if(!gu(e))throw Error(ye(200));return wu(null,t,e,!1,i)};En.unmountComponentAtNode=function(t){if(!gu(t))throw Error(ye(40));return t._reactRootContainer?(Gr(function(){wu(null,null,t,!1,function(){t._reactRootContainer=null,t[Ei]=null})}),!0):!1};En.unstable_batchedUpdates=Id;En.unstable_renderSubtreeIntoContainer=function(t,e,i,r){if(!gu(i))throw Error(ye(200));if(t==null||t._reactInternals===void 0)throw Error(ye(38));return wu(t,e,i,!1,r)};En.version="18.2.0-next-9e3b772b8-20220608";function b0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b0)}catch(t){console.error(t)}}b0(),Tg.exports=En;var o_=Tg.exports,mp=o_;Bc.createRoot=mp.createRoot,Bc.hydrateRoot=mp.hydrateRoot;let Ve=class{constructor(e,i,r,a,o){this.index="",this.game=e,this.name=i,this.code=r,this.variantCount=a,this.contributor=o}};class n{constructor(e,i,r,a){if(this.index="",this.name=e,this.icons=[],i)if(typeof i=="string")this.icons=[new Ve(this,e,i,r,a)];else if(i instanceof Function)this.icons=i(this);else throw new Error("Unknown type for codeOrIcons in Game constructor.");else this.icons=[new Ve(this,e)]}}class Kt{constructor(e,i){this.name=e,this.link=i}}const Ft=class Ft{};Ft.Issung=new Kt("Issung","https://x.com/IssunGee"),Ft.Rikineko=new Kt("rikineko"),Ft.NateTool=new Kt("Nathan Tool","https://www.reddit.com/u/NateTool/"),Ft.Typedesigns=new Kt("Typedesigns","https://x.com/typedesigns_"),Ft.TravisTouchdown=new Kt("Travis Touchdown","https://x.com/TravisTchDown"),Ft.VibiLeFleu=new Kt("VibiLeFleu","https://x.com/VibiLeFleu"),Ft.Sebita=new Kt("Sebita","https://x.com/Sebitaowo"),Ft.ItzCookieX=new Kt("ItzCookieX","https://x.com/chocomuku"),Ft.Psiences=new Kt("psiences","https://x.com/psiences"),Ft.FenixF=new Kt("Fenix F","https://x.com/_Fenix_F_"),Ft.Zwish343=new Kt("Zwish343","https://x.com/zwish343"),Ft.Zeroman95=new Kt("Zeroman95","https://www.backloggery.com/Zeroman95BL"),Ft.Atat111111=new Kt("atat111111"),Ft.Oddworld2001=new Kt("Oddworld-2001"),Ft.SqueezedDog=new Kt("Squeezed Dog"),Ft.NBForever=new Kt("N & B Forever");let w=Ft;const Rn=[new n("Qu pasa Neng! El videojuego","quepasanengelvideojuego",1,w.Zwish343),new n(".hack//frgment","dothackfragment",3,w.ItzCookieX),new n(".hack//G.U.vol.1//Rebirth","dothackrebirth",1,w.ItzCookieX),new n(".hack//G.U.vol.2//Reminisce","dothackreminisce",1,w.ItzCookieX),new n(".hack//G.U.vol.3//Redemption","dothackredemption",1,w.ItzCookieX),new n(".hack//Infection Part 1","dothackinfection",3,w.ItzCookieX),new n(".hack//Mutation Part 2","dothackmutation",3,w.ItzCookieX),new n(".hack//Outbreak Part 3","dothackoutbreak",3,w.ItzCookieX),new n(".hack//Quarantine Part 4","dothackquarantine",3,w.ItzCookieX),new n("_Summer","_summer",1,w.Zwish343),new n("007: NightFire","007nightfire",1,w.Zwish343),new n("007: Quantum of Solace","007quantumofsolace",1,w.Zwish343),new n("10 Pin: Champions Alley"),new n("10,000 Bullets","10000bullets",1,w.ItzCookieX),new n("120-en no Haru: 120 Yen Stories"),new n("12Riven: The Psi-Climinal of Integral"),new n("18 Wheeler American Pro Trucker"),new n("187 Ride or Die"),new n("1945 I & II The Arcade Games"),new n("2002 FIFA World Cup"),new n("2003-Toshi Kaimaku  Ganbare Kyuukaiou"),new n("21 Card Games"),new n("24: The Game","24thegame",1,w.NateTool),new n("25 to Life"),new n("2nd Super Robot Wars Alpha"),new n("3-Nen B-Gumi Kinpachi Sensei Densetsu no Kyoudan ni Tate!"),new n("3LDK  Shiawase ni Narouyo"),new n("3rd Super Robot Wars Alpha: To the End of the Galaxy"),new n("4x4 EVO"),new n("4x4 EVO 2"),new n("50 Cent: Bulletproof"),new n("7 Blades"),new n("7 Sins"),new n("7 Wonders of the Ancient World"),new n("A-Ressha de Ikou 2001"),new n("A-Ressha de Ikou 2001 Perfect Set"),new n("A.C.E.: Another Century's Episode"),new n("A.C.E.: Another Century's Episode 2"),new n("A.C.E.: Another Century's Episode 2 (Special Vocal Version)"),new n("A.C.E.: Another Century's Episode 3: The Final"),new n("Aa Megami-sama"),new n("Abarenbou Princess"),new n("AC/DC Live: Rock Band Track Pack","acdcliverockbandtrackpack",1,w.Sebita),new n("Ace Combat 04: Shattered Skies","acecombat4",1,w.Issung),new n("Ace Combat 5: The Unsung War"),new n("Ace Combat Zero: The Belkan War"),new n("Ace Lightning"),new n("Aces of War"),new n("Action Girlz Racing"),new n("Action Man A..TO.M.: Alpha Teens on Machines"),new n("Activision Anthology"),new n("Adiboo and the Energy Thieves"),new n("ADK Damashii"),new n("Adventure of Tokyo Disney Sea"),new n("The Adventures of Cookie & Cream","theadventuresofcookieandcream",1,w.ItzCookieX),new n("The Adventures of Darwin"),new n("The Adventures of Jimmy Neutron Boy Genius: Attack of the Twonkies"),new n("The Adventures of Jimmy Neutron Boy Genius: Jet Fusion"),new n("on Flux"),new n("Aero Elite: Combat Academy"),new n("Aerobics Revolution"),new n("AFL Live 2003"),new n("AFL Live 2004"),new n("AFL Live Premiership Edition"),new n("AFL Premiership 2005: The Official Game of the AFL Premiership"),new n("AFL Premiership 2006"),new n("AFL Premiership 2007"),new n("After..."),new n("Agassi Tennis Generation"),new n("Age of Empires II: The Age of Kings","ageofempires2theageofkings",1,w.Zeroman95),new n("Agent Hugo"),new n("Agent Hugo: Hula Holiday"),new n("Agent Hugo: Lemoon Twist"),new n("Agent Hugo: Roborumble"),new n("Aggressive Inline"),new n("AI Igo 2003"),new n("AI Mahjong 2003"),new n("AI Shogi 2003"),new n("Ai Yori Aoshi"),new n("Aikagi"),new n("Air"),new n("Air Raid 3"),new n("Air Ranger: Rescue Helicopter"),new n("Air Ranger 2: Rescue Helicopter"),new n("Air Ranger 2 Plus: Rescue Helicopter"),new n("AirBlade","airblade",1,w.Issung),new n("Airborne Troops: Countdown to D-Day"),new n("Airforce Delta Strike","airforcedeltastrike",1,w.Issung),new n("The Aka-Champion"),new n("Akagi: Yami ni Furitatta Tensai"),new n("Akai Ito"),new n("Akane Iro ni Somaru Saka: Parallel"),new n("Akira Psycho Ball"),new n("Akudaikan"),new n("Akudaikan 2: Mousouden"),new n("Akudaikan 3"),new n("Alan Hansen's Sports Challenge"),new n("Alarm for Cobra 11 Vol. 2: Hot Pursuit"),new n("Alex Ferguson's Player Manager 2001"),new n("Alfa Romeo Racing Italiano"),new n("Alias"),new n("Alien Hominid","alienhominid",1,w.VibiLeFleu),new n("Aliens in the Attic"),new n("Aliens Versus Predator: Extinction"),new n("All Star Fighters"),new n("All Star Pro-Wrestling"),new n("All Star Pro-Wrestling II"),new n("All Star Pro-Wrestling III"),new n("All-Star Baseball 2002"),new n("All-Star Baseball 2003"),new n("All-Star Baseball 2004"),new n("All-Star Baseball 2005"),new n("Alone in the Dark"),new n("Alone in the Dark: The New Nightmare"),new n("Alpine Racer 3"),new n("Alpine Ski Racing 2007"),new n("Alpine Skiing 2005"),new n("Alter Echo"),new n("Altered Beast"),new n("Alvin and the Chipmunks"),new n("Amagami"),new n("Amagoushi no Yakata"),new n("America Oudan Ultra-Quiz"),new n("American Chopper"),new n("American Chopper 2: Full Throttle"),new n("American Idol"),new n("American Pool II"),new n("AMF Xtreme Bowling"),new n("Amplitude"),new n("An American Tail"),new n("AND 1 Streetball"),new n("Angel Profile"),new n("Angel Wish: Kimi no Egao ni Chu!"),new n("Angel's Feather"),new n("Angel's Feather: Kuro no Zanei"),new n("Angelic Concert"),new n("Angelique Etoile"),new n("Angelique Trois"),new n("Angelique Trois: Aizouhen"),new n("Animal Soccer World"),new n("Animaniacs: The Great Edgar Hunt"),new n("The Ant Bully"),new n("Antz Extreme Racing"),new n("Anubis II"),new n("Anya Nisasayaku"),new n("Aoi no Mamade..."),new n("Aoi Sora no Neosphere: Nanoca Flanka Hatsumei Koubouki 2~"),new n("Aoi Umi no Tristia: Nanoca Flanka Hatsumei Koubouki"),new n("Aoishiro"),new n("Ape Escape 2","apeescape2",2,w.ItzCookieX),new n("Ape Escape 3",t=>[new Ve(t,"Game Data","apeescape3",1,w.VibiLeFleu),new Ve(t,"Mesal Gear Solid Game Mode","apeescape3mesalgearsolid",1,w.VibiLeFleu)]),new n("Ape Escape: Pumped & Primed","apeescapepumpedandprimed",1,w.ItzCookieX),new n("Apocripha/0"),new n("Appleseed EX","appleseedex",1,w.ItzCookieX),new n("Aqua Aqua","aquaaqua",1,w.ItzCookieX),new n("Aqua Kids"),new n("Aqua Teen Hunger Force Zombie Ninja Pro-Am"),new n("Ar tonelico: Melody of Elemia","artonelicomelodyofelemia",1,w.ItzCookieX),new n("Ar tonelico II: Melody of Metafalica","artonelico2melodyofmetafalica",1,w.ItzCookieX),new n("Arabians Lost: The Engagement on Desert"),new n("Arc the Lad: End of Darkness"),new n("Arc the Lad: Twilight of the Spirits"),new n("Arcade Action: 30 Games"),new n("Arcade Classics Volume One"),new n("Arcade USA"),new n("Arcana Heart","arcanaheart",1,w.Psiences),new n("Arcobaleno!"),new n("Arctic Thunder"),new n("Are You Smarter Than a 5th Grader: Make the Grade"),new n("Area 51","area51",1,w.Sebita),new n("Arena Football"),new n("Arena Football: Road to Glory"),new n("Aria: The Natural ~Tooi Yume no Mirage~"),new n("Aria: The Origination ~Aoi Hoshi no Il Cielo~"),new n("Armen Noir"),new n("Armored Core: Formula Front"),new n("Armored Core: Last Raven","armoredcorelastraven",1,w.ItzCookieX),new n("Armored Core: Nexus","armoredcorenexus",1,w.Rikineko),new n("Armored Core: Nine Breaker","armoredcoreninebreaker",1,w.ItzCookieX),new n("Armored Core 2","armoredcore2",1,w.ItzCookieX),new n("Armored Core 2: Another Age","armoredcore2anotherage",1,w.ItzCookieX),new n("Armored Core 3","armoredcore3",1,w.ItzCookieX),new n("Army Men: Air Attack 2"),new n("Army Men: Green Rogue"),new n("Army Men: Major Malfunction"),new n("Army Men: RTS"),new n("Army Men: Sarge's Heroes 2"),new n("Army Men: Sarge's War"),new n("Army Men: Soldiers of Misfortune"),new n("Art of Fighting Anthology"),new n("Arthur and the Invisibles: The Game"),new n("Ashita no Joe: Masshiro ni Moe Tsukiro!"),new n("Ashita no Joe 2: The Anime Super Remix"),new n("Ashita no Joe Touchi: Typing Namida Hashi"),new n("Asobi ni Iku Yo!"),new n("Assault Suits Valken"),new n("Asterix & Obelix: Kick Buttix"),new n("Asterix & Obelix XXL 2: Mission: Las Vegum"),new n("Asterix at the Olympic Games","asterixolympics",1,w.Issung),new n("Astro Boy"),new n("Astro Boy: The Video Game"),new n("Astro Kyuudan: Kessen!! Victory Kyuudanhen"),new n("Atari Anthology","atarianthology",1,w.Sebita),new n("Atelier Iris: Eternal Mana","atelieriris",1,w.ItzCookieX),new n("Atelier Iris 2: The Azoth of Destiny","atelieriris2",1,w.ItzCookieX),new n("Atelier Iris 3: Grand Phantasm","atelieriris3",1,w.ItzCookieX),new n("Atelier Marie + Elie"),new n("Athens 2004"),new n("Atlantis III: The New World"),new n("A-Train 6"),new n("ATV Offroad Fury"),new n("ATV Offroad Fury 2"),new n("ATV Offroad Fury 3"),new n("ATV Offroad Fury 4"),new n("ATV Quad Power Racing 2"),new n("Austin Mini Racing"),new n("Australian Idol Sing"),new n("Auto Modellista","automodellista",1,w.Sebita),new n("Autobahn Raser IV"),new n("Autobahn Raser: Das Spiel zum Film"),new n("Avatar: The Last Airbender","avatarthelastairbender",1,w.Zwish343),new n("Avatar: The Last Airbender - The Burning Earth","avatarthelastairbendertheburningearth",1,w.Zwish343),new n("Avatar: The Last Airbender - Into the Inferno","avatarthelastairbenderintotheinferno",1,w.Zwish343),new n("Ayakashibito"),new n("Azumi"),new n("Azur & Asmar"),new n("B-Boy","bboy",1,w.ItzCookieX),new n("Babe"),new n("Backyard Baseball"),new n("Backyard Baseball '09"),new n("Backyard Baseball '10"),new n("Backyard Basketball"),new n("Backyard Football '08"),new n("Backyard Football '09"),new n("Backyard Football '10"),new n("Backyard Football 2006"),new n("Backyard Sports: Baseball 2007"),new n("Backyard Sports: Basketball 2007"),new n("Backyard Wrestling: Don't Try This at Home"),new n("Backyard Wrestling 2: There Goes the Neighborhood"),new n("Bad Boys: Miami Takedown"),new n("Bakufuu Slash! Kizna Arashi"),new n("Bakugan Battle Brawlers"),new n("Bakumatsu Renka: Karyuu Kenshiden"),new n("Bakumatsu Renka: Shinsengumi"),new n("Bakumatsu Rouman: Gekka no Kenshi 1-2"),new n("Bakushou! Jinsei Kaidou"),new n("Bakusou Dekotora Densetsu: Otoko Hanamichi Yume Roman"),new n("Baldr Bullet: Equilibrium"),new n("Baldr Force EXE"),new n("Baldur's Gate: Dark Alliance","baldursgatedarkalliance",1,w.Issung),new n("Baldur's Gate: Dark Alliance II","baldursgatedarkalliance2",1,w.ItzCookieX),new n("Band Hero","bandhero",1,w.Sebita),new n("Barbarian"),new n("Barbie as the Island Princess"),new n("Barbie Horse Adventures: Riding Camp"),new n("Barbie Horse Adventures: Wild Horse Rescue"),new n("Barbie in the 12 Dancing Princesses"),new n("The Bard's Tale"),new n("Barnyard"),new n("Baroque"),new n("The Baseball 2002: Battle Ball Park Sengen"),new n("The Baseball 2003"),new n("The Baseball 2003: Akikigou"),new n("Baseball Live 2005"),new n("Baseball Mania"),new n("Basic Studio: Powerful Game Koubou"),new n("Baskelian"),new n("Basketball Xciting"),new n("Bass Landing 3"),new n("Bass Strike"),new n("Batman Begins"),new n("Batman: Rise of Sin Tzu"),new n("Batman: Vengeance","batmanvengeance",1,w.Oddworld2001),new n("Battle Assault 3 featuring Gundam Seed"),new n("Battle Engine Aquila"),new n("Battle Gear 3"),new n("Battle of Sunrise"),new n("The Battle of Yuu Yuu Hakusho: Shitou! Ankoku Bujutsukai! 120%"),new n("Battle Stadium D.O.N","battlestadiumdon",1,w.Sebita),new n("Battlefield 2: Modern Combat","battlefield2moderncombat",1,w.Sebita),new n("Battlestar Galactica"),new n("BCV: Battle Construction Vehicles"),new n("Beach King Stunt Racer"),new n("Beast Sapp"),new n("Beat Down: Fists of Vengeance"),new n("Beatmania","beatmania",1,w.Sebita),new n("BeatMania Da Da Da!!"),new n("BeatMania Da Da Da!! The Best Da"),new n("Beatmania IIDX 3rd Style","beatmaniaiidx3rdstyle",1,w.Sebita),new n("Beatmania IIDX 4th Style: New Songs Collection","beatmaniaiidx4thstyle",1,w.Sebita),new n("Beatmania IIDX 5th Style: New Songs Collection","beatmaniaiidx5thstyle",1,w.Sebita),new n("Beatmania IIDX 6th Style: New Songs Collection","beatmaniaiidx6thstyle",1,w.Sebita),new n("Beatmania IIDX 7th Style","beatmaniaiidx7thstyle",1,w.Sebita),new n("Beatmania IIDX 8th Style","beatmaniaiidx8thstyle",1,w.Sebita),new n("Beatmania IIDX 9th Style","beatmaniaiidx9thstyle",1,w.Sebita),new n("Beatmania IIDX 10th Style","beatmaniaiidx10thstyle",1,w.Sebita),new n("Beatmania IIDX 11: IIDX RED","beatmaniaiidx11iidxred",1,w.Sebita),new n("Beatmania IIDX 12: Happy Sky","beatmaniaiidx12happysky",1,w.Sebita),new n("Beatmania IIDX 13: Distorted","beatmaniaiidx13distorted",1,w.Sebita),new n("Beatmania IIDX 14: Gold","beatmaniaiidx14gold",1,w.Sebita),new n("Beatmania IIDX 15: DJ Troopers","beatmaniaiidx15djtroopers",1,w.Sebita),new n("Beatmania IIDX 16: Empress + Premium Best","beatmaniaiidx16empress",1,w.Sebita),new n("Beck: The Game"),new n("Bee Movie Game"),new n("Ben 10: Alien Force","ben10alienforce",1,w.Zwish343),new n("Ben 10: Protector Of Earth","ben10protectorofearth",1,w.Zwish343),new n("Ben 10 Alien Force: Vilgax Attacks","ben10alienforcevilgaxattacks",1,w.Zwish343),new n("Ben 10 Ultimate Alien: Cosmic Destruction","ben10ultimatealiencosmicdestruction",1,w.Zwish343),new n("Ben Hur: Blood of Braves"),new n("Berserk: Millennium Falcon Hen Seima Senki no Sh","berserkmillenniumfalcon",1,w.Issung),new n("Beta Bloc"),new n("Beverly Hills Cop"),new n("Beyond Good & Evil","beyondgoodandevil",1,w.Issung),new n("Biathlon 2008"),new n("The Bible Game"),new n("Big Idea's Veggie Tales: LarryBoy and the Bad Apple","veggietaleslarryboyandthebadapple",1,w.SqueezedDog),new n("Big Mutha Truckers"),new n("Big Mutha Truckers 2"),new n("The Bigs"),new n("The Bigs 2"),new n("Biker Mice from Mars","bikermicefrommars",1,w.Zeroman95),new n("Bikkuri Mouse"),new n("Billiards Xciting"),new n("Billy the Wizard: Rocket Broomstick Racing"),new n("Binchou-tan: Shiawasegoyomi"),new n("Bionicle"),new n("Bionicle Heroes","bionicleheroes",1,w.ItzCookieX),new n("The Bishoujou Simulation RPG"),new n("Bistro Cupid 2"),new n("Black","black",1,w.Sebita),new n("Black & Bruised"),new n("Black Cat: Kikai Shikake no Tenshi"),new n("Black Market Bowling"),new n("Black/Matrix II"),new n("Blade II"),new n("Blazing Souls"),new n("Bleach: Blade Battlers","bleachbladebattlers",1,w.ItzCookieX),new n("Bleach: Blade Battlers 2","bleachbladebattlers2",1,w.ItzCookieX),new n("Bleach: Erabareshi Tamashii","bleacherabareshitamashii",3,w.ItzCookieX),new n("Bleach: Hanatareshi Yabou","bleachhanatareshiyabou",1,w.ItzCookieX),new n("Blitz: The League"),new n("Blokus Club with Bumpy Trot"),new n("Blood Omen 2"),new n("Blood Will Tell: Tezuka Osamu's Dororo","bloodwilltell",1,w.Issung),new n("Blood: The Last Vampire - Gekan"),new n("Blood: The Last Vampire - Joukan"),new n("Blood+: One Night Kiss","bloodplusonenightkiss",1,w.TravisTouchdown),new n("Blood+: Souyoku no Battle Rondo"),new n("BloodRayne"),new n("BloodRayne 2"),new n("Bloody Roar 3","bloodyroar3",3,w.Psiences),new n("Bloody Roar 4",t=>[new Ve(t,"Game Data","bloodyroar4gamedata",1,w.Sebita),new Ve(t,"Career Data","bloodyroar4careerdata",1,w.Sebita)]),new n("BlowOut"),new n("BMX XXX"),new n("Board Games Gallery"),new n("Bob the Builder Eye Toy"),new n("Bob the Builder: Festival of Fun"),new n("Boboboubo Boubobo: Hajike Matsuri"),new n("Boboboubo Boubobo: Shuumare! Taikan Boubobo"),new n("Bode Miller Alpine Skiing"),new n("The Boku no Machidzukuri 2  Machi-ing Maker 2.1"),new n("Boku no Natsuyasumi 2: Umi no Bouken Hen","bokunonatsuyasumi2",1,w.Issung),new n("Boku wa Chiisai"),new n("Bokura no Kazoku"),new n("Bolt"),new n("Bombastic"),new n("Bomberman Hardball","bombermanhardball",1,w.ItzCookieX),new n("Bomberman Jetters","bombermanjetters",1,w.ItzCookieX),new n("Bomberman Kart","bombermankart",1,w.ItzCookieX),new n("Bomberman Kart DX","bombermankartdx",1,w.ItzCookieX),new n("Bomberman Land 2"),new n("Bomberman Land 3","bombermanland3",1,w.ItzCookieX),new n("Boogie"),new n("Bouken Jidai Katsugeki: Goemon"),new n("Bouken Shounen Club Gahou"),new n("Bouken-Ou Beet: Darkness Century"),new n("Boukoku no Aegis 2035: Warship Gunner"),new n("The Bouncer"),new n("Bowling Xciting"),new n("Boxing Champions"),new n("Bratz: Forever Diamondz"),new n("Bratz: Girlz Really Rock"),new n("Bratz: The Movie"),new n("Bratz: Rock Angelz"),new n("Brave Story: Wataru no Bouken"),new n("Brave: The Search for Spirit Dancer"),new n("Bravo Music: Chou-Meikyokuban"),new n("Bravo Music: Christmas Edition"),new n("Breath of Fire: Dragon Quarter","breathoffiredragonquarter",1,w.ItzCookieX),new n("Breeders' Cup World Thoroughbred Championships"),new n("Brian Lara International Cricket 2005"),new n("Brian Lara International Cricket 2007"),new n("Britney's Dance Beat"),new n("Broken Sword: The Sleeping Dragon"),new n("Brothers in Arms: Earned in Blood"),new n("Brothers in Arms: Road to Hill 30","brothersinarmsroadtohill30",1,w.Sebita),new n("Brunswick Pro Bowling"),new n("Buccaneer"),new n("Buffy the Vampire Slayer: Chaos Bleeds","buffythevampireslayer",1,w.ItzCookieX),new n("Bujingai: The Forsaken City","bujingai",3,w.Issung),new n("Bully","bully",1,w.Issung),new n("Burnout","burnout",3,w.Sebita),new n("Burnout 2: Point of Impact","burnout2pointofimpact",1,w.Sebita),new n("Burnout 3: Takedown","burnout3",1,w.Issung),new n("Burnout Dominator","burnoutdominator",1,w.Sebita),new n("Burnout Revenge","burnoutrevenge",1,w.Issung),new n("Busin 0: Wizardry Alternative Neo"),new n("Busou Renkin: Yokosu Papillon Park e"),new n("Bust-A-Bloc","bustabloc",1,w.Zeroman95),new n("Butt-Ugly Martians: Zoom or Doom!","buttuglymartians",1,w.SqueezedDog),new n("Buzz!: The BIG Quiz"),new n("Buzz!: Brain of the World"),new n("Buzz!: The Hollywood Quiz"),new n("Buzz!: The Mega Quiz","buzzthemegaquiz",1,w.Zeroman95),new n("Buzz!: The Music Quiz"),new n("Buzz!: The Pop Quiz","buzzthepopquiz",1,w.Zeroman95),new n("Buzz!: The Schools Quiz"),new n("Buzz!: The Sports Quiz"),new n("Buzz! Junior: Ace Racers"),new n("Buzz! Junior: Dino Den"),new n("Buzz! Junior: Jungle Party"),new n("Buzz! Junior: Monster Rumble"),new n("Buzz! Junior: Robo Jam","buzzjuniorrobojam",1,w.Zeroman95),new n("C@M-Station"),new n("Cabela's African Safari"),new n("Cabela's Alaskan Adventures"),new n("Cabela's Big Game Hunter (2002, Contributors.Issung)"),new n("Cabela's Big Game Hunter"),new n("Cabela's Big Game Hunter 2005 Adventures"),new n("Cabela's Dangerous Hunts"),new n("Cabela's Dangerous Hunts 2"),new n("Cabela's Dangerous Hunts 2009"),new n("Cabela's Deer Hunt: 2004 Season"),new n("Cabela's Deer Hunt: 2005 Season"),new n("Cabela's Legendary Adventures"),new n("Cabela's Monster Bass"),new n("Cabela's North American Adventures"),new n("Cabela's Outdoor Adventures (2005)"),new n("Cabela's Outdoor Adventures (2009)"),new n("Cabela's Trophy Bucks"),new n("Cafe Lindbergh: Summer Season"),new n("Cafe Little Wish: Mahou no Recipe"),new n("Cake Mania: Baker's Challenge"),new n("Call of Duty: Finest Hour","callofdutyfinesthour",1,w.Sebita),new n("Call of Duty: World at War  Final Fronts","callofdutyworldatwarfinalfronts",1,w.Typedesigns),new n("Call of Duty 2: Big Red One","callofduty2bigredone",1,w.Typedesigns),new n("Call of Duty 3"),new n("Cambrian QTS: Kaseki ni Nattemo"),new n("Canaria"),new n("Canvas: Motif of Sepia"),new n("Canvas 2: Red Colored Palette"),new n("Canvas 3: Tanshoku no Pastel"),new n("Capcom Classics Collection Vol. 1","capcomclassicscollection",1,w.Sebita),new n("Capcom Classics Collection Vol. 2","capcomclassicscollection2",1,w.Sebita),new n("Capcom Fighting Evolution","capcomfightingevolution",1,w.Oddworld2001),new n("Capcom vs. SNK 2: Mark of the Millennium 2001","capcomvssnk2",3,w.Psiences),new n("Captain Scarlet","captainscarlet",1,w.Zeroman95),new n("Captain Tsubasa","captaintsubasa",1,w.Sebita),new n("Car Racing Challenge"),new n("Card Captor Sakura: Sakura-Chan to Asobo!"),new n("Cardinal Arc: Konton no Fuusatsu"),new n("Carmen Sandiego: The Secret of the Stolen Drums"),new n("Carol Vorderman's Sudoku"),new n("Cars"),new n("Cars Mater-National Championship"),new n("Cars Race-O-Rama"),new n("CART Fury Championship Racing"),new n("Cart Kings"),new n("Cartagra"),new n("Cartoon Kingdom"),new n("Cartoon Network Racing"),new n("Carwash Tycoon"),new n("Casino Challenge"),new n("Casper and The Ghostly Trio"),new n("Casper: Spirit Dimensions"),new n("Casper's Scare School"),new n("Castle Fantasia: Arihato Senki"),new n("Castle Fantasia: Erenshia Senki Plus Stories"),new n("Castle Shikigami 2"),new n("Castlevania: Curse of Darkness","castlevaniacurseofdarkness",1,w.ItzCookieX),new n("Castlevania: Lament of Innocence","castlevanialamentofinnocence",1,w.ItzCookieX),new n("Castleween"),new n("Catwoman"),new n("CaveMan Rock"),new n("Cel Damage Overdrive"),new n("Centre Court: Hard Hitter"),new n("Chaindive"),new n("Champions of Norrath: Realms of Everquest"),new n("Champions: Return to Arms"),new n("Championship Manager 2006"),new n("Championship Manager 2007"),new n("Championship Manager 5"),new n("Chandragupta: Warrior Prince"),new n("Chanter: Kimi no Uta ga Todoitara"),new n("Chaos Field: New Order"),new n("Chaos Legion","chaoslegion",1,w.Psiences),new n("Chaos Wars","chaoswars",1,w.Sebita),new n("Charlie and the Chocolate Factory","charlieandthechocolatefactory",1,w.Sebita),new n("Charlie's Angels"),new n("Charlotte's Web"),new n("Cheggers Party Quiz"),new n("Chemist Tycoon"),new n("Chenuen no San Goku Shi"),new n("Cherry Blossom"),new n("Chess Challenger"),new n("Chess Crusade"),new n("Chessmaster"),new n("Choaniki: Sei Naru Protein Densetsu"),new n("Chobits: Chii dake no Hito"),new n("Chocolat: Maid Cafe Curio"),new n("ChopLifter: Crisis Shield"),new n("ChoroQ"),new n("ChoroQ Works"),new n("Chou Gouka! Quiz Ketteiban"),new n("Chou-jikuu Yousai Macross","choujikuuyousaimacross",1,w.Atat111111),new n("Chou-Saisoku! Zokusha King BU"),new n("Chou-Saisoku! Zokusha King BU no BU"),new n("Choukousoku Igo"),new n("Choukousoku Mahjong"),new n("Choukousoku Mahjong Plus"),new n("Choukousoku Reversi"),new n("Choukousoku Shogi"),new n("The Chronicles of Narnia: The Lion, The Witch and The Wardrobe"),new n("The Chronicles of Narnia: Prince Caspian"),new n("Chu~Kana Janshi"),new n("Chulip","chulip",1,w.Issung),new n("CID The Dummy"),new n("Cinderella"),new n("Circuit Blasters"),new n("Circus Maximus: Chariot Wars"),new n("City Crisis"),new n("City Soccer Challenge"),new n("Clannad"),new n("Classic British Motor Racing"),new n("Clear: Atarashii Kaze no Fuku Oka de"),new n("Clever Kids-Dino Land"),new n("Clever Kids-Pony World"),new n("Climax Tennis: WTA Tour Edition"),new n("Clock Tower 3"),new n("Clock Zero: Shuuen no Ichibyou"),new n("Clover Heart's: Looking for Happiness"),new n("Clover no Kuni no Alice"),new n("Club Football"),new n("Club Football 2005"),new n("Clumsy Shumsy"),new n("Cluster Edge"),new n("CMT Presents: Karaoke Revolution Country"),new n("Code Breaker v6","codebreakerv6",1,w.Oddworld2001),new n("Code Breaker v9.2","codebreakerv9.2",1,w.Oddworld2001),new n("Code Breaker v10","codebreakerv10",1,w.Oddworld2001),new n("Cocoto Fishing Master"),new n("Cocoto Funfair"),new n("Cocoto Kart Racer"),new n("Cocoto Platform Jumper"),new n("Code Age Commanders"),new n("Code Geass: Lelouch of the Rebellion: Lost Colors"),new n("Code Lyoko: Quest for Infinity","codelyokoquestforinfinity",1,w.ItzCookieX),new n("Code of the Samurai"),new n("Codename: Kids Next Door  Operation: V.I.D.E.O.G.A.M.E."),new n("Cold Fear"),new n("Cold Winter"),new n("Colin McRae Rally 04"),new n("Colin McRae Rally 3"),new n("Colin McRae Rally 2005"),new n("College Hoops 2K6"),new n("College Hoops 2K7"),new n("College Hoops 2K8"),new n("Coloball 2002"),new n("Colorful Aquarium: My Little Mermaid"),new n("Colorful Box: To Love"),new n("Colosseum: Road to Freedom","colosseumroadtofreedom",1,w.Sebita),new n("Combat Ace"),new n("Combat Elite: WWII Paratroopers"),new n("Combat Queen"),new n("Commandos: Strike Force","commandosstrikeforce",1,w.NateTool),new n("Commandos 2: Men of Courage"),new n("Conan"),new n("Conflict: Desert Storm"),new n("Conflict: Desert Storm II: Back to Baghdad"),new n("Conflict: Global Terror"),new n("Conflict: Vietnam"),new n("Conflict Zone"),new n("Conspiracy: Weapons of Mass Destruction"),new n("Constantine"),new n("Contra: Shattered Soldier","contra",1,w.Issung),new n("The Conveni 3"),new n("The Conveni 4"),new n("Cool Boarders 2001"),new n("Cool Boarders: Code Alien"),new n("Cool Shot"),new n("Coraline","coraline",1,w.Issung),new n("Corvette"),new n("Corvette Evolution GT"),new n("Counter Terrorist Special Forces: Fire for Effect"),new n("Countryside Bears"),new n("Covert Command"),new n("Cowboy Bebop: Tsuioku no Serenade"),new n("CR Pachinko Dokaben: Pachitte Chonmage Tatsujin 7"),new n("CR Pachinko Yellow Cab: Pachitte Chonmage Tatsujin 6"),new n("Crabby Adventure"),new n("Crash 'N' Burn"),new n("Crash Bandicoot: The Wrath of Cortex","crashwrathofcortex",1,w.Issung),new n("Crash: Mind Over Mutant","crashmindovermutant",1,w.Issung),new n("Crash Nitro Kart","crashnitrokart",1,w.Issung),new n("Crash Tag Team Racing","crashtagteamracing",1,w.Issung),new n("Crash of the Titans","crashofthetitans",1,w.Issung),new n("Crash Twinsanity","crashtwinsanity",1,w.Issung),new n("Crashed"),new n("Crazy Chicken X"),new n("Crazy Frog Arcade Racer"),new n("Crazy Frog Racer"),new n("Crazy Golf"),new n("Crazy Golf World Tour"),new n("Crazy Taxi","crazytaxi",3,w.Issung),new n("Crescent Suzuki Racing: Superbikes and Super Sidecars"),new n("Cricket 07"),new n("Cricket 2002"),new n("Cricket 2004"),new n("Cricket 2005"),new n("Crime Life: Gang Wars"),new n("Crimson Empire: Circumstances to Serve a Noble"),new n("Crimson Sea 2"),new n("Crimson Tears","crimsontears",1,w.Sebita),new n("Critical Bullet: 7th Target"),new n("Critical Velocity"),new n("Cross Channel: To All People"),new n("Crossword"),new n("Crouching Tiger, Hidden Dragon"),new n("Crusty Demons"),new n("CSI: 3 Dimensions of Murder","csi3dimensionsofmurder",1,w.Sebita),new n("Cubic Lode Runner"),new n("Cubix: Robots for Everyone: Showdown"),new n("Cue Academy: Snooker, Pool, Billiards"),new n("Culdcept"),new n("Curious George"),new n("Curry House CoCo Ichibanya"),new n("Curse: The Eye of Isis"),new n("Cy Girls","cygirls",1,w.ItzCookieX),new n("Cyber Jansou"),new n("Cyber Troopers Virtual-On Marz"),new n("Cyclone Circus"),new n("D  A: Black"),new n("D  A: White"),new n("D-Unit Drift Racing"),new n("D. C. F. S. ~Da Capo Four Seasons~"),new n("D.C. II P.S.: Da Capo II Plus Situation"),new n("D.C.: Da Capo"),new n("D.C.I.F.: Da Capo Innocent Finale"),new n("D.C.P.S. Da Capo Plus Situation"),new n("D.Gray-man: Sousha no Shikaku"),new n("D.N.A.: Dark Native Apostle"),new n("D.N.Angel: Kurenai no Tsubasa"),new n("D1 Professional Drift Grand Prix Series"),new n("D1 Professional Drift Grand Prix Series 2005"),new n("The Da Vinci Code","thedavincicode",1,w.ItzCookieX),new n("Daemon Summoner"),new n("Dai Guruguru Onsen"),new n("Daisan Teikoku Koubouki"),new n("Daisan Teikoku Koubouki II"),new n("Daisenryaku 1941"),new n("Daisenryaku: Dai Toua Kouboushi - Tora Tora Tora Ware Kishuu Ni Seikou Seri"),new n("Daisenryaku VII: Exceed"),new n("Daito Giken Koushiki Pachi-Slot Simulator: 24  Twenty-Four"),new n("Daito Giken Koushiki Pachi-Slot Simulator: Hihouden"),new n("Daito Giken Koushiki Pachi-Slot Simulator: Ossu! Banchou"),new n("Daito Giken Koushiki Pachi-Slot Simulator: Shake II"),new n("Daito Giken Koushiki Pachi-Slot Simulator: Shin Yoshimune"),new n("Daito Giken Koushiki Pachi-Slot Simulator: Yoshimune"),new n("Daito Giken Premium Pachi-Slot Collection: Yoshimune"),new n("Dakar 2"),new n("Dalmatians 3"),new n("Dance Dance Revolution: Disney Channel Edition","ddrdisney",1,w.ItzCookieX),new n("Dance Dance Revolution Extreme","ddrextreme",1,w.ItzCookieX),new n("Dance Dance Revolution Extreme (Japan)","ddrextremejapan",1,w.ItzCookieX),new n("Dance Dance Revolution Extreme 2","ddrextreme2",1,w.ItzCookieX),new n("Dance Dance Revolution Party Collection","ddrpartycollection",1,w.ItzCookieX),new n("Dance Dance Revolution Strike","ddrstrike",1,w.ItzCookieX),new n("Dance Dance Revolution SuperNova","ddrsupernova",1,w.ItzCookieX),new n("Dance Dance Revolution SuperNova 2","ddrsupernova2",1,w.ItzCookieX),new n("Dance Dance Revolution X","ddrx",1,w.ItzCookieX),new n("Dance Dance Revolution X2"),new n("Dance Factory"),new n("Dance Fest"),new n("Dance Party: Club Hits"),new n("Dance Party: Pop Hits"),new n("Dance Summit 2001: Bust A Move","dancesummit2001",1,w.NBForever),new n("Dance: UK"),new n("Dance: UK eXtra Trax"),new n("Dance: UK XL Party"),new n("Dancing Stage Fever"),new n("Dancing Stage Fusion"),new n("Dancing Stage Max"),new n("Dancing With The Stars"),new n("Dark Angel: Vampire Apocalypse"),new n("Dark Cloud","darkcloud",3,w.Issung),new n("Dark Cloud 2","darkcloud2",1,w.Issung),new n("Dark Summit"),new n("Dark Wind"),new n("Darkwatch","darkwatch",1,w.Issung),new n("Darling Special Backlash: Koi no Exhaust Heat"),new n("Dave Mirra Freestyle BMX 2"),new n("David Beckham Soccer"),new n("David Douillet Judo"),new n("Dawn of Mana","dawnofmana",1,w.Issung),new n("DDR Festival Dance Dance Revolution","ddrfestival",1,w.ItzCookieX),new n("DDRMAX Dance Dance Revolution","ddrmax",1,w.ItzCookieX),new n("DDRMAX Dance Dance Revolution 6thMix","ddrmax26thmix",1,w.ItzCookieX),new n("DDRMAX2 Dance Dance Revolution","ddrmax2",1,w.ItzCookieX),new n("DDRMAX2 Dance Dance Revolution 7thMix","ddrmax27thmix",1,w.ItzCookieX),new n("De Grote Nederlandse Voetbalquiz"),new n("Dead Eye Jim"),new n("Dead or Alive 2","deadoralive2",1,w.Issung),new n("Dead or Alive 2: Hardcore","deadoralive2hardcore",1,w.Sebita),new n("Dead To Rights"),new n("Dead To Rights II"),new n("Deadly Strike","deadlystrike",1,w.ItzCookieX),new n("Dear Boys: Fast Break!"),new n("Dear My Friend: Love Like Powdery Snow"),new n("Dear My Sun!! Musk * Ikusei * Capriccio"),new n("DearS"),new n("Death by Degrees","deathbydegrees",1,w.Psiences),new n("Death Connection"),new n("Deep Water"),new n("Deer Hunter"),new n("Def Jam: Fight for NY","defjamfightforny",1,w.Issung),new n("Def Jam Vendetta"),new n("Defender"),new n("Deka Voice"),new n("Delta Force: Black Hawk Down"),new n("Delta Force: Black Hawk Down: Team Sabre"),new n("Demolition Girl","demolitiongirl",1,w.Issung),new n("Demon Chaos"),new n("Densha de Go! 3 Tsuukinhen"),new n("Densha de Go! Final"),new n("Densha de Go! Professional 2"),new n("Densha de Go! Ryojouhen"),new n("Densha de Go! Shinkansen: Sanyou Shinkansen-hen"),new n("Derby Stallion 04"),new n("Derby Tsuku 3: Derby Uma o Tsukur!"),new n("Derby Tsuku 4: Derby Uma o Tsukur!"),new n("Derby Uma o Tsukur! 5"),new n("Desert Kingdom"),new n("Desi Adda: Games of India"),new n("Desire"),new n("Despicable Me: The Game"),new n("Dessert Love: Sweet Plus"),new n("Destroy All Humans!","destroyallhumans",1,w.Oddworld2001),new n("Destroy All Humans! 2","destroyallhumans2",1,w.Oddworld2001),new n("Destruction Derby Arenas"),new n("Detonator"),new n("Deus Ex: The Conspiracy"),new n("Devil Kings"),new n("Devil May Cry","devilmaycry",3,w.Issung),new n("Devil May Cry 2","devilmaycry2",3,w.Issung),new n("Devil May Cry 3: Dante's Awakening","devilmaycry3",3,w.Issung),new n("Devil May Cry 3: Special Edition","devilmaycry3specialedition",3,w.Sebita),new n("Di Gi Charat Fantasy Excellent"),new n("Diabolik: The Original Sin"),new n("DICE: DNA Integrated Cybernetic Enterprises"),new n("Die Hard: Vendetta"),new n("Diet Channel"),new n("Digimon Rumble Arena 2","digimonrumblearena2",1,w.ItzCookieX),new n("Digimon World 4","digimonworld4",1,w.ItzCookieX),new n("Digimon World Data Squad","digimondatasquad",1,w.ItzCookieX),new n("Digital Holmes"),new n("Dino Stalker"),new n("Dinosaur Adventure"),new n("Dirge of Cerberus: Final Fantasy VII","finalfantasy7dirgeofcerberus",1,w.Issung),new n("Dirt Track Devils"),new n("Disaster Report"),new n("Disgaea: Hour of Darkness","disgaea1hourofdarkness",1,w.ItzCookieX),new n("Disgaea 2: Cursed Memories","disgaea2cursedmemories",1,w.ItzCookieX),new n("Disney Golf"),new n("Disney Hannah Montana: Spotlight World Tour"),new n("Disney Move"),new n("Disney Presents Piglet's Big Game"),new n("Disney Princess: Enchanted Journey"),new n("Disney Sing It"),new n("Disney Sing It!  High School Musical 3: Senior Year"),new n("Disney Sing It: Pop Hits"),new n("Disney Think Fast","disneythinkfast",1,w.Zeroman95),new n("Disney's Chicken Little"),new n("Disney's Chicken Little: Ace in Action"),new n("Disney's Dinosaur"),new n("Disney's Donald Duck: Goin' Quackers"),new n("Disney's Extreme Skate Adventure","disneyextremeskateadventure",1,w.VibiLeFleu),new n("Disney's Kim Possible: What's the Switch?"),new n("Disney's Meet the Robinsons"),new n("Disney's Peter Pan: The Legend of Never-Land"),new n("Disney's PK: Out of the Shadows"),new n("Disney's Stitch: Experiment 626"),new n("Disney's Tarzan: Untamed"),new n("Disney's Treasure Planet"),new n("Disney's Winnie The Pooh's Rumbly Tumbly Adventure"),new n("Disney/Pixar Finding Nemo","findingnemo",1,w.Zeroman95),new n("Disney/Pixar Ratatouille","ratatouille",1,w.Zeroman95),new n("Disney/Pixar Toy Story 3","toystory3",1,w.FenixF),new n("DJ Hero","djhero",1,w.Sebita),new n("DJbox"),new n("DodgeBall"),new n("DoDonPachi Dai-Ou-Jou","dodonpachidai-ou-jou",1,w.Sebita),new n("The Dog Island"),new n("Dog of Bay"),new n("Dog's Life"),new n("DogStation"),new n("Dokapon DX: Wataru Sekai wa Oni Darake"),new n("Dokapon Kingdom"),new n("Dokapon the World"),new n("Doko Demo Issho: Toro to Ippai"),new n("Doko Demo Issho: Toro to Nagare Boshi"),new n("Doko Demo Issho: Watashi na Ehon"),new n("Doko e Iku no, Anohi"),new n("Don 2: The Game"),new n("Donkey Xote"),new n("Doomsday Racers"),new n("Dora the Explorer: Dora Saves the Crystal Kingdom"),new n("Dora the Explorer: Dora Saves the Mermaids"),new n("Dora the Explorer: Dora Saves the Snow Princess"),new n("Dora the Explorer: Journey to the Purple Planet"),new n("Dora's Big Birthday Adventure"),new n("The Double Mahjong Puzzle"),new n("Double Reaction! Plus"),new n("Downforce"),new n("Downhill Domination","downhilldomination",1,w.Sebita),new n("Downhill Slalom"),new n("Downtown Run"),new n("Dr. Dolittle"),new n("Dr. Muto","drmuto",1,w.Oddworld2001),new n("Dr. Seuss' The Cat in the Hat"),new n("Drag Racer USA"),new n("Dragon Ball Z: Budokai","dragonballzbudokai",1,w.Sebita),new n("Dragon Ball Z: Budokai 2","dragonballzbudokai2",1,w.Sebita),new n("Dragon Ball Z: Budokai 3",t=>[new Ve(t,"Original Release","dragonballzbudokai3",1,w.Sebita),new Ve(t,"Greatest Hits Release","dragonballzbudokai3-grestesthitsversion",1,w.Oddworld2001)]),new n("Dragon Ball Z: Budokai Tenkaichi","dragonballzbudokaitenkaichi",1,w.Sebita),new n("Dragon Ball Z: Budokai Tenkaichi 2","dragonballzbudokaitenkaichi2",1,w.Sebita),new n("Dragon Ball Z: Budokai Tenkaichi 3",t=>[new Ve(t,"Game Data","dragonballzbudokaitenkaichi3",1,w.Sebita),new Ve(t,"Replay Data","dragonballzbudokaitenkaichi3replay",1,w.Sebita)]),new n("Dragon Ball Z: Infinite World","dragonballinfiniteworld",1,w.Sebita),new n("Dragon Ball Z: Sagas","dragonballzsagas",1,w.Sebita),new n("Dragon Blaze"),new n("Dragon Quest & Final Fantasy in Itadaki Street Special"),new n("Dragon Quest Characters: Torneko no Daiboiken 3  Fushigi no Dungeon"),new n("Dragon Quest V: Tenkuu no Hanayome","dragonquestv",1,w.Sebita),new n("Dragon Quest VIII: Journey of the Cursed King","dragonquest8",3,w.Issung),new n("Dragon Quest: Shounen Yangus to Fushigi no Dungeon"),new n("Dragon Rage"),new n("Dragon Shadow Spell"),new n("Dragon Sisters","dragonsisters",1,w.ItzCookieX),new n("Dragon's Lair 3D: Special Edition"),new n("Drakan: The Ancients' Gates"),new n("Drakengard","drakengard",1,w.ItzCookieX),new n("Drakengard 2","drakengard2",1,w.ItzCookieX),new n("Dramatic Soccer Game: Nippon Daihyou Senshu Ninarou!"),new n("Drastic Killer"),new n("Dream Audition"),new n("Dream Audition 2"),new n("Dream Audition 3"),new n("Dream Audition Super Hit Disc 1"),new n("Dream Audition Super Hit Disc 2"),new n("DreamMix TV World Fighters"),new n("DreamWorks & Aardman Flushed Away"),new n("DreamWorks Kung Fu Panda"),new n("DreamWorks Madagascar"),new n("DreamWorks Shrek Smash n' Crash Racing","shreksmashncrashracing",1,w.Zwish343),new n("DreamWorks Shrek SuperSlam","shreksuperslam",1,w.Zwish343),new n("DreamWorks Shrek the Third","shrekthethird",3,w.Zwish343),new n("Drive to Survive"),new n("Driven"),new n("Driver 3","driver3",1,w.Typedesigns),new n("Driver: Parallel Lines"),new n("Driving Emotion Type-S"),new n("Drome Racers"),new n("Dropship: United Peace Force"),new n("DrumMania"),new n("DT Carnage"),new n("DT Racer"),new n("Dual Hearts","dualhearts",1,w.ItzCookieX),new n("Duel Masters"),new n("Duel Masters: Birth of Super Dragon"),new n("Duel Savior Destiny"),new n("The Dukes of Hazzard: Return of the General Lee"),new n("Dynasty Tactics","dynastytactics",1,w.ItzCookieX),new n("Dynasty Tactics 2"),new n("Dynasty Warriors 2","dynastywarriors2",1,w.ItzCookieX),new n("Dynasty Warriors 3"),new n("Dynasty Warriors 3: Xtreme Legends","dynastywarriors3xtremelegends",1,w.ItzCookieX),new n("Dynasty Warriors 4","dynastywarriors4",1,w.Issung),new n("Dynasty Warriors 4: Empires","dynastywarriors4empires",1,w.Issung),new n("Dynasty Warriors 4: Xtreme Legends","dynastywarriors4xtremelegends",1,w.Issung),new n("Dynasty Warriors 5","dynastywarriors5",1,w.Issung),new n("Dynasty Warriors 5: Empires","dynastywarriors5empires",1,w.ItzCookieX),new n("Dynasty Warriors 5: Xtreme Legends","dynastywarriors5xtremelegends",1,w.Issung),new n("Dynasty Warriors 6","dynastywarriors6",1,w.ItzCookieX),new n("Dynasty Warriors: Gundam 2","dynastywarriorsgundam2",1,w.Issung),new n("E'tude Prologue: Yureugoku Kokoro no Katachi"),new n("Eagle Eye Golf"),new n("Earache Extreme Metal Racing"),new n("Ecco the Dolphin: Defender of the Future"),new n("Echo Night: Beyond"),new n("Ed, Edd n Eddy: The Mis-Edventures"),new n("Edel Blume"),new n("Edit Racing"),new n("Edomono"),new n("Ef: A Fairy Tale of the Two"),new n("Egg Mania: Eggstreme Madness"),new n("Eien no Aselia: Kono Daichi no Hate de"),new n("Eikan wa Kimini 2002: Koushien no Kodou"),new n("Eikan wa Kimini 2004: Koushien no Kodou"),new n("Eikan wa Kimini: Koushien e no Michi"),new n("Eikan wa Kimini: Koushien no Hasha"),new n("Eisei Meijin IV"),new n("Eisei Meijin V"),new n("Eisei Meijin VI"),new n("Eisei Meijin VII"),new n("El Tigre: The Adventures of Manny Rivera"),new n("Elminage: Yami no Miko to Kamigami no Yubiwa"),new n("Elvandia Story"),new n("Elysion"),new n("Empire of Atlantis"),new n("Endgame"),new n("Endonesia"),new n("Energy Airforce"),new n("Energy Airforce Aim Strike!"),new n("England International Football"),new n("Enter the Matrix","enterthematrix",1,w.Zwish343),new n("Enthusia Professional Racing"),new n("EOE: Eve of Extinction"),new n("Ephemeral Fantasia","ephemeralfantasia",3,w.ItzCookieX),new n("Eragon","eragon",1,w.Zeroman95),new n("Erde: Nezu no Izuki no Shita de"),new n("Erementar Gerad: Matoe, Suifuu no Tsurugi"),new n("Escape from Monkey Island"),new n("Espgaluda"),new n("ESPN College Hoops"),new n("ESPN College Hoops 2K5"),new n("ESPN International Track & Field"),new n("ESPN International Winter Sports 2002"),new n("ESPN Major League Baseball"),new n("ESPN MLS ExtraTime"),new n("ESPN National Hockey Night"),new n("ESPN NBA 2K5"),new n("ESPN NBA 2Night"),new n("ESPN NBA 2Night 2002"),new n("ESPN NBA Basketball"),new n("ESPN NFL 2K5"),new n("ESPN NFL Football"),new n("ESPN NFL PrimeTime 2002"),new n("ESPN NHL 2K5"),new n("ESPN NHL Hockey","espnnhlhockey2004",1,w.Issung),new n("ESPN Winter X-Games Snowboarding"),new n("ESPN Winter X-Games Snowboarding 2002"),new n("ESPN X-Games Skateboarding"),new n("Eternal Poison"),new n("Eternal Quest"),new n("Eternal Ring"),new n("Eureka Seven vol.1: New Wave"),new n("Eureka Seven vol. 2: The New Vision"),new n("Euro Rally Champion"),new n("European Game Collection"),new n("European Tennis Pro"),new n("Evangelion: Jo"),new n("EVE Burst Error Plus"),new n("EVE: New Generation"),new n("Ever17: The Out of Infinity"),new n("Everblue"),new n("Everblue 2"),new n("Evergrace","evergrace",1,w.ItzCookieX),new n("EverQuest Online Adventures"),new n("EverQuest Online Adventures: Frontiers"),new n("Evil Dead: A Fistful of Boomstick"),new n("Evil Dead: Regeneration"),new n("Evil Twin: Cyprien's Chronicles"),new n("Evolution Skateboarding"),new n("Evolution Snowboarding"),new n("EX Jinsei Game"),new n("EX Jinsei Game II"),new n("EX Okuman Chouja Game"),new n("Ex Zeus"),new n("Extermination"),new n("Extreme Sprint 3010"),new n("Eyeshield 21: AmeFoot Yarouze! Ya! Ha!"),new n("EyeToy: AntiGrav"),new n("EyeToy: Groove"),new n("EyeToy: Kinetic"),new n("EyeToy: Kinetic Combat"),new n("EyeToy: Monkey Mania"),new n("EyeToy: Operation Spy"),new n("EyeToy: Play"),new n("EyeToy: Play 2"),new n("EyeToy: Play 3"),new n("EyeToy Play: Astro Zoo"),new n("EyeToy Play: Hero"),new n("EyeToy Play: PomPom Party"),new n("EyeToy Play: Sports"),new n("F: Fanatic"),new n("F1 2001"),new n("F1 2002"),new n("F1 Career Challenge"),new n("F1 Championship Season 2000"),new n("F1 Racing Championship"),new n("The Fairly OddParents: Breakin' Da Rules"),new n("The Fairly OddParents: Shadow Showdown"),new n("Falling Stars"),new n("Fallout: Brotherhood of Steel","falloutbrotherhoodofsteel",1,w.NateTool),new n("Fame Academy: Dance Edition"),new n("Family Board Games"),new n("Family Feud"),new n("Family Guy","familyguy",1,w.ItzCookieX),new n("Fantastic 4"),new n("Fantastic Fortune 2"),new n("Fantastic Fortune 2: Triple Star"),new n("Fantastic Four: Rise of the Silver Surfer"),new n("Fantasy Battle Kouryaku Box"),new n("The Fantasy Renai Adventure: Kanojo no Densetsu"),new n("FantaVision","fantavision",3,w.ItzCookieX),new n("The Fast and the Furious"),new n("Fatal Frame","fatalframe",1,w.Sebita),new n("Fatal Frame II: Crimson Butterfly","fatalframeiicrimsonbutterfly",1,w.Sebita),new n("Fatal Frame III: The Tormented","fatalframeiiithetormented",1,w.Sebita),new n("Fatal Fury: Battle Archives Vol. 1"),new n("Fatal Fury: Battle Archives Vol. 2"),new n("Fate/Stay Night&nbsp;: Realta Nua"),new n("Fate/Unlimited Codes"),new n("The Fear"),new n("Ferrari Challenge Trofeo Pirelli"),new n("Ferrari F355 Challenge"),new n("Festa!! Hyper Girls Party"),new n("Fever 6"),new n("Fever 7"),new n("Fever 8"),new n("Fever 9"),new n("FIFA 14: Legacy Edition"),new n("FIFA 2001"),new n("FIFA Soccer 06"),new n("FIFA Soccer 07"),new n("FIFA Soccer 08"),new n("FIFA Soccer 09"),new n("FIFA Soccer 10"),new n("FIFA Soccer 11"),new n("FIFA Soccer 12"),new n("FIFA Soccer 13"),new n("FIFA Soccer 2002"),new n("FIFA Soccer 2003"),new n("FIFA Soccer 2004"),new n("FIFA Soccer 2005"),new n("FIFA Soccer World Championship"),new n("FIFA Street"),new n("FIFA Street 2"),new n("FIFA Total Football"),new n("FIFA Total Football 2"),new n("FIFA World Cup: Germany 2006"),new n("Fight Club"),new n("Fight Night 2004"),new n("Fight Night Round 2"),new n("Fight Night Round 3"),new n("FightBox"),new n("Fighter Maker 2"),new n("Fighting Angels"),new n("Fighting for One Piece","onepiecefightingforonepiece",1,w.ItzCookieX),new n("Fighting Fury"),new n("Final Approach"),new n("Final Approach 2: 1st Priority"),new n("Final Armada"),new n("Final Fantasy X","finalfantasy10",1,w.Issung),new n("Final Fantasy X-2","finalfantasyfx2",1,w.ItzCookieX),new n("Final Fantasy X-2: International + Last Mission","finalfantasyx2international",1,w.ItzCookieX),new n("Final Fantasy XI"),new n("Final Fantasy XI: Chains of Promathia"),new n("Final Fantasy XI: Rise of the Zilart"),new n("Final Fantasy XI: Seekers of Adoulin"),new n("Final Fantasy XI: Treasures of Aht Urhgan"),new n("Final Fantasy XI: Wings of the Goddess"),new n("Final Fantasy XII","finalfantasy12",1,w.Issung),new n("Final Fantasy XII International Zodiac Job System","finalfantasy12zodiacjobsystem",1,w.Psiences),new n("Final Fight: Streetwise"),new n("Finalist"),new n("Finkles World"),new n("Finny The Fish & The Seven Waters"),new n("Fire Blade"),new n("Fire Heroes"),new n("Fire Pro Wrestling Returns"),new n("Fire Pro Wrestling Z"),new n("Firefighter F.D. 18"),new n("First Kiss * Monogatari I & II"),new n("Fisherman's Bass Club"),new n("Fisherman's Challenge"),new n("Fishing Fantasy: BuzzRod"),new n("Fitness Fun"),new n("Flame of Recca: Final Burning"),new n("FlatOut"),new n("FlatOut 2"),new n("The Flintstones in Viva Rock Vegas"),new n("The Flintstones: Bedrock Racing"),new n("Flipnic: Ultimate Pinball"),new n("Flow: Urban Dance Uprising"),new n("Flower, Sun, and Rain"),new n("Football Generation"),new n("Football Kingdom: Trial Edition"),new n("For Symphony: With All One's Heart"),new n("Ford Bold Moves Street Racing"),new n("Ford Mustang: The Legend Lives"),new n("Ford Racing 2"),new n("Ford Racing 3"),new n("Ford Racing: Off Road"),new n("Ford vs. Chevy"),new n("Forever Kingdom","foreverkingdom",1,w.ItzCookieX),new n("Forgotten Realms: Demon Stone","forgottenrealmsdemonstone",1,w.ItzCookieX),new n("Formation Final"),new n("Formula One 04"),new n("Formula One 05"),new n("Formula One 06"),new n("Formula One 2001"),new n("Formula One 2002"),new n("Formula One 2003"),new n("Formula Challenge"),new n("Forty 4 Party"),new n("Fragments Blue"),new n("Fragrance Tale"),new n("Frank Herbert's Dune"),new n("Frankie Dettori Racing"),new n("Franklin: A Birthday Surprise"),new n("Freak Out: Extreme Freeride"),new n("Freaky Flyers","freakyflyers",1,w.ItzCookieX),new n("Free Running"),new n("Freedom Fighters","freedomfighters",1,w.Issung),new n("Freekstyle"),new n("Freestyle MetalX"),new n("Frequency","frequency",1,w.Issung),new n("Friends: The One with All the Trivia"),new n("Friends: Seishun no Kagayaki"),new n("Frogger: Ancient Shadow","froggerancientshadow",1,w.ItzCookieX),new n("Frogger Beyond"),new n("Frogger: The Great Quest","froggergreatquest",2,w.SqueezedDog),new n("Frogger's Adventures: The Rescue","froggeradventurestherescue",1,w.ItzCookieX),new n("From Russia with Love","jamesbondfromrussiawithlove",1,w.FenixF),new n("Front Mission 4"),new n("Front Mission 5: Scars of the War"),new n("Front Mission Online"),new n("Fruit Machine Mania"),new n("Fruitfall"),new n("Fugitive Hunter: War on Terror"),new n("Fukakutei Sekai no Tantei Shinshi: Akugyou Futaasa no Jiken File"),new n("Full House Kiss"),new n("Full House Kiss 2"),new n("Full Spectrum Warrior"),new n("Full Spectrum Warrior: Ten Hammers"),new n("Fullmetal Alchemist 2: Curse of the Crimson Elixir"),new n("Fullmetal Alchemist 3: The Girl who Succeeds God"),new n("Fullmetal Alchemist and the Broken Angel"),new n("Fullmetal Alchemist: Dream Carnival"),new n("Fur Fighters: Viggo's Revenge"),new n("Furasera: Hurrah! Sailor"),new n("Furry Tales"),new n("Fushigi no Kuni no Alice"),new n("Fushigi no Umi no Nadia: Inherit the Blue Water"),new n("Fushigi Yuugi: Genbu Kaiten Gaiden - Kagami no Miko"),new n("Fushigi Yuugi: Suzaku Ibun"),new n("Futakoi"),new n("Futakoi Alternative"),new n("Futakoi: Koi to Mizugi no Survival"),new n("Futari no Fantavision"),new n("Futurama","futurama",1,w.Zwish343),new n("Future Tactics: The Uprising"),new n("Fuun Bakumatsuden"),new n("Fuuraiki"),new n("Fuuraiki 2"),new n("Fuuun Shinsengumi"),new n("Fuuun Super Combo"),new n("G-Force (2006)","gforce2006",1,w.FenixF),new n("G-Force"),new n("G-Saviour"),new n("G-Taste Mahjong"),new n("G.I. Joe: The Rise of Cobra"),new n("G1 Jockey"),new n("G1 Jockey 2"),new n("G1 Jockey 3"),new n("G1 Jockey 3 2003"),new n("G1 Jockey 3 2005 Nendoban"),new n("G1 Jockey 4"),new n("G1 Jockey 4 2006"),new n("G1 Jockey 4 2007"),new n("G1 Jockey 4 2008"),new n("Gacharoku"),new n("Gacharoku 2: Kondo wa Sekai Isshuu yo!!"),new n("Gachinko Pro Yakyuu"),new n("Gadget & the Gadgetinis"),new n("Gadget Racers"),new n("Gaelic Games: Football"),new n("Gaelic Games: Football 2"),new n("Gaelic Games: Hurling"),new n("Gaika no Gouhou: Air Land Force"),new n("Gakkou o Tsukurou!! Happy Days"),new n("Gakuen Alice: KiraKira Memory Kiss"),new n("Gakuen Heaven: Boy's Love Scramble!"),new n("Gakuen Heaven: Boy's Love Scramble: Type B"),new n("Gakuen Heaven: Okawari! Boy's Love Attack!"),new n("Gakuen Toshi Vara Noir"),new n("Gakuen Utopia: Manabi Straight! KiraKira Happy Festa!"),new n("Galactic Wrestling: Featuring Ultimate Muscle"),new n("Galaxy Angel"),new n("Galaxy Angel II: Eigou Kaiki no Koku"),new n("Galaxy Angel II: Mugen Kairou no Kagi"),new n("Galaxy Angel II: Zettairyouiki no Tobira"),new n("Galaxy Angel: Eternal Lovers"),new n("Galaxy Angel: Moonlit Lovers"),new n("Galerians: Ash"),new n("Gallop Racer 2001"),new n("Gallop Racer 2003: A New Breed"),new n("Gallop Racer 2004"),new n("Gallop Racer 2006"),new n("Gallop Racer Inbreed"),new n("Gambler Densetsu Tetsuya"),new n("Gambler Densetsu Tetsuya Digest"),new n("Gambler Densetsu Tetsuya: Kurouto Choujou Kessen"),new n("Game Center USA: Midway Arcade Treasures"),new n("Game ni Nattayo! Dokuro-chan"),new n("Game Select 5 Wa"),new n("Game Select 5 You"),new n("Games Galaxy 2"),new n("Gantz: The Game"),new n("Garfield"),new n("Garfield: A Tale of Two Kitties"),new n("Garfield: Lasagna World Tour"),new n("Garfield: Saving Arlene"),new n("Garou: Mark of the Wolves"),new n("Garouden Breakblow"),new n("Garouden Breakblow: Fist or Twist"),new n("Gauntlet: Dark Legacy"),new n("Gauntlet: Seven Sorrows"),new n("Gecko Blaster"),new n("Gegege no Kitarou: Ibun Youkai Kitan"),new n("The Gekai"),new n("Gekikuukan Pro Yakyuu: At the End of the Century 1999"),new n("Gekitou Pro Yakyuu"),new n("Gendai Daisenryaku: Isshoku Sokuhatsu - Gunji Balance Houkai"),new n("Gene Troopers"),new n("Generation of Chaos"),new n("Generation of Chaos III: Toki no Fuuin"),new n("Generation of Chaos IV"),new n("Generation of Chaos Desire"),new n("Generation of Chaos Next"),new n("Genji: Dawn of the Samurai","genjidawnofthesamurai",1,w.ItzCookieX),new n("Genshi no Kotoba"),new n("Georama Sensen Ijou Nashi: Stalingrad e no Michi"),new n("George of the Jungle and the Search for the Secret"),new n("Germany's Next Topmodel 2009"),new n("Get On Da Mic"),new n("Get Ride! AMDriver: Soukoku no Shinjitsu"),new n("The Getaway"),new n("The Getaway: Black Monday"),new n("GetBackers Dakkanya: Dakkandayo! Zenin Shuugou!!"),new n("GetBackers Dakkanya: Ubawareta Mugenjou"),new n("GetBackers Dakkanya: Urashinshiku Saikyou Battle"),new n("Getsumento Heiki Mina: Futatsu no Project M"),new n("Ghost in the Shell: Stand Alone Complex","ghostintheshellsac",1,w.Psiences),new n("Ghost Master: The Gravenville Chronicles"),new n("Ghost Rider"),new n("Ghost Vibration"),new n("Ghostbusters: The Video Game","ghostbustersthevideogame",1,w.Zwish343),new n("Ghosthunter"),new n("Giant Robo: The Animation - Chikyuu ga Seishisuru Hi"),new n("Giants: Citizen Kabuto"),new n("Gift"),new n("Gift: Prism"),new n("Gigawing Generations"),new n("Gin no Eclipse"),new n("Gintama Gin-San to Issho! Boku no Kabuki Machi Nikki"),new n("Girl Zone"),new n("Girls Bravo: Romance 15's"),new n("GitaDora! Guitar Freaks 4th Mix & DrumMania 3rd Mix"),new n("Gitaroo Man","gitarooman",3,w.Issung),new n("Gladiator: Sword of Vengeance"),new n("Gladius"),new n("Glass Rose"),new n("Global Defence Force"),new n("Global Defence Force: Tactics"),new n("Global Folktale"),new n("Global Touring Challenge: Africa"),new n("Go, Diego, Go! Great Dinosaur Rescue"),new n("Go, Diego, Go! Safari Rescue"),new n("Go Go Copter"),new n("Go Go Golf"),new n("Go Kart Rally"),new n("Goblin Commander: Unleash the Horde"),new n("Gobuato no Sekai"),new n("God Hand","godhand",1,w.Issung),new n("God of War","godofwar",1,w.Issung),new n("God of War II","godofwar2",1,w.Issung),new n("Godai Elemental Force"),new n("The Godfather"),new n("Godzilla: Save the Earth","godzillasavetheearth",1,w.Oddworld2001),new n("Godzilla: Unleashed","godzillaunleashed",1,w.Oddworld2001),new n("Gokujou Seitokai"),new n("Gokuraku Jan Premium"),new n("Gold X"),new n("Golden Age of Racing"),new n("The Golden Compass"),new n("GoldenEye: Rogue Agent"),new n("Golf Navigator Vol. 1"),new n("Golf Navigator Vol. 2"),new n("Golf Navigator Vol. 3"),new n("Golf Navigator Vol. 4"),new n("Golf Paradise DX"),new n("Goosebumps HorrorLand"),new n("Gradius III and IV","gradius3and4",1,w.ItzCookieX),new n("Gradius V","gradius5",1,w.ItzCookieX),new n("Graffiti Kingdom",t=>[new Ve(t,"Game Data","graffitikingdomgamedata",1,w.ItzCookieX),new Ve(t,"Creation Data","graffitikingdomcreationdata",1,w.ItzCookieX)]),new n("Gran Turismo 3 A-Spec","granturismo3",1,w.Issung),new n("Gran Turismo 3 (Replay)","granturismo3replay",1,w.Sebita),new n("Gran Turismo 4","granturismo4",1,w.Issung),new n("Gran Turismo 4 Prologue","granturismo4prologue",1,w.Sebita),new n("Gran Turismo Concept: 2001 Tokyo","granturismoconcept2001tokyo",1,w.Sebita),new n("Gran Turismo Concept 2002 Tokyo-Geneva","granturismoconcept2001tokyogeneva",1,w.Sebita),new n("Gran Turismo Concept 2002 Tokyo-Seoul","granturismoconcept2001tokyoseoul",1,w.Sebita),new n("Grand Prix Challenge"),new n("Grand Theft Auto III","gta3",1,w.Issung),new n("Grand Theft Auto: Liberty City Stories","gtalibertycitystories",1,w.Oddworld2001),new n("Grand Theft Auto: San Andreas","gtasanandreas",1,w.Issung),new n("Grand Theft Auto: Vice City","vicecity",1,w.NateTool),new n("Grand Theft Auto: Vice City Stories","gtavicecitystories",1,w.Oddworld2001),new n("Grandia II","grandia2",1,w.ItzCookieX),new n("Grandia III","grandia3",1,w.ItzCookieX),new n("Grandia Xtreme","grandiaxtreme",1,w.ItzCookieX),new n("Gravity Games Bike: Street. Vert. Dirt."),new n("The Great British Football Quiz"),new n("The Great Escape"),new n("Green Green: Kane no Oto Dynamic"),new n("Green Green: Kane no Oto Romantic"),new n("Greg Hastings Tournament Paintball MAX'D"),new n("Gregory Horror Show","gregoryhorrorshow",3,w.VibiLeFleu),new n("Gretzky NHL 06"),new n("Gretzky NHL 2005"),new n("The Grim Adventures of Billy & Mandy"),new n("GrimGrimoire","grimgrimoire",2,w.ItzCookieX),new n("Grooverider: Slot Car Racing"),new n("Growlanser II: The Sense of Justice"),new n("Growlanser III: The Dual Darkness"),new n("Growlanser IV: Wayfarer of the Time"),new n("Growlanser IV: Wayfarer of the Time - Return"),new n("Growlanser VI: Precarious World"),new n("Growlanser: Heritage of War"),new n("GT Racers"),new n("GT-R 400"),new n("GT-R Touring"),new n("Guardian Angel"),new n("Guerrilla Strike"),new n("Guilty Gear Isuka","guiltygearisuka",1,w.ItzCookieX),new n("Guilty Gear X","guiltygearx",1,w.ItzCookieX),new n("Guilty Gear X Plus","guiltygearxplus",1,w.ItzCookieX),new n("Guilty Gear X2","guiltygearx2",1,w.Issung),new n("Guilty Gear X2 #Reload","guiltygearreload",1,w.ItzCookieX),new n("Guilty Gear XX: Accent Core","guiltygearaccentcore",1,w.ItzCookieX),new n("Guilty Gear XX: Accent Core Plus","guiltygearaccentcoreplus",1,w.ItzCookieX),new n("Guilty Gear XX: Slash","guiltygearxxslash",1,w.ItzCookieX),new n("Guisard Revolution: Bokura wa Omoi o Mi ni Matou"),new n("GuitarFreaks 3rd Mix & DrumMania 2nd Mix"),new n("GuitarFreaks & DrumMania: Masterpiece Gold","guitarfreaksmasterpiecegold",1,w.ItzCookieX),new n("GuitarFreaks & DrumMania: Masterpiece Silver","guitarfreaksmasterpiecesilver",1,w.ItzCookieX),new n("GuitarFreaks V & DrumMania V","guitarfreaksv",1,w.ItzCookieX),new n("GuitarFreaks V2 & DrumMania V2","guitarfreaksv2",1,w.ItzCookieX),new n("GuitarFreaks V3 & DrumMania V3","guitarfreaksv3",1,w.ItzCookieX),new n("Guitar Hero","guitarhero",1,w.Typedesigns),new n("Guitar Hero II","guitarhero2",1,w.Issung),new n("Guitar Hero III: Legends of Rock","guitarhero3",1,w.Typedesigns),new n("Guitar Hero 5","guitarhero5",1,w.Typedesigns),new n("Guitar Hero: Aerosmith","guitarheroaerosmith",1,w.Typedesigns),new n("Guitar Hero Encore: Rocks the 80s","guitarherorocksthe80s",1,w.Typedesigns),new n("Guitar Hero: Metallica","guitarherometallica",1,w.Sebita),new n("Guitar Hero Smash Hits","guitarherosmashhits",1,w.Sebita),new n("Guitar Hero: Van Halen","guitarherovanhalen",1,w.Sebita),new n("Guitar Hero World Tour","guitarheroworldtour",1,w.Typedesigns),new n("Gumball 3000"),new n("Gun"),new n("Gunbird Special Edition"),new n("Guncom 2"),new n("Gundam Musou Special"),new n("Gunfighter II: Revenge of Jesse James"),new n("Gungrave","gungrave",1,w.ItzCookieX),new n("Gungrave: Overdose","gungraveoverdose",1,w.ItzCookieX),new n("Gungriffon Blaze"),new n("Gunparade Orchestra: Ao no Shou"),new n("Gunparade Orchestra: Midori no Shou"),new n("Gunparade Orchestra: Shiro no Shou"),new n("Gunslinger Girl Volume I"),new n("Gunslinger Girl Volume II"),new n("Gunslinger Girl Volume III"),new n("Gunvari Collection + Time Crisis"),new n("Guts da!! Mori no Ishimatsu"),new n("The Guy Game","theguygame",1,w.Issung),new n("H2O+: Footprints in the Sand"),new n("Habitrail Hamster Ball"),new n("Hachi-One Diver"),new n("Hai-Shin 3"),new n("Hajime no Ippo 2: Victorious Road"),new n("Hajime no Ippo: Victorious Boxers - Championship Version"),new n("The Hajimete no RPG"),new n("Hakarena Heart: Kimi ga Tame ni Kagayaki o"),new n("Hakoniwa Tetsudou: Blue Train Tokkyuuhen"),new n("Hakuouki"),new n("Hakuouki: Reimeiroku"),new n("Hakuouki: Zuisouroku"),new n("Hakushaku to Yousei: Yume to Kizuna ni Omoi Hasete"),new n("Half-Life","halflife",2,w.Issung),new n("Hametsu no Mars"),new n("Hamster Heroes"),new n("Hana to Otome ni Shukufuku o: Harukaze no Okurimono"),new n("Hana to Taiyou to Ame to"),new n("Hanabi Hyakkei"),new n("Hanabi Shokunin Ninarou 2"),new n("Hanafuda"),new n("Hanakisou"),new n("The Hanasou Eigo no Tabi"),new n("The Hanasou Kankokugo no Tabi"),new n("Hanayoi Romanesque: Ai to Kanashimi Sore wa Kimi no Tame no Aria"),new n("Hanjuku Eiyuu 4: 7-Jin no Hanjuku Eiyuu"),new n("Hanjuku Eiyuu Tai 3D"),new n("Hannspree Ten Kate Honda SBK"),new n("Hansel & Gretel"),new n("Hanuman: Boy Warrior"),new n("Happiness! De-Lucks"),new n("Happy Breeding: Cheerful Party"),new n("Happy Feet"),new n("Happy! Happy!! Boarders in Hokkaido"),new n("Hard Hitter Tennis"),new n("Hard Knock High"),new n("Hard Rock Casino"),new n("Hardware: Online Arena"),new n("Harley-Davidson Motorcycles: Race to the Rally"),new n("Harry Potter and the Chamber of Secrets"),new n("Harry Potter and the Goblet of Fire"),new n("Harry Potter and the Half-Blood Prince"),new n("Harry Potter and the Order of the Phoenix"),new n("Harry Potter and the Prisoner of Azkaban"),new n("Harry Potter and the Sorcerer's Stone"),new n("Harry Potter: Quidditch World Cup"),new n("Haru no Ashioto: Step of Spring"),new n("Harukanaru Toki no Naka de 2"),new n("Harukanaru Toki no Naka de 3"),new n("Harukanaru Toki no Naka de 3: Izayoiki"),new n("Harukanaru Toki no Naka de 3: Unmei no Labyrinth"),new n("Harukanaru Toki no Naka de 4"),new n("Harukanaru Toki no Naka de: Hachiyoushou"),new n("Harukanaru Toki no Naka de: Maihitoyo"),new n("Harukanaru Toki no Naka de: Yumenoukihashi Special"),new n("Harvest Moon: A Wonderful Life","harvestmoonawonderfullife",1,w.ItzCookieX),new n("Harvest Moon: Save the Homeland","harvestmoonsavethehomeland",3,w.ItzCookieX),new n("Harvey Birdman: Attorney at Law"),new n("Hasbro Family Game Night"),new n("Hatsukoi: First Kiss"),new n("The Haunted Mansion"),new n("Haunting Ground","hauntingground",1,w.Psiences),new n("Haven: Call of the King"),new n("Hawk-Kawasaki Racing"),new n("Hayarigami 2: Keishichou Kaii Jiken File"),new n("Hayarigami: Keishichou Kaii Jiken File"),new n("Hayarigami Revenge: Keishichou Kaii Jiken File"),new n("Headhunter"),new n("Headhunter: Redemption"),new n("Heart no Kuni no Alice: Wonderful Wonder World"),new n("Heartbeat Boxing"),new n("Heatseeker","heatseeker",1,w.ItzCookieX),new n("Heavenly Guardian"),new n("Heavy Metal Thunder"),new n("Heisei Bakutoden"),new n("Hello Kitty: Minna de Sugoroku"),new n("Hello Kitty: Roller Rescue","hellokittyrollerrescue",1,w.ItzCookieX),new n("Hello Kitty: Starlight Puzzle"),new n("Heracles: Battle with the Gods"),new n("Heracles: Chariot Racing"),new n("Herdy Gerdy"),new n("Hermina to Culus"),new n("Heroes of Might and Magic: Quest for the Dragon Bone Staff"),new n("Heroes of the Pacific"),new n("Hidden Invasion"),new n("Higanbana"),new n("High Heat Major League Baseball 2002"),new n("High Heat Major League Baseball 2003"),new n("High Heat Major League Baseball 2004"),new n("High Rollers Casino"),new n("High School Musical 3: Senior Year DANCE!"),new n("High School Musical: Sing It!"),new n("Higurashi no Naku Koro ni Matsuri"),new n("Higurashi no Naku Koro ni Matsuri: Kakera Asobi"),new n("Hiiro no Kakera"),new n("Hiiro no Kakera: Ano Sora no Shita de"),new n("Hiiro no Kakera: Shin Tamayori Hime Denshou"),new n("Himehibi: New Princess Days!! Zoku! Ni-Gakki"),new n("HimeHibi: Princess Days"),new n("Hissatsu Pachi-Slot Evolution: Ninja Hattori-Kun V"),new n("Hissatsu Pachinko Evolution 2: Osomatsu-Kun"),new n("Hissatsu Pachinko Station V: Honoo no Bakushougun"),new n("Hissatsu Pachinko Station V2"),new n("Hissatsu Pachinko Station V3"),new n("Hissatsu Pachinko Station V4"),new n("Hissatsu Pachinko Station V5"),new n("Hissatsu Pachinko Station V6"),new n("Hissatsu Pachinko Station V7"),new n("Hissatsu Pachinko Station V8"),new n("Hissatsu Pachinko Station V9: Osomatsu-kun"),new n("Hissatsu Pachinko Station V10"),new n("Hissatsu Pachinko Station V11"),new n("Hissatsu Ura-Kagyou"),new n("Hisshou Pachinko Kouryaku Series Vol. 1: CR Shinseiki Evangelion"),new n("Hisshou Pachinko*Pachi-Slot Kouryaku Series Vol. 2: Bomber Powerful & Yume Yume World DX"),new n("CR Marilyn Monroe"),new n("Hisshou Pachinko*Pachi-Slot Kouryaku Series Vol. 4: CR Ashita Gaarusa Yoshimoto World"),new n("Hisshou Pachinko*Pachi-Slot Kouryaku Series Vol. 5: CR Shinseiki Evangelion 2nd Impact * Pachi-Slot Shinseiki Evangelion"),new n("Hisshou Pachinko*Pachi-Slot Kouryaku Series Vol. 6: 7Cafe Keishikina Bomber Powerful 2"),new n("Hisshou Pachinko*Pachi-Slot Kouryaku Series Vol. 7: CR Fever Powerful Zero"),new n("CR Matsuura Aya"),new n("Hisshou Pachinko*Pachi-Slot Kouryoku Series Vol. 9: CR Fever Captain Harlock"),new n("Hisshou Pachinko*Pachi-Slot Kouryaku Series Vol. 10: CR Shinseiki Evangelion: Kiseki no Kachi"),new n("Hisshou Pachinko*Pachi-Slot Kouryaku Series Vol. 11: Shinseiki Evangelion  Magokoro o, Kimi ni"),new n("Hisshou Pachinko*Pachi-Slot Kouryaku Series Vol. 12: CR Shinseiki Evangelion  Shito, Futatabi"),new n("Hisshou Pachinko*Pachi-Slot Kouryaku Series Vol. 13: Shinseiki Evangelion  Yakusoku no Toki"),new n("Hisshou Pachinko*Pachi-Slot Kouryaku Series Vol. 14: CR Shinseiki Evangelion: Saigo no Mono"),new n("The History Channel: Battle for the Pacific"),new n("The History Channel: Civil War - A Nation Divided"),new n("The History Channel: Civil War: Secret Missions"),new n("The History Channel: Great Battles of Rome"),new n("Hisui no Shizuku: Hiiro no Kakera 2"),new n("Hitman 2: Silent Assassin"),new n("Hitman: Blood Money"),new n("Hitman: Contracts"),new n("The Hobbit","thehobbit",1,w.VibiLeFleu),new n("Hokenshitsu e Youkoso"),new n("Hokkahoka Sentou"),new n("Hokuto no Ken"),new n("Home Alone"),new n("Home Maid: Owari no Tachi"),new n("Homerun"),new n("Homura"),new n("Honkakuha 2000 Series: 3D Mahjong + Janpai Tori"),new n("Honkakuteki Pachinko Jikki Kouryaku Series: Milky Bar and Kirakuin"),new n("Honoo no Takuhaibin"),new n("Hooligan: Kimi no Naka no Yuuki"),new n("Hoppie"),new n("Horse Breaker"),new n("Horsez"),new n("Hoshi Furu"),new n("Hoshi no Furu Toki"),new n("Hoshigari Empusa"),new n("Hoshiiro no Okurimono"),new n("Hot Shots Golf 3"),new n("Hot Shots Golf Fore!","hotshotsgolffore",2,w.Oddworld2001),new n("Hot Shots Golf Online"),new n("Hot Shots Tennis","hotshotstennis",2,w.Oddworld2001),new n("Hot Wheels: Beat That!"),new n("Hot Wheels: Stunt Track Challenge"),new n("Hot Wheels Velocity X"),new n("Hot Wheels World Race"),new n("Houkago no Love Beat"),new n("Houkago wa Gin no Shirabe"),new n("Houshin Engi 2"),new n("Hresvelgr"),new n("HSX HyperSonic.Xtreme"),new n("Hudson Selection Vol. 3: PC Genjin"),new n("Hudson Selection Vol. 4: Takahashi Meijin no Bouken Jima"),new n("Hugo: Bukkazoom!"),new n("Hugo: Cannon Cruise"),new n("Hugo: Magic In The Troll Woods"),new n("Hulk","hulk",1,w.Oddworld2001),new n("Hummer Badlands"),new n("Hungry Ghosts (PlayStation 2 game)Hungry Ghosts"),new n("Hunter: The Reckoning: Wayward"),new n("Hunter X Hunter: Ryumyaku no Saidan"),new n("The Hustle: Detroit Streets"),new n("Hyakko: Yorozuya Jikenbo!"),new n("Hype: The Time Quest"),new n("Hyper Street Fighter II: The Anniversary Edition"),new n("I Love Baseball: Pro Yakyuu o Koyonaku Aisuru Hitotachi e"),new n("I-Ninja","ininja",3,w.SqueezedDog),new n("I/O"),new n("I.Q. Remix+: Intelligent Qube","intelligentqube",1,w.SqueezedDog),new n("I's Pure"),new n("Ibara","ibara",1,w.Sebita),new n("Ice Age 2: The Meltdown"),new n("Ice Age: Dawn of the Dinosaurs"),new n("Ichigeki Sacchuu!! HoiHoi-San"),new n("Ichigo 100% Strawberry Diary"),new n("Ichigo Mashimaro"),new n("Ico"),new n("Ide Yosuke no Mahjong Kazoku 2"),new n("Idol Janshi R: Janguru Project"),new n("Idol Janshi Suchie-Pai IV"),new n("Igo"),new n("The Igo"),new n("Igo 4"),new n("IGPX: Immortal Grand Prix"),new n("IHRA Drag Racing 2"),new n("IHRA Drag Racing: Sportsman Edition"),new n("IHRA Professional Drag Racing 2005"),new n("Iinazuke"),new n("Ikki Tousen: Shining Dragon","ikkitousenshiningdragon",1,w.Issung),new n("Ikuze! Onsen Takkyuu!!"),new n("Impossible Mission"),new n("In the Groove"),new n("Inaka Kurashi: Nan no Shima no Monogatari"),new n("The Incredible Hulk","theincrediblehulk",1,w.Oddworld2001),new n("The Incredible Hulk: Ultimate Destruction","theincrediblehulkultimatedestruction",1,w.Oddworld2001),new n("The Incredibles","theincredibles",1,w.SqueezedDog),new n("The Incredibles: Rise of the Underminer"),new n("Indiana Jones and the Emperor's Tomb"),new n("Indiana Jones and the Staff of Kings"),new n("Indigo Prophecy"),new n("IndyCar Series"),new n("IndyCar Series 2005"),new n("Initial D Special Stage","initialdspecialstage",1,w.Psiences),new n("Initial D - Takahashi Ryosuke no Typing Saisoku Riron"),new n("Innocent Life: A Futuristic Harvest Moon"),new n("Inspector Gadget: Mad Robots Invasion"),new n("Intellivision Lives!"),new n("Interlude"),new n("International Cricket Captain III"),new n("International Cue Club 2"),new n("International Golf Pro"),new n("International Pool Championship"),new n("International Snooker Championship"),new n("International Super Karts"),new n("International Superstar Soccer"),new n("International Superstar Soccer 2"),new n("International Superstar Soccer 3"),new n("International Tennis Pro"),new n("Internet Igo"),new n("Internet Mahjong"),new n("Internet Othello"),new n("Internet Shogi"),new n("InuYasha: Feudal Combat"),new n("InuYasha: The Secret of the Cursed Mask"),new n("Iridium Runners"),new n("Iris"),new n("Iron Aces 2: Birds of Prey"),new n("Iron Chef"),new n("Iron Man"),new n("Iron Sea"),new n("Ishikura Noboru no Igo Kouza: Chuukyuuhen"),new n("Ishikura Noboru no Igo Kouza: Joukyuuhen"),new n("Ishikura Noboru no Igo Kouza: Nyuumonhen"),new n("Island Xtreme Stunts"),new n("Itadaki Street 3: Okumanchouja ni Shite Ageru!"),new n("The Italian Job"),new n("Itsuka, Todoku, Ano Sora ni"),new n("Izayoi Renka"),new n("Izumo 2"),new n("Izumo 2: Gakuen Kyousoukyoku"),new n("Izumo Complete"),new n("Izumo Zero"),new n("J.League Pro Soccer Club o Tsukurou! '04"),new n("J.League Pro Soccer Club o Tsukurou! 3"),new n("J.League Pro Soccer Club o Tsukurou! 5"),new n("J.League Tactics Manager"),new n("J.League Winning Eleven 10 + Europa League 06-07"),new n("J.League Winning Eleven 2007 Club Championship"),new n("J.League Winning Eleven 2008 Club Championship"),new n("J.League Winning Eleven 2009 Club Championship"),new n("J.League Winning Eleven 2010 Club Championship"),new n("J.League Winning Eleven 5"),new n("J.League Winning Eleven 6"),new n("J.League Winning Eleven 8: Asia Championship"),new n("J.League Winning Eleven 9: Asia Championship"),new n("J.League Winning Eleven Tactics"),new n("Jackass: The Game","jackassthegame",1,w.NateTool),new n("Jacked"),new n("Jackie Chan Adventures"),new n("Jackpot Madness"),new n("Jade Cocoon 2","jadecocoon2",3,w.ItzCookieX),new n("Jak and Daxter: The Precursor Legacy","jakanddaxter1",1,w.Issung),new n("Jak II","jak2",1,w.Issung),new n("Jak 3","jak3",1,w.Issung),new n("Jak X: Combat Racing","jakxcombatracing",1,w.Issung),new n("Jak and Daxter: The Lost Frontier","jakanddaxterlostfrontier",1,w.Issung),new n("James Bond 007: Agent Under Fire"),new n("James Bond 007: Everything or Nothing","007everythingornothing",1,w.NateTool),new n("James Cameron's Dark Angel"),new n("James Pond: Codename Robocod"),new n("Jan Sangoku Musou"),new n("Jaws Unleashed"),new n("Jeep Thrills"),new n("Jello"),new n("Jelly Belly: Ballistic Beans"),new n("Jeopardy!"),new n("Jeremy McGrath Supercross World"),new n("Jet de Go! 2: Let's Go By Airliner"),new n("Jet Ion Grand Prix"),new n("Jet X2O"),new n("Jetix Puzzle Buzzle"),new n("Jewels Ocean: Star of Sierra Leone"),new n("Jigoku Shoujo Mioyosuga"),new n("Jikkyou G1 Stable"),new n("Jikkyou G1 Stable 2"),new n("Jikkyou J.League Perfect Striker 3"),new n("Jikkyou J.League Perfect Striker 4"),new n("Jikkyou J.League Perfect Striker 5"),new n("Jikkyou Jitsumei Keiba Dream Classic 2001 Autumn"),new n("Jikkyou Jitsumei Keiba Dream Classic 2001 Spring"),new n("Jikkyou Powerful Major League"),new n("Jikkyou Powerful Major League 2009"),new n("Jikkyou Powerful Pro Yakyuu 10"),new n("Jikkyou Powerful Pro Yakyuu 10 Chou Ketteiban: 2003 Memorial"),new n("Jikkyou Powerful Pro Yakyuu 11"),new n("Jikkyou Powerful Pro Yakyuu 11 Chou Ketteiban"),new n("Jikkyou Powerful Pro Yakyuu 12"),new n("Jikkyou Powerful Pro Yakyuu 12 Ketteiban"),new n("Jikkyou Powerful Pro Yakyuu 13"),new n("Jikkyou Powerful Pro Yakyuu 13 Ketteiban"),new n("Jikkyou Powerful Pro Yakyuu 14"),new n("Jikkyou Powerful Pro Yakyuu 14 Ketteiban"),new n("Jikkyou Powerful Pro Yakyuu 15"),new n("Jikkyou Powerful Pro Yakyuu 2009"),new n("Jikkyou Powerful Pro Yakyuu 7"),new n("Jikkyou Powerful Pro Yakyuu 7 Ketteiban"),new n("Jikkyou Powerful Pro Yakyuu 8"),new n("Jikkyou Powerful Pro Yakyuu 8 Ketteiban"),new n("Jikkyou Powerful Pro Yakyuu 9"),new n("Jikkyou Powerful Pro Yakyuu 9 Ketteiban"),new n("Jikkyou World Soccer 2000 Final Edition"),new n("Jikkyou World Soccer 2001"),new n("Jikkyou World Soccer 2002"),new n("Jikuu Boukenki Zentrix"),new n("Jimmy Neutron Boy Genius"),new n("Jissen Pachi-Slot Hisshouhou! Aladdin A"),new n("Jissen Pachi-Slot Hisshouhou! Aladdin II Evolution"),new n("Jissen Pachi-Slot Hisshouhou! Hokuto no Ken 2"),new n("Jissen Pachi-Slot Hisshouhou! Hokuto no Ken Plus"),new n("Jissen Pachi-Slot Hisshouhou! Kemono-Oh"),new n("Jissen Pachi-Slot Hisshouhou! King Camel"),new n("Jissen Pachi-Slot Hisshouhou! Mister Magic Neo"),new n("Jissen Pachi-Slot Hisshouhou! Moujuu-Oh S"),new n("Jissen Pachi-Slot Hisshouhou! Onimusha 3"),new n("Jissen Pachi-Slot Hisshouhou! Ore no Sora"),new n("Jissen Pachi-Slot Hisshouhou! Pachi-Slot Hokuto no Ken"),new n("Jissen Pachi-Slot Hisshouhou! Pachi-Slot Hokuto no Ken SE"),new n("Jissen Pachi-Slot Hisshouhou! Salaryman Kintarou"),new n("Jissen Pachi-Slot Hisshouhou! Sammy's Collection"),new n("Jissen Pachi-Slot Hisshouhou! Sammy's Collection 2"),new n("Jissen Pachi-Slot Hisshouhou! Savanna Park"),new n("Jissen Pachi-Slot Hisshouhou! Selection: Salaryman Kintarou - Slotter Kintarou - Ore no Sora"),new n("Jissen Pachi-Slot Hisshouhou! Ultraman Club ST"),new n("Jissen Pachinko Hisshouhou! CR Aladdin Destiny EX"),new n("Jissen Pachinko Hisshouhou! CR Hokuto no Ken"),new n("Jissen Pachinko Hisshouhou! CR Sakura Taisen"),new n("Jissen Pachinko Hisshouhou! CR Salaryman Kintarou"),new n("Jitsumei Jikkyou Keiba Dream Classic 2002"),new n("Johnny Bravo: Date-O-Rama!"),new n("JoJo no Kimyou na Bouken: Ougon no Kaze"),new n("Jojo no Kimyou na Bouken: Phantom Blood","jojonokimyounaboukenphantomblood",1,w.Sebita),new n("Jonny Moseley Mad Trix"),new n("Joshikousei Game's-High!!"),new n("Judge Dredd: Dredd vs. Death"),new n("Judie no Atelier: Gramnad no Renkinjutsushi"),new n("Juiced"),new n("Juiced 2: Hot Import Nights"),new n("Jumanji"),new n("Jumper: Griffin's Story"),new n("Junior Board Games"),new n("Junjou Romanchika: Koi no Doki Doki Daisakusen"),new n("Jurassic Park: Operation Genesis"),new n("Jurassic: The Hunted"),new n("Just Cause"),new n("Justice League Heroes"),new n("Juujigen Rippoutai Cipher: Game of Survival"),new n("Juuni Kokuki: Guren no Shirube, Koujin no Michi"),new n("Juuni Kokuki: Kakukakutaru Oudou, Kouryoku no Uka"),new n("K-1 Premium 2004 Dynamite!!"),new n("K-1 Premium 2005 Dynamite"),new n("K-1 World GP 2005"),new n("K-1 World GP 2006"),new n("K-1 World Grand Prix"),new n("K-1 World Grand Prix 2001"),new n("K-1 World Grand Prix 2003"),new n("K-1 World Grand Prix: The Beast Attack!"),new n("K-1 World Max 2005"),new n("K.O. King"),new n("Ka 2: Let's Go Hawaii"),new n("Kaan: Barbarian's Blade"),new n("Kaena"),new n("Kaerazu no Mori"),new n("Kaeru Batake de Tsukamaete"),new n("Kaeru Batake de Tsukamaete: Natsu Chigira Sansen"),new n("Kaido Racer"),new n("Kaiketsu Zorori: Mezase! Itazura King"),new n("Kaiketsu! Osabakiina"),new n("Kaitou Apricot Kanzenban"),new n("Kakinoki Shogi IV"),new n("Kakutou Bijin Wulong"),new n("Kamaitachi no Yoru 2"),new n("Kamaitachi no Yoru 3"),new n("Kamen Rider 555"),new n("Kamen Rider Blade"),new n("Kamen Rider: Climax Heroes"),new n("Kamen Rider Hibiki"),new n("Kamen Rider Kabuto"),new n("Kamen Rider: Seigi No Keifu"),new n("Kamisama Kazoku: Ouen Ganbou"),new n("Kamiwaza"),new n("Kamiyo Gakuen Makorouku Kurunugia"),new n("The Kanji Quiz"),new n("Kanojo no Densetsu, Boku no Sekiban"),new n("Kanokon: Esuii"),new n("Kanon"),new n("The Kanshikikan"),new n("Kanuchi: Kuroki Tsubasa no Shou"),new n("Kanuchi: Shiroki Tsubasa no Shou"),new n("Kao the Kangaroo Round 2"),new n("Kappa no Kai-Kata"),new n("Karaoke Revolution"),new n("Karaoke Revolution Party"),new n("Karaoke Revolution Presents: American Idol"),new n("Karaoke Revolution Presents: American Idol Encore"),new n("Karaoke Revolution Volume 2"),new n("Karaoke Revolution Volume 3"),new n("Karaoke Revolution: Anime Song Collection"),new n("Karaoke Revolution: Dreams & Memories"),new n("Karaoke Revolution: Family Pack"),new n("Karaoke Revolution: J-Pop Best Vol. 1"),new n("Karaoke Revolution: J-Pop Best Vol. 2"),new n("Karaoke Revolution: J-Pop Best Vol. 3"),new n("Karaoke Revolution: J-Pop Best Vol. 4"),new n("Karaoke Revolution: J-Pop Best Vol. 5"),new n("Karaoke Revolution: J-Pop Best Vol. 6"),new n("Karaoke Revolution: J-Pop Best Vol. 7"),new n("Karaoke Revolution: J-Pop Best Vol. 8"),new n("Karaoke Revolution: J-Pop Best Vol. 9"),new n("Karaoke Revolution: Kazoku Idol Sengen"),new n("Karaoke Revolution: Kissing Selection"),new n("Karaoke Revolution: Love & Ballad"),new n("Karaoke Revolution: Night Selection 2003"),new n("Karaoke Revolution: Snow & Party"),new n("Karaoke Stage 2"),new n("Kart Racer"),new n("Kashimashi! Girl Meets Girl"),new n("Katakamuna: Ushinawareta Ingaritsu"),new n("Katamari Damacy"),new n("Katana Action"),new n("Katekyoo Hitman Reborn Nerae!? Ring x Bongole Returns"),new n("Katekyoo Hitman Reborn! Dream Hyper Battle!"),new n("Katekyoo Hitman Reborn! Kindan no Yami no Delta"),new n("Katekyoo Hitman Reborn!! Let's Ansatsu!? Nerawareta 10 Daime!"),new n("Kattobi! Golf"),new n("Kazeiro Surf"),new n("Kazoku Keikaku: Kokoro no Kizuna"),new n("The Keihin Kyuukou: Train Simulator Real"),new n("Kelly Slater's Pro Surfer"),new n("Kengo: Master of Bushido"),new n("Kengo 3"),new n("Kenka Banchou"),new n("Kenka Banchou 2: Full Throttle"),new n("Kenran Butou Sai: The Mars Daybreak"),new n("Keroro Gunsou: MeroMero Battle Royale"),new n("Keroro Gunsou: MeroMero Battle Royale Z"),new n("Kessen"),new n("Kessen II"),new n("Kessen III"),new n("KeyboardMania"),new n("KeyboardMania II: 2nd Mix & 3rd Mix"),new n("Kiddies Party Pack"),new n("Kidou Senshi Gundam 00: Gundam Meisters"),new n("Kidou Senshi Gundam: Ghiren no Yabou  Axis no Kyoui V"),new n("Kidou Senshi Gundam: Ghiren no Yabou  Zeon Dokuritsu Sensouden"),new n("Kidou Senshi Gundam: Ghiren no Yabou  Zeon Dokuritsu Sensouden  Kouryaku Shireisho"),new n("Kidou Senshi Gundam SEED: Rengou vs. Z.A.F.T."),new n("Kidou Senshi Gundam SEED Destiny: Generation of C.E."),new n("Kidou Senshi Gundam SEED Destiny: Rengou vs. Z.A.F.T. II Plus"),new n("Kidou Senshi Gundam Senki: Lost War Chronicles"),new n("Kidou Shinsengumi: Moeyo Ken"),new n("Kidz Sports Basketball"),new n("Kidz Sports Ice Hockey"),new n("Kikou Busou G-Breaker 2: Doumei no Hangeki"),new n("Kikou Busou G-Breaker: Daisanshi Cloudia Taisen"),new n("Kikou Busou G-Breaker: Legend of Cloudia"),new n("Kikou Heidan J-Phoenix"),new n("Kikou Heidan J-Phoenix 2"),new n("Kikou Heidan J-Phoenix 2 Joshouhen"),new n("Kikou Heidan J-Phoenix: Burst Tactics"),new n("Kikou Heidan J-Phoenix: Cobalt Shoutaihen"),new n("Kikou Heidan J-Phoenix Joshouhen"),new n("Kikou Souhei Armodyne"),new n("kill.switch"),new n("Killer7","killer7",1,w.TravisTouchdown),new n("Killzone","killzone",1,w.FenixF),new n("Kimagure Strawberry Cafe"),new n("Kimi ga Aruji de Shitsuji ga Ore de: Otsukae Nikki"),new n("Kimi ga Nozomu Eien: Rumbling Hearts"),new n("KimiKiss","kimikiss",1,w.Rikineko),new n("KimiStar: Kimi to Study"),new n("Kinetica"),new n("King Arthur"),new n("King of Clubs"),new n("King of Colosseum II"),new n("King of Colosseum (Red): Shin Nippon x Zen Nippon x Pancrase Disc"),new n("King of Colosseum: Zero-One Disc"),new n("The King of Fighters '94 Re-bout"),new n("The King of Fighters '98 Ultimate Match","thekingoffighters98ultimatematch",1,w.Oddworld2001),new n("The King of Fighters 2000"),new n("The King of Fighters 2001"),new n("The King of Fighters 2002","thekingoffighters2002",1,w.Psiences),new n("The King of Fighters 2002: Unlimited Match"),new n("The King of Fighters 2003","thekingoffighters2003",1,w.Psiences),new n("The King of Fighters 2006 (Maximum Impact 2)","thekingoffightersmaximumimpact2",1,w.Psiences),new n("The King of Fighters Collection: The Orochi Saga","thekingoffighterstheorochisaga",1,w.Psiences),new n("The King of Fighters: Maximum Impact"),new n("The King of Fighters - Maximum Impact Maniax"),new n("King of Fighters Maximum Impact Regulation A","kingoffightersmaximumimpactregulationa",1,w.Sebita),new n("The King of Fighters NeoWave"),new n("The King of Fighters NESTS Collection"),new n("The King of Fighters XI","thekingoffighters11",1,w.Oddworld2001),new n("The King of Route 66"),new n("King's Field IV: The Ancient City"),new n("Kingdom Hearts","kingdomhearts",1,w.Issung),new n("Kingdom Hearts: Final Mix","kingdomhearts1finalmix",1,w.ItzCookieX),new n("Kingdom Hearts II","kingdomhearts2",1,w.Issung),new n("Kingdom Hearts II: Final Mix +","kingdomhearts2finalmix",1,w.ItzCookieX),new n("Kingdom Hearts Re:Chain of Memories","kingdomheartsrecom",1,w.ItzCookieX),new n("Kiniro no Corda 2"),new n("Kiniro no Corda 2 Encore"),new n("Kiniro no Corda 3"),new n("Kinkou Myaku Tansa Simulation: Ingot 79"),new n("Kinniku Banzuke: Muscle Wars 21"),new n("Kinnikuman Muscle Grand Prix Max"),new n("Kinnikuman Muscle Grand Prix Max 2: Tokumori"),new n("Kino no Tabi: The Beautiful World"),new n("Kino no Tabi II: The Beautiful World"),new n("Kira * Kira: Rock 'n' Roll Show"),new n("Kiruto: Anata to Tsumugu Yume to Koi no Dress"),new n("The Kiryoku Kentei"),new n("Kishin Houkou Demon Bane"),new n("Kita e Diamond Dust+ Kiss is Beginning"),new n("Kita e. Diamond Dust Volume Summer"),new n("Kitakata Kenzou San Goku Shi"),new n("Kiwame Mahjong DXII"),new n("Klonoa 2: Lunatea's Veil","klonoa2",3,w.VibiLeFleu),new n("Knight Rider: The Game"),new n("Knight Rider: The Game 2"),new n("Knights of the Temple II","knightsofthetemple2",1,w.Sebita),new n("Knights of the Temple: Infernal Crusade"),new n("Knockout Kings 2001"),new n("Knockout Kings 2002"),new n("Kohitsuji Hokaku Keakaku! Sweet Boys Life"),new n("Koi to Namida to, Tsuioku to..."),new n("Koihime + Musou: Doki! Shoujo Darake no Sangokushi Engi"),new n("Koisuru Otome to Shugo no Tate: The Shield of AIGIS"),new n("Kokoro no Tobira"),new n("Komorebi no Namikimichi: Utsurikawaru Kisetsu no Chuu de"),new n("Konami Kids Playground: Alphabet Circus"),new n("Konami Kids Playground: Dinosaurs - Shapes & Colors"),new n("Konami Kids Playground: Frogger Hop, Skip & Jumpin' Fun"),new n("Konami Kids Playground: Toy Pals Fun with Numbers"),new n("The Konchuu Saishuu"),new n("Konjiki no Gash Bell!: Yuujou Tag Battle"),new n("Konjiki no Gash Bell!! Go! Go! Mamono Fight!!"),new n("Konneko: Keep a Memory Green"),new n("Kono Aozora ni Yakusoku o: Melody of the Sun and Sea"),new n("Kono Haretasora no Shita de"),new n("Konohana 2: Todoke Kanai Requiem"),new n("Konohana 3: Itsuwari no Kage no Mukou ni"),new n("Konohana 4: Yami wo Harau Inori"),new n("Korokke! Ban-Ou no Kiki o Sukue"),new n("Kotoba no Puzzle: Mojipittan"),new n("Kou Rate Ura Mahjong Retsuden Mukoubuchi: Goburei, Last desu ne"),new n("Kouenji Joshi Soccer"),new n("Koufuku Sousakan"),new n("Koushien: Konpeki no Sora"),new n("Kousoku Tanigawa Shogi"),new n("Kowloon Youma Gakuenki"),new n("Kujibiki Unbalance: Kaicho Onegai Smash Fight"),new n("Kuma Uta"),new n("Kung Fu"),new n("Kuon","kuon",1,w.VibiLeFleu),new n("Kuon no Kizuna: Sairinsho"),new n("Kurogane no Houkou: Warship Commander"),new n("Kuryuu Youma Gakuenki Recharge"),new n("Kuusen II"),new n("Kya: Dark Lineage"),new n("Kyo Kara Maoh! Hajimari no Tabi"),new n("Kyo Kara Maoh! Shin Makoku no Kyuujitsu"),new n("Kyo-no Wanko"),new n("Kyojin no Hoshi"),new n("Kyoufu Shinbun (Heisei-Han) Kaiki! Shinrei File"),new n("Kyoushuu Kidou Butai: Kougeki Helicopter Senki"),new n("Kyuuketsu Hime Yui: Senyasyo"),new n("Kyuuketsu Kitan Moonties"),new n("L no Kisetsu 2: Invisible Memories"),new n("L.A. Rush"),new n("L'Eredita"),new n("L2: Love x Loop"),new n("La Corda d'Oro"),new n("La Pucelle: Tactics","lapucelletactics",1,w.Sebita),new n("Lake Masters EX"),new n("Lake Masters EX Super"),new n("Langrisser III"),new n("Largo Winch: Empire Under Threat"),new n("Lassie"),new n("Last Escort 2: Shinya no Amai Toge"),new n("Last Escort: Club Katze"),new n("Last Escort: Kokuchou Special Night"),new n("Last Escort: Shinya no Kokuchou Monogatari"),new n("Le Mans 24 Hours"),new n("Le Tour de France"),new n("Le Tour de France: Centenary Edition"),new n("Leaderboard Golf"),new n("League Series Baseball 2"),new n("Legacy of Kain: Defiance"),new n("Legaia 2: Duel Saga"),new n("The Legend of Alon D'ar"),new n("Legend of Camelot"),new n("Legend of the Dragon"),new n("Legend of Herkules"),new n("Legend of Kay"),new n("The Legend of Spyro: A New Beginning","spyroanewbeginning",1,w.ItzCookieX),new n("The Legend of Spyro: Dawn of the Dragon","spyrodawnofthedragon",1,w.ItzCookieX),new n("The Legend of Spyro: The Eternal Night","thelegendofspyroeternalnight",1,w.FenixF),new n("Legends of Wrestling"),new n("Legends of Wrestling II"),new n("Legendz Gekitou! Saga Battle"),new n("Legion: Legend of Excalibur"),new n("Lego Batman: The Video Game","legobatman",1,w.ItzCookieX),new n("Lego Indiana Jones: The Original Adventures","legoindianajones",1,w.ItzCookieX),new n("Lego Racers 2","legoracers2",1,w.ItzCookieX),new n("Lego Star Wars: The Video Game","legostarwars",1,w.Sebita),new n("Lego Star Wars II: The Original Trilogy","legostarwars2",1,w.Sebita),new n("Leisure Suit Larry: Magna Cum Laude","leisuresuitlarrymagnacumlaude",1,w.SqueezedDog),new n("Lemmings"),new n("Lemony Snicket's A Series of Unfortunate Events"),new n("Let's Bravo Music"),new n("Let's Make a Soccer Team!"),new n("Let's Ride: Silver Buckle Stables"),new n("Lethal Skies Elite Pilot: Team SW"),new n("Lethal Skies II"),new n("Lifeline","lifeline",1,w.Issung),new n("Like Life An Hour"),new n("Lilie no Atelier Plus: Salberg no Renkinjutsushi 3"),new n("Lilie no Atelier: Salberg no Renkinjutsushi 3"),new n("Little Aid"),new n("Little Anchor"),new n("Little Britain: The Video Game"),new n("Little Busters! Converted Edition"),new n("Living World Racing"),new n("LMA Manager 2002"),new n("LMA Manager 2003"),new n("LMA Manager 2004"),new n("LMA Manager 2005"),new n("LMA Manager 2006"),new n("LMA Manager 2007"),new n("London Cab Challenge"),new n("London Racer II"),new n("London Racer: Destruction Madness"),new n("London Racer: Police Madness"),new n("London Racer: World Challenge"),new n("London Taxi: Rush Hour"),new n("Looney Tunes: Acme Arsenal"),new n("Looney Tunes: Back in Action"),new n("The Lord of the Rings: Aragorn's Quest"),new n("The Lord of the Rings: The Fellowship of the Ring"),new n("The Lord of the Rings: The Return of the King"),new n("The Lord of the Rings: The Third Age"),new n("The Lord of the Rings: The Two Towers"),new n("Lost Aya Sophia"),new n("Lost Passage: Ushinawareta Hitofushi"),new n("Lotus Challenge"),new n("Love*Com: Punch de Court"),new n("Love*Mahjong"),new n("Love*Mahjong 2"),new n("Love*Smash! 5"),new n("Love*Smash! 5.1 ~Tennis Robo no Hanran~"),new n("Love*Smash! Super Tennis Players"),new n("Love*Songs"),new n("Love Doll: Lovely Idol"),new n("Love Drops"),new n("Love Hina Gorgeous: Chiratto Happening!!"),new n("Love Songs: ADV Futaba Riho 14-sai Natsu"),new n("Love Songs: ADV Futaba Riho 19-sai Fuyu"),new n("Love Songs: Idol ga Classmate"),new n("Love Story"),new n("Loveroot Zero: Kiss Kiss * Labyrinth"),new n("Lowrider"),new n("Lucian Bee's: Evil Violet"),new n("Lucian Bee's: Justice Yellow"),new n("Lucian Bee's: Resurrection Supernova"),new n("Lucinda Green's Equestrian Challenge"),new n("Lucky*Star: Ryouou Gakuen Outousai"),new n("LuluRara vol.1"),new n("LuluRara vol.2"),new n("Lumines Plus","luminesplus",1,w.ItzCookieX),new n("Lunatic Dawn Tempest"),new n("Lupin the 3rd: Treasure of the Sorcerer King"),new n("Lupin Sansei: Columbus no Isan wa Akenisomaru"),new n("Lupin Sansei: Lupin ni wa Shi o, Zenigata ni wa Koi o"),new n("Luxor: Pharaoh's Challenge"),new n("Ma-Gi: Marginal"),new n("Mabino Style"),new n("Mace Griffin: Bounty Hunter"),new n("Mad Maestro!"),new n("Madagascar: Escape 2 Africa"),new n("Madden NFL 2001"),new n("Madden NFL 2002"),new n("Madden NFL 2003"),new n("Madden NFL 2004"),new n("Madden NFL 2005"),new n("Madden NFL 06"),new n("Madden NFL 07"),new n("Madden NFL 08"),new n("Madden NFL 09"),new n("Madden NFL 10"),new n("Madden NFL 11"),new n("Madden NFL 12"),new n("Made Man: Confessions of the Family Blood"),new n("The Maestromusic II"),new n("Mafia"),new n("Mageru Tsukeru Hahiiru: Ore * Dead Heat"),new n("Magic Pengel: The Quest for Color"),new n("Magical Pachinko Cotton: Pachinko Jki Simulation"),new n("Magical Sports 2000 Koushien"),new n("Magical Tale: Chitchana Mahoutsukai"),new n("The Magician's Academy"),new n("Magna Carta: Tears of Blood","magnacarta",1,w.ItzCookieX),new n("Mahjong"),new n("The Mahjong"),new n("Mahjong Gok Taisei"),new n("Mahjong Haoh: Battle Royale"),new n("Mahjong Haoh: Danky Battle II"),new n("Mahjong Haoh: Jansou Battle"),new n("Mahjong Haoh: Kaiky Battle"),new n("Mahjong Haoh: Shinken Battle"),new n("Mahjong Haoh: Taikai Battle"),new n("Mahjong Hiryu Densetsu: Tenpai"),new n("Mahjong Party: Idol to Mahjong Shoubu"),new n("Mahjong San Goku Shi"),new n("Mahjong Sengen Kyoujin de Ron!"),new n("Mahjong Taikai III"),new n("Mahjong Yarouze! 2"),new n("Mahoroba Stories"),new n("Mahoromatic: Moetto - KiraKira Maid-San","mahoromaticmoettokirakiramaidsan",1,w.Rikineko),new n("Mahou Sensei Negima! 1-Jikanme ~Okochama Sensei wa Mahoutsukai!~"),new n("Mahou Sensei Negima! 2-Jikanme ~Tatakau Otometachi! Mahora Daiundokai SP~"),new n("Mahou Sensei Negima! Kagai Jugyou ~Otome no Dokidoki Beachside~"),new n("Mahou Tsukai Kurohime"),new n("Mai-HiME: Unmei no Keitouju"),new n("Mai-Otome Hime: Otome Butou Shi"),new n("The Maid Fuku to Kikanj"),new n("Majin Tantei Nougami Neuro: Battle da Yo!"),new n("Majokko A La Mode"),new n("Majokko A La Mode II"),new n("Major League Baseball 2K10"),new n("Major League Baseball 2K11"),new n("Major League Baseball 2K12"),new n("Major League Baseball 2K5"),new n("Major League Baseball 2K5: World Series Edition"),new n("Major League Baseball 2K6"),new n("Major League Baseball 2K7"),new n("Major League Baseball 2K8"),new n("Major League Baseball 2K9"),new n("Makai Kingdom: Chronicles Of The Sacred Tome","makaikingdom",1,w.Sebita),new n("Makai Tenshou"),new n("Maken Shao: Demon Sword"),new n("Malice"),new n("Mambo"),new n("Mamimune * Mogacho no Print Hour"),new n("Mana Khemia: Alchemists of Al-Revis","manakhemiaalchemistsofalrevis",1,w.Sebita),new n("Mana Khemia 2: Fall of Alchemy","manakhemia2fallofalchemy",1,w.Sebita),new n("Manea Sugoroku: Kabukuro"),new n("Manhunt","manhunt",1,w.Issung),new n("Manhunt 2","manhunt2",1,w.Issung),new n("Maniac Mole"),new n("Maple Colors"),new n("Mar Heaven: Arm Fight Dream"),new n("Marble Chaos"),new n("Marc Ecko's Getting Up: Contents Under Pressure"),new n("Margot's Word Brain"),new n("Mark Davis Pro Bass Challenge"),new n("The Mark of Kri"),new n("Marl de Jigsaw"),new n("Marvel Nemesis: Rise of the Imperfects","marvelnemesisriseoftheimperfects",1,w.Oddworld2001),new n("Marvel Super Hero Squad"),new n("Marvel vs. Capcom 2","marvelvscapcom2",1,w.Psiences),new n("Marvel: Ultimate Alliance","marvelultimatealliance",1,w.Zwish343),new n("Marvel: Ultimate Alliance 2","marvelultimatealliance2",1,w.Zwish343),new n("Mary-Kate and Ashley: Sweet 16  Licensed to Drive"),new n("Mashed: Drive To Survive"),new n("Master Chess"),new n("Master Rallye"),new n("Masters of the Universe: He-Man: Defender of Grayskull"),new n("Mat Hoffman's Pro BMX 2"),new n("Matantei Loki Ragnarok Mayoukaku"),new n("The Matrix: Path of Neo","thematrixpathofneo",3,w.Zwish343),new n("Mawaza"),new n("Max Payne","maxpayne",1,w.Issung),new n("Max Payne 2: The Fall of Max Payne","maxpayne2",1,w.Issung),new n("Maximo: Ghosts to Glory","maximoghoststoglory",3,w.SqueezedDog),new n("Maximo vs. Army of Zin","maximovsarmyofzin",3,w.SqueezedDog),new n("MaXXed Out Racing"),new n("Maxxed Out Racing: Nitro"),new n("Maze Action"),new n("McFarlane's Evil Prophecy"),new n("MDK2: Armageddon"),new n("The Mechsmith: Run=Dim"),new n("Medal of Honor: European Assault","medalofhonoreuropeanassault",1,w.Sebita),new n("Medal of Honor: Frontline","mohfrontline",1,w.Issung),new n("Medal of Honor: Rising Sun","medalofhonorrisingsun",1,w.Sebita),new n("Medal of Honor: Vanguard","medalofhonorvanguard",1,w.Sebita),new n("Medical 91"),new n("Medical and Engineering Joint Entrance Quiz"),new n("Mega Man Anniversary Collection","megamananniversarycollection",1,w.ItzCookieX),new n("Mega Man X7","megamanx7",1,w.ItzCookieX),new n("Mega Man X8","megamanx8",1,w.ItzCookieX),new n("Mega Man X Collection","megamanxcollection",1,w.Sebita),new n("Mega Man X: Command Mission","megamancommandmission",1,w.ItzCookieX),new n("MegaRace 3: Nanotech Disaster"),new n("Meine Liebe: Ybinaru Kioku"),new n("Meine Liebe II: Hokori to Seigi to Ai"),new n("Meitantei Conan: Daiei Teikoku no Isan"),new n("Meitantei Evangelion"),new n("Melty Blood: Act Cadenza","meltybloodactcadenza",1,w.ItzCookieX),new n("Melty Blood: Actress Again","meltybloodactressagain",1,w.ItzCookieX),new n("Memorial Song"),new n("Memories Off 5: Encore"),new n("Memories Off 5: Togireta Film"),new n("Memories Off 6: Next Relation"),new n("Memories Off 6: T-wave"),new n("Memories Off After Rain Vol. 1: Oridzuru"),new n("Memories Off After Rain Vol. 2: Souen"),new n("Memories Off After Rain Vol. 3: Sotsugyou"),new n("Memories Off Duet: 1st & 2nd Stories"),new n("Memories Off Mix"),new n("Memories Off: Sorekara"),new n("Memories Off: Sorekara Again"),new n("Men at Work! 3"),new n("Men in Black II: Alien Escape"),new n("The Menkyo Shutoku Simulation"),new n("The Menkou Shutoku Simulation ~Dourokoutshou Taiouban~"),new n("Mercenaries: Playground of Destruction"),new n("Mercenaries 2: World in Flames"),new n("Mercury Meltdown Remix"),new n("Mermaid Prism"),new n("Meshimase Roman Sabou"),new n("Metal Arms: Glitch in the System","metalarmsglitchinthesystem",3,w.Issung),new n("Metal Gear Solid 2: Sons of Liberty","metalgearsolid2sonsofliberty",1,w.Psiences),new n("Metal Gear Solid 2: Substance","metalgearsolid2substance",1,w.Psiences),new n("Metal Gear Solid 3: Snake Eater","metalgearsolid3snakeeater",1,w.Psiences),new n("Metal Gear Solid 3: Subsistence","metalgearsolid3subsistence",1,w.Psiences),new n("Metal Saga"),new n("Metal Slug"),new n("Metal Slug 3"),new n("Metal Slug 4"),new n("Metal Slug 5"),new n("Metal Slug 6"),new n("Metal Slug Anthology"),new n("Metal Wolf REV"),new n("MetropolisMania"),new n("MetropolisMania 2"),new n("Mezase! Chess Champion"),new n("Mezase! Meimon Yakybu 2"),new n("Mezase! Super Bowler"),new n("Mezase! Super Hustler!!"),new n("Miami Vice"),new n("Michigan: Report from Hell","michiganreportfromhell",1,w.TravisTouchdown),new n("Micro Machines"),new n("Micro Machines V4","micromachinesv4",1,w.Typedesigns),new n("Midnight Club 3: DUB Edition","midnightclub3dubedition",1,w.Sebita),new n("Midnight Club 3: DUB Edition Remix","midnightclub3dubeditionremix",1,w.Sebita),new n("Midnight Club II","midnightclubii",1,w.Sebita),new n("Midnight Club Street Racing","midnightclub",3,w.Sebita),new n("Midway Arcade Treasures","midwayarcadetreasures",1,w.Sebita),new n("Midway Arcade Treasures 2","midwayarcadetreasures2",1,w.Sebita),new n("Midway Arcade Treasures 3","midwayarcadetreasures3",1,w.Sebita),new n("Might and Magic: Day of the Destroyer"),new n("Mighty Mulan"),new n("Mike Tyson Heavyweight Boxing"),new n("Mikomai: Towa no Omoi"),new n("Million God"),new n("The Mini Bijo Keikan"),new n("Mini Desktop Racing"),new n("Minority Report: Everybody Runs"),new n("Mirai Shounen Conan"),new n("Missing Blue"),new n("Missing Parts Side A: The Tantei Stories"),new n("Missing Parts Side B: The Tantei Stories"),new n("Mission Impossible: Operation Surma","missionimpossibleoperationsurma",1,w.FenixF),new n("Mister Mosquito","mistermosquito",3,w.ItzCookieX),new n("Mitsu x Mitsu Drops: Love x Love Honey Life"),new n("Mizu no Senritsu"),new n("Mizu no Senritsu 2: Hi no Kioku"),new n("Mizuiro"),new n("MLB 06: The Show"),new n("MLB 07: The Show"),new n("MLB 08: The Show"),new n("MLB 09: The Show"),new n("MLB 10: The Show"),new n("MLB 11: The Show"),new n("MLB 2004"),new n("MLB 2005"),new n("MLB 2006"),new n("MLB Power Pros"),new n("MLB Power Pros 2008"),new n("MLB SlugFest 20-03"),new n("MLB SlugFest 20-04"),new n("MLB SlugFest 2006"),new n("MLB SlugFest: Loaded"),new n("Mobile Light Force 2"),new n("Mobile Suit Gundam: Climax U.C."),new n("Mobile Suit Gundam: Encounters in Space",t=>[new Ve(t,"Game Data","mobilesuitgundamencountersinspace",1,w.Atat111111),new Ve(t,"Mission Data","mobilesuitgundamencountersinspacemissiondata",1,w.Atat111111)]),new n("Mobile Suit Gundam: Federation vs. Zeon"),new n("Mobile Suit Gundam: Gundam vs. Zeta Gundam"),new n("Mobile Suit Gundam: Journey to Jaburo"),new n("Mobile Suit Gundam: The One Year War"),new n("Mobile Suit Gundam SEED"),new n("Mobile Suit Gundam SEED: Never Ending Tomorrow"),new n("Mobile Suit Gundam Z: AEUG vs. Titans"),new n("Mobile Suit Gundam: Zeonic Front","mobilesuitgundamzeonicfront",1,w.Atat111111),new n("Moe Moe 2-Ji Daisenryaku 2"),new n("Moe Moe 2-Ji Daisenryaku Deluxe"),new n("Moekan: Moekko Company"),new n("Mojib-Ribbon"),new n("Mojo!"),new n("Momotarou Dentetsu 11"),new n("Momotarou Dentetsu 12"),new n("Momotarou Dentetsu 15"),new n("Momotarou Dentetsu 16"),new n("Momotarou Dentetsu USA"),new n("Momotarou Dentetsu X: Kysh-hen mo Arubai"),new n("Monkey Turn V"),new n("Monochrome"),new n("Monochrome Factor: Cross Road"),new n("Monopoly"),new n("Monopoly Party!"),new n("Monster 4x4: Masters of Metal"),new n("Monster Attack"),new n("Monster Bass"),new n("Monster Eggs"),new n("Monster House"),new n("Monster Hunter"),new n("Monster Hunter 2"),new n("Monster Hunter G"),new n("Monster Jam"),new n("Monster Jam: Maximum Destruction"),new n("Monster Jam: Urban Assault"),new n("Monster Lab","monsterlab",1,w.ItzCookieX),new n("Monster Rancher 3","monsterrancher3",1,w.ItzCookieX),new n("Monster Rancher 4","monsterrancher4",1,w.ItzCookieX),new n("Monster Rancher EVO"),new n("Monster Trux Extreme: Arena Edition"),new n("Monster Trux Extreme: Offroad Edition"),new n("Monsters, Inc.","monstersinc",2,w.Sebita),new n("Monsters, Inc. Scare Island"),new n("Monsters vs. Aliens","monstersvsaliens",1,w.Zeroman95),new n("Moorhuhn Fun Kart 2008"),new n("Morita Shogi"),new n("Mortal Kombat: Armageddon","mortalkombatarmageddon",1,w.Sebita),new n("Mortal Kombat: Deadly Alliance","mortalkombatdeadlyalliance",1,w.Oddworld2001),new n("Mortal Kombat: Deception","mortalkombatdeception",1,w.Oddworld2001),new n("Mortal Kombat: Shaolin Monks","mortalkombatshaolinmonks",1,w.FenixF),new n("Moto X Maniac"),new n("Motocross Mania 3 (Career)","motocrossmania3career",1,w.Sebita),new n("Motocross Mania 3 (Profile)","motocrossmania3profile",1,w.Sebita),new n("Motocross Mania 3 (Scores)","motocrossmania3scores",1,w.Sebita),new n("MotoGP"),new n("MotoGP 07"),new n("MotoGP 08"),new n("MotoGP 2"),new n("MotoGP 3"),new n("MotoGP 4"),new n("Motor Mayhem: Vehicular Combat League"),new n("Motorbike King"),new n("Motorsiege: Warriors of Primetime"),new n("MotorStorm: Arctic Edge","motorstormarcticedge",1,w.Sebita),new n("MotorStorm: Arctic Edge (Custom Vehicle Save)","motorstormarcticedgecustomvehicle",1,w.Sebita),new n("Motto Golful Golf"),new n("Moujtsukai to Oujisama"),new n("Moujtsukai to Oujisama: Snow Bride"),new n("Mountain Bike Adrenaline"),new n("The Mouse Police"),new n("Mouse Trophy"),new n("Mr. Bean","mrbean",1,w.Zeroman95),new n("Mr. Golf"),new n("MS Saga: A New Dawn"),new n("MTV's Celebrity Deathmatch"),new n("MTX Mototrax"),new n("The Mummy: The Animated Series"),new n("The Mummy Returns"),new n("The Mummy: Tomb of the Dragon Emperor"),new n("Mundial 2002 Challenge"),new n("Muppets Party Cruise"),new n("Murasaki no Honoo"),new n("Musashi: Samurai Legend","musashisamurailegend",3,w.ItzCookieX),new n("Mushihimesama"),new n("The Musume Ikusei Simulation"),new n("Mutsuzaki Hoshi Kikari"),new n("MVP 06: NCAA Baseball"),new n("MVP 07: NCAA Baseball"),new n("MVP Baseball 2003"),new n("MVP Baseball 2004"),new n("MVP Baseball 2005"),new n("MX 2002 Featuring Ricky Carmichael"),new n("MX Rider"),new n("MX Superfly"),new n("MX Unleashed","mxunleashed",3,w.SqueezedDog),new n("MX vs. ATV Unleashed"),new n("MX vs. ATV: Untamed"),new n("MX World Tour: Featuring Jamie Little"),new n("My Home o Tsukurou!"),new n("My Home o Tsukurou 2! Jjitsu! Kantan Sekkei!!"),new n("My Home o Tsukurou 2! Shou"),new n("My Horse & Me 2"),new n("My Merry May"),new n("My Merry Maybe"),new n("My Street"),new n("Myself&nbsp;; Yourself"),new n("Myself; Yourself: Sorezore no Finale"),new n("Myst III: Exile"),new n("Mystereet"),new n("Mystic Heroes"),new n("Mystic Nights"),new n("Myth Makers: Orbs of Doom"),new n("Myth Makers: Super Kart GP"),new n("Myth Makers: Trixie in Toyland"),new n("NadePro!! Kisama mo Seiy Yattemiro!"),new n("The Naked Brothers Band"),new n("Namco Museum","namcomuseum",1,w.Sebita),new n("Namco Museum 50th Anniversary","namcomuseum50thanniversary",1,w.Sebita),new n("Namco X Capcom","namcoxcapcom",1,w.ItzCookieX),new n("namCollection","namcollection",1,w.Sebita),new n("Nana","nana",1,w.ItzCookieX),new n("Nanatsuiro * Drops Pure!!"),new n("Nankuro"),new n("Nano Breaker","nanobreaker",1,w.ItzCookieX),new n("Naraku no Shiro"),new n("Narc"),new n("Naruto Shippuden: Ultimate Ninja 4","narutoultimateninja4",1,w.ItzCookieX),new n("Naruto Shippuden: Ultimate Ninja 5","narutoultimateninja5",1,w.ItzCookieX),new n("Naruto: Ultimate Ninja","narutoultimateninja",1,w.ItzCookieX),new n("Naruto: Ultimate Ninja 2","narutoultimateninja2",1,w.ItzCookieX),new n("Naruto: Ultimate Ninja 3","narutoultimateninja3",1,w.ItzCookieX),new n("Naruto: Uzumaki Chronicles","narutouzumakichronicles",1,w.ItzCookieX),new n("Naruto: Uzumaki Chronicles 2","narutouzumakichronicles2",1,w.ItzCookieX),new n("NASCAR 06: Total Team Control"),new n("NASCAR 07"),new n("NASCAR 08"),new n("NASCAR 09"),new n("NASCAR 2001"),new n("NASCAR 2005: Chase for the Cup"),new n("NASCAR: Dirt to Daytona"),new n("NASCAR Heat 2002"),new n("NASCAR Thunder 2002"),new n("NASCAR Thunder 2003"),new n("NASCAR Thunder 2004"),new n("National Geographic: Safari Adventures Africa"),new n("Natsu Shoujo: Promised Summer"),new n("Natsu Yume Ya Wa"),new n("Natsuiro: Hoshikuzu no Memory"),new n("Natsuiro Komachi"),new n("Natsuiro no Sunadokei"),new n("Natsuzora no Monologue"),new n("Natural 2: Duo - Sakurairo no Kisetsu"),new n("Naval Ops: Commander"),new n("Naval Ops: Warship Gunner"),new n("Naxat Soft Reachmania Vol. 1: CR Galaxy Angel"),new n("NBA 06"),new n("NBA 07"),new n("NBA 08"),new n("NBA 09: The Inside"),new n("NBA 2K10"),new n("NBA 2K11"),new n("NBA 2K12"),new n("NBA 2K2"),new n("NBA 2K3"),new n("NBA 2K6"),new n("NBA 2K7"),new n("NBA 2K8"),new n("NBA 2K9"),new n("NBA Ballers"),new n("NBA Ballers: Phenom"),new n("NBA Hoopz"),new n("NBA Jam"),new n("NBA Live 06"),new n("NBA Live 07"),new n("NBA Live 08"),new n("NBA Live 09"),new n("NBA Live 2001"),new n("NBA Live 2002"),new n("NBA Live 2003"),new n("NBA Live 2004"),new n("NBA Live 2005"),new n("NBA Shootout 2001"),new n("NBA Shootout 2003"),new n("NBA Shootout 2004"),new n("NBA Starting Five"),new n("NBA Starting Five 2005"),new n("NBA Street","nbastreet",1,w.Psiences),new n("NBA Street V3","nbastreet3",1,w.Issung),new n("NBA Street Vol. 2"),new n("NCAA Basketball 09"),new n("NCAA College Basketball 2K3"),new n("NCAA College Football 2K3"),new n("NCAA Final Four 2001"),new n("NCAA Final Four 2002"),new n("NCAA Final Four 2003"),new n("NCAA Final Four 2004"),new n("NCAA Football 06"),new n("NCAA Football 07"),new n("NCAA Football 08"),new n("NCAA Football 09"),new n("NCAA Football 10"),new n("NCAA Football 11"),new n("NCAA Football 2002"),new n("NCAA Football 2003"),new n("NCAA Football 2004","ncaafootball2004",1,w.Issung),new n("NCAA Football 2005"),new n("NCAA Gamebreaker 2001"),new n("NCAA Gamebreaker 2003"),new n("NCAA Gamebreaker 2004"),new n("NCAA March Madness 06"),new n("NCAA March Madness 07"),new n("NCAA March Madness 08"),new n("NCAA March Madness 2002"),new n("NCAA March Madness 2003"),new n("NCAA March Madness 2004"),new n("NCAA March Madness 2005"),new n("Need for Speed: Carbon","needforspeedcarbon",1,w.Sebita),new n("Need For Speed: Hot Pursuit 2","nfshotpursuit2",1,w.Issung),new n("Need for Speed: Most Wanted","needforspeedmostwanted",1,w.Sebita),new n("Need for Speed: Most Wanted Black Edition","needforspeedmostwantedblackedition",1,w.Sebita),new n("Need for Speed: ProStreet","needforspeedprostreet",1,w.Sebita),new n("Need for Speed: Undercover","needforspeedundercover",1,w.Sebita),new n("Need for Speed: Underground","needforspeedunderground",1,w.Sebita),new n("Need for Speed: Underground 2","needforspeedunderground2",1,w.Sebita),new n("Negima!? 3-Jikanme ~Koi to Mahou to Sekaiju Densetsu~"),new n("Negima!? Dream Tactic Yumemiru Otome Princess"),new n("The Neko-Mura no Ninnin Pagu Daikan no Akugyou Sanmai"),new n("Neo Angelique"),new n("Neo Angelique Full Voice"),new n("Neo Atlus III"),new n("Neo Contra"),new n("NeoGeo Battle Coliseum","neogeobattlecoliseum",1,w.Psiences),new n("Neopets: The Darkest Faerie"),new n("Neppachi Gold: CR Monster Mansion"),new n("Net de Bomberman"),new n("Netsu Chu! Pro Yaky 2002"),new n("Netsu Chu! Pro Yaky 2003"),new n("Netsu Chu! Pro Yaky 2003: Aki no Night Matsuri"),new n("Netsu Chu! Pro Yaky 2004"),new n("Nettai Teikiatsu Shoujo"),new n("Never7: The End of Infinity"),new n("Neverland Kenkyfu"),new n("New Jinsei Game"),new n("New Roommania: Porori Seishun"),new n("New York Race"),new n("Next Generation Tennis"),new n("Next Generation Tennis 2003"),new n("NFL Blitz 20-02"),new n("NFL Blitz 20-03"),new n("NFL 2K2"),new n("NFL 2K3"),new n("NFL Blitz Pro"),new n("NFL GameDay 2001"),new n("NFL GameDay 2002"),new n("NFL GameDay 2003"),new n("NFL GameDay 2004"),new n("NFL Head Coach"),new n("NFL QB Club 2002"),new n("NFL Street"),new n("NFL Street 2"),new n("NFL Street 3"),new n("NHL 06"),new n("NHL 07"),new n("NHL 08"),new n("NHL 09"),new n("NHL 2001"),new n("NHL 2002"),new n("NHL 2003"),new n("NHL 2004"),new n("NHL 2005"),new n("NHL 2K10"),new n("NHL 2K3"),new n("NHL 2K6"),new n("NHL 2K7"),new n("NHL 2K8"),new n("NHL 2K9"),new n("NHL FaceOff 2001"),new n("NHL FaceOff 2003"),new n("NHL Hitz 20-02"),new n("NHL Hitz 20-03"),new n("NHL Hitz Pro"),new n("NHRA Championship Drag Racing"),new n("NHRA Drag Racing: Countdown to the Championship 2007"),new n("Ni Hao, Kai-Lan: Super Game Day"),new n("Nichibeikan Pro Yaky: Final League"),new n("Nicktoons: Attack of the Toybots"),new n("Nicktoons: Battle for Volcano Island"),new n("Nicktoons Movin'"),new n("Nicktoons Unite!"),new n("Night Wizard the Video Game: Denial of the World"),new n("The Nightmare of Druaga: Fushigino Dungeon"),new n("Nights into Dreams","nightsintodreams",1,w.ItzCookieX),new n("Nightshade","nightshade",3,w.ItzCookieX),new n("Nihon Sumo Kyokai Kounin: Nihon Oozumou Gekitou Honbashohen"),new n("Ninja Assault"),new n("Ninjabread Man"),new n("Ninkyouden: Toseinin Ichidaiki"),new n("Nippon Oozumou Kakutouhen"),new n("Nishikaze no Kyoushikyouku: The Rhapsody of Zephyr"),new n("Nitrobike"),new n("Noble Racing"),new n("Nobunaga no Yabou Online"),new n("Nobunaga no Yabou Online: Haten no Shou"),new n("Nobunaga no Yabou Online: Souha no Shou"),new n("Nobunaga no Yabou Online: Tappi no Shou"),new n("Nobunaga no Yabou: Ranseiki"),new n("Nobunaga no Yabou: Soutenroku"),new n("Nobunaga Senki"),new n("Nobunaga's Ambition: Iron Triangle"),new n("Nobunaga's Ambition: Rise to Power"),new n("Nodame Cantabile"),new n("Noddy and the Magic Book"),new n("Nogizaka Haruka no Himitsu Cosplay, Hajime Mashita"),new n("The Noroi no Game"),new n("North Wind: Eien no Yakusoku"),new n("NPPL Championship Paintball 2009"),new n("NRA Gun Club"),new n("Nuga-Cel!"),new n("Nurse Witch Komugi-Chan Magical te"),new n("Obliterate"),new n("ObsCure","obscure",1,w.FenixF),new n("Obscure: The Aftermath","obscuretheaftermath",1,w.FenixF),new n("Ocean Commander"),new n("The Ochimusha  Doemu Samurai Toujou"),new n("Odin Sphere","odinsphere",2,w.Issung),new n("Oekaki Puzzle"),new n("Offroad Extreme!"),new n("Ojousama Kumikyoku: Sweet Concert"),new n("Okage: Shadow King","okageshadowking",3,w.ItzCookieX),new n("kami","okami",2,w.Issung),new n("okuki"),new n("Omoi no Kakera: Close to"),new n("Omoide ni Kawaru-Kimi: Memories Off"),new n("One Piece Grand Adventure","onepiecegrandadventure",1,w.ItzCookieX),new n("One Piece Grand Battle!","onepiecegrandbattle",1,w.ItzCookieX),new n("One Piece Grand Battle! 3","onepiecegrandbattle3",1,w.ItzCookieX),new n("One Piece: Pirates' Carnival","onepiecepiratescarnival",1,w.ItzCookieX),new n("One Piece: Round the Land","onepieceroundtheland",1,w.ItzCookieX),new n("The Onchanbara 2"),new n("Oni","oni",1,w.Issung),new n("Onimusha 2: Samurai's Destiny","onimusha2samuraisdestiny",3,w.ItzCookieX),new n("Onimusha 3: Demon Siege","onimusha3demonsiege",3,w.ItzCookieX),new n("Onimusha Blade Warriors",t=>[new Ve(t,"NTSC Release"),new Ve(t,"PAL Release","onimushabladewarriorspal",1,w.ItzCookieX)]),new n("Onimusha: Dawn of Dreams","onimushadawnofdreams",1,w.ItzCookieX),new n("Onimusha: Warlords","onimushawarlords",3,w.Psiences),new n("Online Pro Wrestling"),new n("Only You"),new n("Onmyou Taisenki: Byakko Enbu"),new n("Onmyou Taisenki: Hasha no In"),new n("The Onna Okappichi Torimonochou  Oharuchan Go Go Go!"),new n("Open Season","openseason",1,w.FenixF),new n("Operation Air Assault"),new n("Operation Air Assault 2"),new n("The Operative: No One Lives Forever"),new n("Orange Honey: Boku wa Kimi ni Koishiteru"),new n("Orange Pocket: Root"),new n("Ore no Shita de Agake"),new n("Orega Kantoku Da! Gekitou Pennant Race"),new n("Orega Kantoku Da! Volume 2"),new n("Oretachi Game Center Zoku: Akumajou Dracula"),new n("Oretachi Game Center Zoku: BurgerTime"),new n("Oretachi Game Center Zoku: Contra"),new n("Oretachi Game Center Zoku: Crazy Climber"),new n("Oretachi Game Center Zoku: Karate Dou"),new n("Oretachi Game Center Zoku: Moon Cresta"),new n("Oretachi Game Center Zoku: Nekketsu Kouka Kunio-Kun"),new n("Oretachi Game Center Zoku: Nekketsu Koukou Dodge Ball Bu"),new n("Oretachi Game Center Zoku: Pooyan"),new n("Oretachi Game Center Zoku: Quarth"),new n("Oretachi Game Center Zoku: Rabio Lepus"),new n("Oretachi Game Center Zoku: Scramble"),new n("Oretachi Game Center Zoku: Sonic Wings"),new n("Oretachi Game Center Zoku: Super Volleyball"),new n("Oretachi Game Center Zoku: Terra Cresta"),new n("Oretachi Game Center Zoku: Thunder Cross"),new n("Oretachi Game Center Zoku: Time Pilot"),new n("Oretachi Game Center Zoku: Trio the Punch"),new n("Oretachi Game Center Zoku: Yie Ar Kung Fu"),new n("Orphen: Scion of Sorcery","orphenscionofsorcery",1,w.ItzCookieX),new n("Oshiete! Popotan"),new n("Osouji Sentai Clean Keeper H"),new n("Othello"),new n("The Otoko Tachi no Kij Houza"),new n("Otome no Jijou"),new n("Otome wa Boku ni Koishiteru"),new n("Otometeki Koi Kakumei * Love Revo!!"),new n("Otona no Gal Jan 2"),new n("Otona no Gal Jan: Kimi ni Hane Man"),new n("Otostaz"),new n("Ougon Kishi Garo"),new n("Ouka"),new n("Ouran Koukou Host-Bu"),new n("Outlaw Golf"),new n("Outlaw Golf 2"),new n("Outlaw Tennis"),new n("Outlaw Volleyball Remixed"),new n("OutRun 2006: Coast 2 Coast"),new n("OutRun2 SP Special Tours"),new n("Over the Hedge"),new n("Over the Monochrome Rainbow featuring Shogo Hamada"),new n("P.T.O. IV: Pacific Theater of Operations"),new n("Pac-Man Fever","pacmanfever",1,w.ItzCookieX),new n("Pac-Man World 2"),new n("Pac-Man World 3","pacmanworld3",1,w.ItzCookieX),new n("Pac-Man World Rally","pacmanworldrally",1,w.ItzCookieX),new n("Pachi-Slot Aruze Oukoku 6"),new n("Pachi-Slot Aruze Oukoku 7"),new n("Pachi-Slot Club Collection: IM Juggler EX  Juggler Selection"),new n("Pachi-Slot Club Collection: Pachi-Slot Dayo Koumon Chama"),new n("Pachi-Slot Higurashi no Naku Koro ni Matsuri"),new n("Pachi-Slot Kanzen Kouryaku: Gigazone"),new n("Pachi-Slot Kanzen Kouryoku: Onihama Bakusou Gurentai: Gekitou-Hen"),new n("Pachi-Slot Kanzen Kouryoku: Slot Genjin"),new n("Pachi-Slot King! Kagaku Ninja-Tai Gatchaman"),new n("Pachi-Slot Nobunaga no Yabou: Tenka Sousei"),new n("Pachi-Slot Toukon Denshou"),new n("Pachi-Slot Winning Post"),new n("Pachinko de Ybou! Fever Dodeka Saurus"),new n("Pachinko Kamen Rider: Shocker Zenmetsu Daisakusen"),new n("Pachinko Kaou: Misora Hibari"),new n("Pachinko Mitokoumon: Pachitte Chonmage Tatsujin 9"),new n("PachiPara 12: Ooumi to Natsu no Omoide"),new n("PachiPara 13: Super Umi to Pachi-Pro Funroku"),new n("PachiPara 14: F to Kumo to Super Umi in Okinawa"),new n("Pachitte Chonmage Tatsujin 10: Pachinko Fuyu no Sonata"),new n("Pachitte Chonmage Tatsujin 12: Pachinko Ultraman"),new n("Pachitte Chonmage Tatsujin 13: Pachinko Hissatsu Shigotojin III"),new n("Pachitte Chonmage Tatsujin 15: Pachinko Fuyu no Sonata 2"),new n("Pachitte Chonmage Tatsujin 16: Pachinko Hissatsu Shigotonin III"),new n("Pachitte Chonmage Tatsujin 2: CR Jurassic Park"),new n("Pachitte Chonmage Tatsujin 3"),new n("Pachitte Chonmage Tatsujin 4"),new n("Pachitte Chonmage Tatsujin 5: CR Kamen Rider"),new n("Pachitte Chonmage Tatsujin 8"),new n("Pachitte Chonmage Tatsujin: CR Nettou Power Pro Kun"),new n("Pacific Warriors II: Dogfight","pacificwarriors2",1,w.Zeroman95),new n("Paddington Bear"),new n("Pai Chenjan"),new n("Palais de Reine"),new n("Pandora: Kimi no Namae o Boku wa Shiru"),new n("Panel Quiz Attack 25"),new n("Panic Palette"),new n("Panzer Elite Action: Fields of Glory"),new n("Panzer Front Ausf.B"),new n("Paparazzi"),new n("Para Para Paradise"),new n("PaRappa the Rapper 2","parappatherapper2",1,w.ItzCookieX),new n("Parfait: Chocolat Second Style"),new n("Paris-Dakar Rally"),new n("Party Carnival"),new n("Party Girls"),new n("The Party Quiz: Akko ni Omakase"),new n("The Party Unou Quiz"),new n("Patisserie na Nyanko"),new n("PDC World Championship Darts"),new n("PDC World Championship Darts 2008"),new n("Perfect Ace 2: The Championships"),new n("Perfect Ace: Pro Tournament Tennis"),new n("Persona 3","persona3",1,w.ItzCookieX),new n("Persona 3 FES","persona3fes",1,w.Issung),new n("Persona 4","persona4",1,w.Issung),new n("Petanque Pro"),new n("Peter Jackson's King Kong: The Official Game of the Movie"),new n("Peter Pan"),new n("Petit Four"),new n("Petz: Catz 2"),new n("Petz: Dogz 2"),new n("Petz: Horsez 2"),new n("PGEN [Homebrew]","pgen",1,w.Oddworld2001),new n("Phantasy Star Universe","phantasystaruniverse",1,w.Sebita),new n("Phantasy Star Universe: Ambition of the Illuminus","phantasystaruniverseambitionoftheilluminus",1,w.Sebita),new n("Phantom Brave","phantombrave",1,w.Sebita),new n("Phantom: Phantom of Inferno"),new n("Phase Paradox"),new n("Pia Carrot e Youkoso!! 3"),new n("Pia Carrot e Youkoso!! G.O. Summer Fair"),new n("Pia Carrot e Youkoso!! G.P. Gakuen Princess"),new n("Pilot Down: Behind Enemy Lines"),new n("Pilot ni Narou! 2"),new n("Pimp My Ride"),new n("Pimp My Ride: Street Racing"),new n("Pinball"),new n("Pinball Fun"),new n("Pinball Hall of Fame: The Gottlieb Collection"),new n("Pinball Hall of Fame: The Williams Collection"),new n("Pink Pong"),new n("Pinocchio"),new n("Pipe Mania"),new n("Pipo Saru 2001"),new n("Pirates of the Caribbean: At World's End"),new n("Pirates of the Caribbean: The Legend of Jack Sparrow"),new n("Pirates: Legend of the Black Buccaneer"),new n("Pirates: The Legend of Black Kat"),new n("Pitfall: The Lost Expedition","pitfall",1,w.Issung),new n("Piyo-Tan: Oyashiki Senny Daisakusen!"),new n("Pizzicato Polka: Suisei Genya"),new n("The Plan"),new n("Planetarian: Chiisana Hoshi no Yume"),new n("Plarail: Yume ga Ippai!"),new n("Playboy: The Mansion"),new n("Playwize Poker & Casino"),new n("Plus Plum 2 Again"),new n("Pochinya"),new n("Poi! Hito Natsu no Keiken!?"),new n("Poinie's Poin"),new n("Poker Masters"),new n("The Polar Express"),new n("Polaroid Pete"),new n("Police 24/7"),new n("Police Chase Down"),new n("Pool Paradise"),new n("Pool Paradise: International Edition"),new n("Pool Shark 2"),new n("Pop'n Music 7","popnmusic7",1,w.Sebita),new n("Pop'n Music 8","popnmusic8",1,w.Sebita),new n("Pop'n Music 9","popnmusic9",1,w.Sebita),new n("Pop'n Music 10","popnmusic10",1,w.Sebita),new n("Pop'n Music 11","popnmusic11",1,w.Sebita),new n("Pop'n Music 12 Iroha","popnmusic12iroha",1,w.Sebita),new n("Pop'n Music 13 Carnival","popnmusic13carnival",1,w.Sebita),new n("Pop'n Music 14 Fever!","popnmusic14fever",1,w.Sebita),new n("Pop'n Music: Best Hits","popnmusicbesthits",1,w.Sebita),new n("Pop'n Taisen Puzzle-Dama Online"),new n("PopCap Hits! Vol. 1","popcaphitsvol1",1,w.ItzCookieX),new n("PopCap Hits! Vol. 2"),new n("PoPoLoCrois: Hajimari no Bouken","popolocroishajimarinobouken",3,w.ItzCookieX),new n("PoPoLoCrois: Tsuki no Okite no Bouken","popolocroistsukinookitenobouken",1,w.ItzCookieX),new n("PopStar Guitar"),new n("Portal Runner"),new n("Postman Pat","postmanpat",1,w.Zeroman95),new n("Power Drome"),new n("Power Fighters"),new n("Power Rangers: Dino Thunder"),new n("Power Rangers: Super Legends  15th Anniversary"),new n("Power Volleyball"),new n("The Powerpuff Girls: Relish Rampage"),new n("Powershot Pinball"),new n("Predator: Concrete Jungle","predatorconcretejungle",1,w.Oddworld2001),new n("Premier Manager 08"),new n("Premier Manager 09"),new n("Premier Manager 2002/2003 Season"),new n("Premier Manager 200304"),new n("Pri-Saga! Princess o Sagase!"),new n("Pride FC: Fighting Championships"),new n("PrideGP Grand Prix 2003"),new n("Primal","primal",1,w.Issung),new n("Primopuel"),new n("Prince of Persia: The Sands of Time","princeofpersiasandsoftime",1,w.Issung),new n("Prince of Persia: The Two Thrones"),new n("Prince of Persia: Warrior Within"),new n("Prince of Tennis: Form the Strongest Team!"),new n("Princess Concerto"),new n("Princess Holiday: Korogaru Ringotei Senya Ichiya"),new n("Princess Lover! Eternal Love for My Lady"),new n("Princess Maker"),new n("Princess Maker 2"),new n("Princess Maker 4"),new n("Princess Maker 5"),new n("Princess Nightmare"),new n("Princess Princess"),new n("Prism Ark: Awake","prismarkawake",1,w.Rikineko),new n("Prisoner of War"),new n("Private Nurse: Maria"),new n("Pro Biker 2"),new n("Pro Bull Riders: Out of the Chute"),new n("Pro Evolution Soccer"),new n("Pro Evolution Soccer 2008"),new n("Pro Evolution Soccer 2009"),new n("Pro Evolution Soccer 2010"),new n("Pro Evolution Soccer 2011"),new n("Pro Evolution Soccer 2012"),new n("Pro Evolution Soccer 2013"),new n("Pro Evolution Soccer 2014"),new n("Pro Evolution Soccer Management"),new n("Pro Mahjong Kiwame Next"),new n("Pro Race Driver","proracedriver",1,w.Zeroman95),new n("Pro Rally 2002"),new n("Pro Yaky Japan 2001"),new n("Pro Yaky Netsu Star 2006"),new n("Pro Yaky Netsu Star 2007"),new n("Pro Yaky Simulation Dugout '03: The Turning Point"),new n("Pro Yaky Spirits 2"),new n("Pro Yaky Spirits 2004"),new n("Pro Yaky Spirits 2004 Climax"),new n("Pro Yaky Spirits 2010"),new n("Pro Yaky Spirits 3"),new n("Pro Yaky Spirits 4"),new n("Pro Yaky Spirits 5"),new n("Pro Yaky Spirits 5 Kanzenban"),new n("Pro Yaky Spirits 6"),new n("Pro Yaky Team o Tsukurou! 2"),new n("Pro Yaky Team o Tsukurou! 2003"),new n("Pro Yaky Team o Tsukurou! 3"),new n("The Pro Yaky: 2003 Pennant Race"),new n("Project Arms"),new n("Project Eden"),new n("Project FIFA World Cup: Sorenara Kimi ga Daihyo Kantoku"),new n("Project Minerva"),new n("Project Minerva Professional"),new n("Project: Snowblind"),new n("ProStroke Golf: World Tour 2007"),new n("Pryzm Chapter One: The Dark Unicorn"),new n("Psi-Ops: The Mindgate Conspiracy"),new n("Psychic Force Complete"),new n("Psychonauts","psychonauts",1,w.Issung),new n("Psyvariar 2: Ultimate Final"),new n("Psyvariar: Medium Unit"),new n("Psyvariar Revision"),new n("Pump It Up Exceed","pumpitupexceed",1,w.ItzCookieX),new n("The Punisher","thepunisher",1,w.SqueezedDog),new n("Pure Pure: Mimi to Shippo no Monogatari"),new n("Pure x Cure Recovery"),new n("Puyo Pop Fever","puyopuyofever",1,w.Sebita),new n("Puyo Puyo Fever 2","puyopuyofever2",1,w.Sebita),new n("Puyo Puyo! 15th Anniversary","puyopuyo15thanniversary",1,w.Sebita),new n("Puzzle Challenge: Crosswords and More!"),new n("Puzzle Maniacs"),new n("Puzzle Party: 10 Games"),new n("Puzzle Quest: Challenge of the Warlords"),new n("Py to Fuku! Jaguar Ashita no Jump"),new n("Q-Ball Billiards Master"),new n("Quake III Revolution","quakeiiirevolution",1,w.Sebita),new n("Quartet! The Stage of Love"),new n("Que: Ancient Leaf no Yousei"),new n("The Quest for Aladdin's Treasure"),new n("Quest for Sleeping Beauty"),new n("Quiz & Variety SukuSuku Inufuku 2: Motto SukuSuku"),new n("The Quiz 20,000 Mon"),new n("R-Type Final"),new n("R: Racing Evolution"),new n("RA.ONE The Game"),new n("Raceway: Drag & Stock Racing"),new n("Racing Battle: C1 Grand Prix"),new n("Radiata Stories","radiatastories",1,w.ItzCookieX),new n("Radio Helicopter"),new n("Radio Helicopter II","radiohelicopterii",1,w.Zeroman95),new n("Radirgy Precious","radirgyprecious",1,w.Sebita),new n("Raging Blades"),new n("Rahxephon: Souky Gensoukyoku"),new n("Raiden III"),new n("Raimuiro Senkitan * Jun"),new n("Rakushou! Pachi-Slot Sengen"),new n("Rakushou! Pachi-Slot Sengen 2"),new n("Rakushou! Pachi-Slot Sengen 3"),new n("Rakushou! Pachi-Slot Sengen 4"),new n("Rakushou! Pachi-Slot Sengen 5: Rio Paradise"),new n("Rakushou! Pachi-Slot Sengen 6: Rio 2 Cruising Vanadis"),new n("Rally Championship"),new n("Rally Fusion: Race of Champions"),new n("Rampage: Total Destruction","rampagetotaldestruction",1,w.Oddworld2001),new n("Ramune: Garasu-Bin ni Uturu Umi"),new n("Rapala Pro Bass Fishing"),new n("Rapala Pro Fishing"),new n("Rasetsu Alternative"),new n("Ratchet: Deadlocked","ratchetdeadlocked",1,w.Zeroman95),new n("Ratchet & Clank","ratchetandclank",1,w.VibiLeFleu),new n("Ratchet & Clank: Going Commando","ratchetandclankgoingcommando",1,w.Issung),new n("Ratchet & Clank: Size Matters","ratchetandclanksizematters",1,w.FenixF),new n("Ratchet & Clank: Up Your Arsenal","ratchetandclankupyourarsenal",1,w.Issung),new n("Raw Danger!"),new n("Rayman 2: Revolution","rayman2",3,w.Issung),new n("Rayman 3: Hoodlum Havoc","rayman3",1,w.Issung),new n("Rayman Arena","raymanarena",1,w.Issung),new n("Rayman Raving Rabbids","raymanravingrabbids",1,w.Issung),new n("RC Revenge Pro"),new n("RC Sports: Copter Challenge"),new n("RC Toy Machines"),new n("Ready 2 Rumble Boxing: Round 2"),new n("Real Madrid: The Game"),new n("Real Pool"),new n("Real Robot Regiment"),new n("Real Rode"),new n("Real Sports Pro Yaky"),new n("Real World Golf"),new n("Real World Golf 2007"),new n("Realize: Panorama Luminary"),new n("Realm of the Dead"),new n("RealPlay Golf"),new n("RealPlay Pool"),new n("RealPlay Puzzlesphere"),new n("RealPlay Racing"),new n("Rebel Raiders: Operation Nighthawk"),new n("Rebirth Moon"),new n("REC * DokiDoki Seiy Paradise"),new n("Red Baron"),new n("Red Dead Revolver","reddeadrevolver",1,w.Issung),new n("Red Faction"),new n("Red Faction II"),new n("Red Ninja: End of Honor"),new n("The Red Star","theredstar",1,w.ItzCookieX),new n("RedCard 20-03"),new n("Reel Fishing III"),new n("Reign of Fire"),new n("Reijou Tantei: Office Love Jikenbo"),new n("Relaxuma: Ojama Shitemasu 2 Shkan"),new n("Remember 11: The Age of Infinity"),new n("Remote Control Dandy SF"),new n("The Renai Adventure 2: Jo no Ko no Tameno"),new n("The Renai Adventure: Bittersweet Fools"),new n("The Renai Board"),new n("The Renai Horror Adventure"),new n("The Renai Simulation: Renai Kissa Watashi ni Oma Cafe"),new n("Reservoir Dogs"),new n("Resident Evil 4","residentevil4",1,w.Sebita),new n("Resident Evil Code: Veronica X","residentevilcodeveronica",1,w.ItzCookieX),new n("Resident Evil: Dead Aim","residentevildeadaim",1,w.ItzCookieX),new n("Resident Evil Outbreak","residenteviloutbreak",2,w.ItzCookieX),new n("Resident Evil Outbreak File #2","residenteviloutbreakfile2",2,w.ItzCookieX),new n("Resident Evil Survivor 2 Code: Veronica","residentevilsurvivor2codeveronica",1,w.ItzCookieX),new n("Retro"),new n("Return to Castle Wolfenstein: Operation Resurrection"),new n("Reveal Fantasia"),new n("Rez","rez",1,w.Issung),new n("Rhythmic Star!"),new n("Ribbit King","ribbitking",1,w.Issung),new n("Richard Burns Rally"),new n("Ridge Racer V","ridgeracerv",3,w.Issung),new n("Riding Spirits","ridingspirits",1,w.ItzCookieX),new n("Riding Spirits II","ridingspirits2",1,w.ItzCookieX),new n("Riding Star"),new n("Rig Racer 2"),new n("Rim Runners"),new n("Rimo-Cocoron"),new n("Ring of Red"),new n("Ripple no Tamago: Apprentice Magician"),new n("Rise of the Kasai"),new n("Rise to Honor","risetohonor",1,w.Sebita),new n("Risk: Global Domination"),new n("River King: A Wonderful Journey"),new n("RLH: Run Like Hell"),new n("Road Rage 3"),new n("Road Trip","roadtrip",1,w.Sebita),new n("RoadKill"),new n("Robin Hood: Defender of the Crown"),new n("Robin Hood: The Siege 2"),new n("Robin Hood's Quest"),new n("RoboCop"),new n("Robot Alchemic Drive"),new n("The Robot Tsuku Rouze!  Gekitou! Robot Fight"),new n("Robot Warlords"),new n("Robot Wars: Arenas of Destruction"),new n("Robotech: Battlecry","robotechbattlecry",1,w.Atat111111),new n("Robotech: Invasion"),new n("Robots"),new n("Rock Band","rockband",1,w.Sebita),new n("Rock Band 2","rockband2",1,w.Sebita),new n("Rock Band Country Track Pack","rockbandcountrytrackpack",1,w.Sebita),new n("Rock Band Metal Track Pack","rockbandmetalpack",1,w.Sebita),new n("Rock Band Track Pack Volume 1","rockbandtrackpackvol1",1,w.Sebita),new n("Rock Band Track Pack Volume 2","rockbandtrackpackvol2",1,w.Sebita),new n("Rock Band Track Pack: Classic Rock","rockbandtrackpackclassicrock",1,w.Sebita),new n("Rock N Roll Adventures"),new n("Rock'n Megastage"),new n("Rocket Power: Beach Bandits"),new n("Rockman: Power Battle Fighters","rockmanpowerbattlefighters",1,w.ItzCookieX),new n("Rocky"),new n("Rocky: Legends"),new n("Rogue Galaxy","roguegalaxy",1,w.VibiLeFleu),new n("Rogue Hearts Dungeon"),new n("Rogue Ops"),new n("Rogue Trooper"),new n("Roland Garros 2005: Powered by Smash Court Tennis"),new n("Roller Coaster Funfare"),new n("Rollercoaster World"),new n("Rolling"),new n("Romance of the Three Kingdoms VII"),new n("Romance of the Three Kingdoms VIII"),new n("Romance of the Three Kingdoms IX"),new n("Romance of the Three Kingdoms X"),new n("Romance of the Three Kingdoms XI"),new n("Romancing SaGa","romancingsaga",1,w.ItzCookieX),new n("Room Zoom: Race for Impact"),new n("Roommania#203"),new n("Roommate Asami: Okusama wa Joshikousei"),new n("The Roomshare to Iu Seikatsu"),new n("Rosario to Vampire Capu 2: Koi to Yume no Rhapsodia"),new n("Routes PE"),new n("Rozen Maiden ~duellwalzer~"),new n("Rozen Maiden ~gebetgarten~"),new n("RPG Maker 3"),new n("RPG Maker II"),new n("RPM Tuning"),new n("RS3: Racing Simulation Three"),new n("RTL Biathlon 2007"),new n("RTL Biathlon 2009"),new n("RTL Ski Jumping 2003"),new n("RTL Ski Jumping 2004"),new n("RTL Ski Jumping 2005"),new n("RTL Ski Jumping 2006"),new n("RTL Ski Jumping 2007"),new n("RTL Winter Games 2007"),new n("RTX Red Rock"),new n("Ruff Trigger: The Vanocore Conspiracy"),new n("Rugby"),new n("The Rugby"),new n("Rugby 06"),new n("Rugby 08"),new n("Rugby 2004"),new n("Rugby 2005"),new n("Rugby Challenge 2006"),new n("Rugby League"),new n("Rugby League 2 World Cup Edition"),new n("Rugrats: Royal Ransom"),new n("Rule of Rose"),new n("The Rumble Fish","therumblefish",1,w.Psiences),new n("Rumble Racing"),new n("Rumble Roses","rumbleroses",1,w.Psiences),new n("Runabout 3 Neo Age"),new n("Rune Princess"),new n("Rune: Viking Warlord"),new n("Rurouni Kenshin: Meiji Kenkaku Romantan - Enjou! Kyoto Rinne"),new n("Rygar: The Legendary Adventure"),new n("Ryu-Koku"),new n("S.L.A.I.: Steel Lancer Arena International"),new n("S.Y.K Renshouden"),new n("S.Y.K Shinsetsu Saiyki"),new n("Sacred Blaze"),new n("Sagashi ni Ikouyo"),new n("The Saiban"),new n("The Saigo no Nippon Tsuwamono"),new n("Saikyo Shogi Gekisashi Special"),new n("Saikyou Ginsei Shogi 4"),new n("Saikyou no Igo 2"),new n("Saikyou Toudai Shogi 2003"),new n("Saikyou Toudai Shogi 2004"),new n("Saikyou Toudai Shogi 3"),new n("Saikyou Toudai Shogi 4"),new n("Saikyou Toudai Shogi 5"),new n("Saikyou Toudai Shogi 6"),new n("Saikyou Toudai Shogi Special"),new n("Saikyou Toudai Shogi Special II"),new n("Saint and Sinner"),new n("Saint Beast: Rasen no Shou"),new n("Saint Seiya: The Hades","saintseiyathehades",1,w.Sebita),new n("Saint Seiya: The Sanctuary"),new n("Saish Densha"),new n("Saish Heiki Kanojo"),new n("Saish Shiken Kujira: Alive"),new n("Saiyuki Reload"),new n("Saiyuki Reload: Gunlock"),new n("The Saiyuki Saruden"),new n("Sakigake!! Kuromati Koukou"),new n("Sakigake!! Kuromati Koukou: Kore wa Hyottoshite Game Nanoka!? Hen"),new n("Sakigake!! Otokojuku"),new n("Sakura Taisen 3 ~Paris wa Moeteiru ka~"),new n("Sakura Taisen: Atsuki Chishio Ni"),new n("Sakura Taisen Monogatari: Mysterious Paris"),new n("Sakura Taisen V Episode 0: Kouya no Samurai Musume"),new n("Sakura Wars: So Long, My Love"),new n("Sakura: Yuki Gekka"),new n("Sakurazaka Shouboutai","sakurazakashouboutai",1,w.Issung),new n("Salt Lake 2002"),new n("Samurai 7"),new n("Samurai Aces"),new n("Samurai Champloo: Sidetracked","samuraichamploosidetracked",1,w.TravisTouchdown),new n("Samurai Jack: The Shadow of Aku"),new n("Samurai Shodown Anthology","samuraishodownsnthology",1,w.Oddworld2001),new n("Samurai Shodown V"),new n("Samurai Spirits: Tenkaichi Kenkakuden"),new n("Samurai Warriors","samuraiwarriors",1,w.ItzCookieX),new n("Samurai Warriors 2","samuraiwarriors2",1,w.ItzCookieX),new n("Samurai Warriors 2: Empires","samuraiwarriors2empires",1,w.ItzCookieX),new n("Samurai Warriors 2: Xtreme Legends","samuraiwarriors2xtremelegends",1,w.ItzCookieX),new n("Samurai Warriors: Xtreme Legends","samuraiwarriorsxtremelegends",1,w.ItzCookieX),new n("Samurai Western","samuraiwestern",1,w.Issung),new n("Sangoku Rensenki: Otome no Heihou!"),new n("Sanyo Pachinko Paradise 10"),new n("Sanyo Pachinko Paradise 11"),new n("Sanyo Pachinko Paradise 6"),new n("Sanyo Pachinko Paradise 7"),new n("Sanyo Pachinko Paradise 8"),new n("Sanyo Pachinko Paradise 9"),new n("Saru! Get You! Million Monkeys"),new n("SAS: Anti Terror Force"),new n("Saturday Night Speedway"),new n("Savage Skies"),new n("SBK Superbike World Championship"),new n("SBK-09 Superbike World Championship"),new n("Scaler","scaler",1,w.FenixF),new n("Scandal"),new n("Scared Rider Xechs"),new n("Scared Rider Xechs: Stardust Lovers"),new n("Scarface: The World Is Yours","scarface",1,w.FenixF),new n("Scarlett: Nichijou no Kyoukaisen"),new n("School Days LxH"),new n("School Love!"),new n("School Rumble"),new n("School Rumble Ni-Gakki"),new n("Scooby-Doo! First Frights","scoobydoothefirstfrights",1,w.FenixF),new n("Scooby-Doo! Mystery Mayhem","scoobydoomysterymayhem",1,w.Zeroman95),new n("Scooby-Doo! Night of 100 Frights"),new n("Scooby-Doo! and the Spooky Swamp"),new n("Scooby-Doo! Unmasked"),new n("SCORE International Baja 1000"),new n("The Scorpion King: Rise of the Akkadian"),new n("Scrabble 2003"),new n("SD Gundam Force: Showdown!"),new n("SD Gundam G Generation Neo"),new n("SD Gundam G Generation Seed"),new n("SD Gundam G Generation Spirits"),new n("SD Gundam G Generation Wars"),new n("Se-Pa 2001"),new n("Sea Monsters: A Prehistoric Adventure"),new n("Sea World: Shamu's Deep Sea Adventures"),new n("Seaman: Kindan no Pet: Gaze Hakushi no Jikken Shima"),new n("Seaman 2"),new n("Seaman: Kanzenban"),new n("Search & Destroy"),new n("Second Sight"),new n("Secret Agent Clank"),new n("Secret Game: Killer Queen"),new n("Secret of Evangelion"),new n("The Secret Saturdays: Beasts of the 5th Sun"),new n("Secret Service"),new n("Secret Weapons Over Normandy"),new n("The Seed: WarZone"),new n("Seek and Destroy"),new n("Sega Ages 2500 Series Vol. 1: Phantasy Star Generation: 1"),new n("Sega Ages 2500 Series Vol. 10: After Burner II"),new n("Sega Ages 2500 Series Vol. 11: Hokuto no Ken"),new n("Sega Ages 2500 Series Vol. 12: Puyo Puyo Ts Perfect Set"),new n("Sega Ages 2500 Series Vol. 13: OutRun"),new n("Sega Ages 2500 Series Vol. 14: Alien Syndrome"),new n("Sega Ages 2500 Series Vol. 15: Decathlete Collection"),new n("Sega Ages 2500 Series Vol. 16: Virtua Fighter 2"),new n("Sega Ages 2500 Series Vol. 17: Phantasy Star Generation: 2"),new n("Sega Ages 2500 Series Vol. 18: Dragon Force"),new n("Sega Ages 2500 Series Vol. 19: Fighting Vipers"),new n("Sega Ages 2500 Series Vol. 2: Monaco GP"),new n("Sega Ages 2500 Series Vol. 20: Space Harrier Complete Collection"),new n("Sega Ages 2500 Series Vol. 21: SDI & Quartet  Sega System 16 Collection"),new n("Sega Ages 2500 Series Vol. 22: Advanced Daisenryaku: Deutsch Dengeki Sakusen"),new n("Sega Ages 2500 Series Vol. 23: Sega Memorial Selection"),new n("Sega Ages 2500 Series Vol. 24: Last Bronx: Tokyo Bangaichi"),new n("Sega Ages 2500 Series Vol. 25: Gunstar Heroes Treasure Box"),new n("Sega Ages 2500 Series Vol. 26: Dynamite Deka"),new n("Sega Ages 2500 Series Vol. 27: Panzer Dragoon"),new n("Sega Ages 2500 Series Vol. 28: Tetris Collection"),new n("Sega Ages 2500 Series Vol. 29: Monster World"),new n("Sega Ages 2500 Series Vol. 3: Fantasy Zone"),new n("Sega Ages 2500 Series Vol. 30: Galaxy Force II  Special Extended Edition"),new n("Sega Ages 2500 Series Vol. 31: Dennou Senki Virtual On"),new n("Sega Ages 2500 Series Vol. 32: Phantasy Star Complete Collection"),new n("Sega Ages 2500 Series Vol. 33: Fantasy Zone Complete Collection"),new n("Sega Ages 2500 Series Vol. 4: Space Harrier"),new n("Sega Ages 2500 Series Vol. 5: Golden Axe"),new n("Sega Ages 2500 Series Vol. 6: Ichini no Tant-R to Bonanza Bros."),new n("Sega Ages 2500 Series Vol. 7: Columns"),new n("Sega Ages 2500 Series Vol. 8: Virtua Racing -FlatOut-"),new n("Sega Ages 2500 Series Vol. 9: Gain Ground"),new n("Sega Bass Fishing Duel","segabassfishingduel",1,w.Zeroman95),new n("Sega Classics Collection","segaclassicscollection",1,w.Sebita),new n("Sega Genesis Collection"),new n("Sega Rally 2006"),new n("Sega Soccer Slam"),new n("Sega Sports Tennis"),new n("Sega Superstars"),new n("Sega Superstars Tennis","segasuperstarstennis",1,w.Oddworld2001),new n("Seigi no Mikata"),new n("Seikai no Senki"),new n("The Sekai Meisaku Gekijou Quiz"),new n("Sekai no Subete: Two of Us"),new n("Sekai Saikyou Ginsei Igo 5"),new n("Sekai Saikyou Ginsei Igo 6"),new n("Sekai Saikyou Ginsei Igo Kouza"),new n("Sekirei: Mirai Kara no Okurimono"),new n("Sengoku Anthology"),new n("Sengoku Basara 2"),new n("Sengoku Basara 2 Eiy Gaiden"),new n("Sengoku Basara X"),new n("Sengoku Hime 2 Honoo: Hyakubana, Senran Tatsukaze no Gotoku"),new n("Sengoku Hime: Senran ni Mau Otometachi"),new n("Sengoku Tenka Touitsu"),new n("Sensible Soccer 2006"),new n("Sentimental Prelude"),new n("Sentou Kokka Kai: Legend"),new n("Sentou Kokka Kai: New Operations"),new n("Separate Hearts"),new n("Serious Sam: Next Encounter"),new n("Seven: Molmorth no Kiheitai"),new n("Seven Samurai 20XX"),new n("Shadow Hearts","shadowhearts",1,w.ItzCookieX),new n("Shadow Hearts: Covenant","shadowheartscovenant",1,w.ItzCookieX),new n("Shadow Hearts: From The New World"),new n("Shadow Man: 2econd Coming"),new n("Shadow of Destiny","shadowofdestiny",1,w.Issung),new n("Shadow of Ganymede"),new n("Shadow of the Colossus"),new n("Shadow of Rome","shadowofrome",2,w.Sebita),new n("The Shadow of Zorro"),new n("Shadow the Hedgehog","shadowthehedgehog",3,w.ItzCookieX),new n("Shadow Tower: Abyss"),new n("Shakugan no Shana"),new n("Shaman King: Funbari Spirits"),new n("Shaman King: Power of Spirit"),new n("Shanghai: Four Elements"),new n("Shanghai: Sangoku Pai Tatagi"),new n("Shark Tale"),new n("Shaun Palmer's Pro Snowboarder","shaunpalmersprosnowboarder",1,w.Issung),new n("Shaun White Snowboarding"),new n("Shellshock: Nam '67","shellshocknam67",1,w.FenixF),new n("Shepherd's Crossing"),new n("Shibai Michi"),new n("The Shield: The Game"),new n("Shifters"),new n("Shiju Hachi"),new n("Shijyou Saikyou no Deshi Kenichi: Gekitou! Ragnarok Hachikengou"),new n("Shikaku Tantei: Sora no Sekai  Thousand Dreams"),new n("Shikigami no Shiro: Nanayozuki Gensoukyoku"),new n("Shin Bakusou Dekotora Densetsu"),new n("Shin Best Play Pro Yaky"),new n("Shin Gouketsuji Ichizoku: Bonnou Kaihou","shingoketsujiichizokubonnoukaihou",1,w.Sebita),new n("Shin Hisui no Shizuku: Hiiro no Kakera 2"),new n("Shin Koihime Musou: Otome Ryouran * Sangokushi Engi"),new n("Shin Master of Monsters Final EX"),new n("Shin Megami Tensei: Devil Summoner: Raidou Kuzunoha vs. The Soulless Army","shinmegamitenseidevilsummoner1",1,w.ItzCookieX),new n("Shin Megami Tensei: Devil Summoner 2: Raidou Kuzunoha vs. King Abaddon","shinmegamitenseidevilsummoner2",1,w.ItzCookieX),new n("Shin Megami Tensei: Digital Devil Saga","shinmegamitenseidds1",1,w.ItzCookieX),new n("Shin Megami Tensei: Digital Devil Saga 2","shinmegamitenseidds2",1,w.ItzCookieX),new n("Shin Megami Tensei: Nocturne","shinmegamitenseinocturne",1,w.ItzCookieX),new n("Shine: Kotoba o Tsumuide"),new n("Shining Force EXA","shiningforceexa",1,w.Sebita),new n("Shining Force Neo","shiningforceneo",1,w.Sebita),new n("Shining Tears","shiningtears",1,w.ItzCookieX),new n("Shining Wind","shiningwind",1,w.ItzCookieX),new n("Shinki Gensou: Spectral Souls"),new n("Shinki Gensou: Spectral Souls II"),new n("Shinjuku no kami"),new n("Shinkon Gattai Godannar!!"),new n("Shinkyoku Skai Polyphonica"),new n("Shinkyoku Skai Polyphonica: 3&4 Hanashi Kanketsuhen"),new n("Shinkyoku Skai Polyphonica: After School"),new n("Shinkyoku Skai Polyphonica: The Black ~Episode 1&2 CS Edition~"),new n("Shinobi"),new n("Shinobido: Way of the Ninja"),new n("Shinobido Takumi"),new n("Shinseiki Evangelion 2: Evangelions"),new n("Shinseiki Evangelion: Ayanami Ikusei Keikaku with Asuka Hokan Keikaku"),new n("Shinseiki Evangelion: Battle Orchestra"),new n("Shinseiki Evangelion: Koutetsu no Girlfriend 2nd"),new n("Shinseiki Evangelion: Koutetsu no Girlfriend Special Edition"),new n("Shinseiki Evangelion: Typing E-Keikaku"),new n("Shinseiki GPX Cyber Formula: Road to the Infinity"),new n("Shinseiki GPX Cyber Formula: Road to the Infinity 2"),new n("Shinseiki GPX Cyber Formula: Road to the Infinity 3"),new n("Shinseiki GPX Cyber Formula: Road to the Infinity 4"),new n("Shinseiki Ysha Taisen"),new n("Shinten Makai: Generation of Chaos V"),new n("Shirach Tankenbu"),new n("Shirogane no Soleil: Contract to the Future  Mirai e no Keiyaku"),new n("Shirogane no Torikago: The Angels with Strange Wings"),new n("Shogi"),new n("The Shogi"),new n("Shogi 4"),new n("Shogi World Champion Gekihashi 2"),new n("Shogun's Blade"),new n("Shooting Love: Trizeal"),new n("Short Track Racing: Trading Paint"),new n("Shoubi no Ki ni Shoubi no Hanasaku: Das Versprechen"),new n("Shoujo Mahou Gaku Littlewitch Romanesque"),new n("Shoujo Yoshitsuneden"),new n("Shoujo Yoshitsuneden 2"),new n("Shoukan Shoujo: Elemental Girl Calling"),new n("Shounen Onmyouji: Tsubasa Yoima, Ten e Kaere"),new n("Showdown: Legends of Wrestling"),new n("Shox","shox",2,w.Sebita),new n("Shrek 2","shrek2",1,w.Zwish343),new n("Shrek: Super Party","shreksuperparty",1,w.Zwish343),new n("Shrek's Carnival Craze","shrekscarnivalcraze",1,w.Zwish343),new n("Shuffle! On the Stage"),new n("Shmatsu Shoujo Gensou Alicematic Apocalypse"),new n("Sidewinder Max"),new n("Silent Hill 2","silenthill2",1,w.Issung),new n("Silent Hill 2: Director's Cut","silenthill2directorscut",1,w.Psiences),new n("Silent Hill 3","silenthill3",1,w.Issung),new n("Silent Hill 4: The Room","silenthill4",1,w.Psiences),new n("Silent Hill: Origins"),new n("Silent Hill: Shattered Memories"),new n("Silent Line: Armored Core","armoredcoresilentline",1,w.ItzCookieX),new n("Silent Scope"),new n("Silent Scope 2: Dark Silhouette"),new n("Silent Scope 3"),new n("Silpheed: The Lost Planet"),new n("Simoun: Shoubi Sensou  Fuuin no Remersion"),new n("The Simpsons Game","thesimpsonsgame",1,w.FenixF),new n("The Simpsons: Hit & Run","simpsonshitnrun",1,w.Issung),new n("The Simpsons: Road Rage","thesimpsonsroadrage",2,w.Sebita),new n("The Simpsons Skateboarding"),new n("The Sims","thesims",3,w.NateTool),new n("The Sims 2","thesims2",3,w.NateTool),new n("The Sims 2: Castaway","sims2castaway",3,w.ItzCookieX),new n("The Sims 2: Pets","sims2pets",3,w.ItzCookieX),new n("The Sims Bustin' Out"),new n("Sinbad Adventure wa Enomoto Kanako de Dou Desu ka"),new n("SingStar"),new n("SingStar"),new n("SingStar '80s"),new n("SingStar '80s (EU version)"),new n("SingStar '90s"),new n("SingStar ABBA"),new n("SingStar Afrikaansee Treffers"),new n("SingStar Amped"),new n("SingStar Anthems"),new n("SingStar Apres-Ski Party"),new n("SingStar Apres-Ski Party 2"),new n("SingStar: The Biggest Solo Stars"),new n("SingStar Bollywood"),new n("SingStar Boy Bands vs Girl Bands"),new n("SingStar Chart Hits"),new n("SingStar Chartbreaker"),new n("SingStar Country"),new n("SingStar Deutsch Rock-Pop"),new n("SingStar Deutsch Rock-Pop Vol.2"),new n("SingStar Die Toten Hosen"),new n("SingStar Fussballhits"),new n("SingStar Hottest Hits"),new n("SingStar Italian Party"),new n("SingStar Italian Party 2"),new n("SingStar La Edad de Oro del Pop Espanol"),new n("SingStar Latino"),new n("SingStar Latino (EU Version)"),new n("SingStar Legends"),new n("SingStar Made in Germany"),new n("SingStar Mallorca Party"),new n("SingStar Mecano"),new n("SingStar Miliki"),new n("SingStar: Morangos com Acucar"),new n("SingStar Motown"),new n("SingStar Norsk pa Norsk"),new n("SingStar Operacion Triunfo"),new n("SingStar Party"),new n("SingStar Party Hits"),new n("SingStar Patito Feo"),new n("SingStar Pop",t=>[new Ve(t,"High Scores","singstarpophighscores",1,w.Zeroman95),new Ve(t,"Settings","singstarpopsettings",1,w.Zeroman95)]),new n("SingStar Pop Hits"),new n("SingStar Pop Hits 2"),new n("SingStar Pop Hits 3"),new n("SingStar Pop Hits 4"),new n("SingStar Pop Vol. 2"),new n("SingStar Queen"),new n("SingStar R&B"),new n("SingStar Rock Ballads"),new n("SingStar Rocks!"),new n("SingStar Schlager"),new n("SingStar Singalong With Disney"),new n("SingStar Studio 100"),new n("SingStar Svenska Hits Schlager"),new n("SingStar Take That"),new n("SingStar top.it"),new n("SingStar Turkish Party"),new n("SingStar Vasco"),new n("SingStar: The Wiggles"),new n("Siren"),new n("Siren 2"),new n("Sitting Ducks"),new n("Skate Attack"),new n("Skateboard Madness Xtreme Edition"),new n("Ski Alpin 2005"),new n("Ski & Shoot"),new n("Ski Jump Pair Reloaded"),new n("Ski Racing 2005"),new n("Ski Racing 2006"),new n("Ski-doo Snow X Racing"),new n("Skip Beat!"),new n("Sky Odyssey","skyodyssey",1,w.ItzCookieX),new n("Sky Surfer"),new n("SkyGunner","skygunner",3,w.Issung),new n("Skyscraper"),new n("Slam Tennis"),new n("Sled Storm"),new n("Slot! Pro Dx: Fujiko 2"),new n("Slotter UP Core"),new n("Slotter UP Core 10: Mach GoGoGo2"),new n("Slotter UP Core 11: Kyoujin no Hoshi IV"),new n("Slotter UP Core 12: PinPon"),new n("Slotter UP Core 2"),new n("Slotter UP Core 3"),new n("Slotter UP Core 4: Don-chan Gekiuchi! Jissen Pachi-Slot Ore Izuma"),new n("Slotter UP Core 5"),new n("Slotter UP Core 6"),new n("Slotter UP Core 7: Dekitou da! Street Fighter II"),new n("Slotter UP Core 8: Kyojin no Hoshi III"),new n("Slotter UP Core 9"),new n("Slotter UP Core Alpha"),new n("Slotter UP Mania"),new n("Slotter UP Mania 10: Pioneer Special III"),new n("Slotter UP Mania 11: 2027 vs 2027 II"),new n("Slotter UP Mania 2"),new n("Slotter UP Mania 3"),new n("Slotter UP Mania 4"),new n("Slotter UP Mania 5"),new n("Slotter UP Mania 6"),new n("Slotter UP Mania 7"),new n("Slotter UP Mania 8"),new n("Slotter UP Mania 9"),new n("Sly 2: Band of Thieves"),new n("Sly 3: Honor Among Thieves"),new n("Sly Cooper and the Thievius Raccoonus"),new n("Smarties: Meltdown"),new n("Smash Cars"),new n("Smash Court Tennis Pro Tournament"),new n("Smash Court Tennis Pro Tournament 2"),new n("Smuggler's Run"),new n("Smuggler's Run 2: Hostile Territory"),new n("The Sniper 2"),new n("Snesticle [Homebrew]","snesticle",1,w.Oddworld2001),new n("Sniper Assault","sniperassault",1,w.Zeroman95),new n("Sniper Elite"),new n("SNK Arcade Classics Vol. 1"),new n("SNK Slot Panic Kyuuji"),new n("SnoCross 2: Featuring Blair Morgan"),new n("Snoopy vs. the Red Baron","snoopyvstheredbaron",1,w.SqueezedDog),new n("Snow"),new n("The Snow Queen Quest"),new n("Snow Rider"),new n("Snow White and the 7 Clever Boys"),new n("Snowboard Heaven"),new n("Snowboard Racer 2"),new n("Soccer America: International Cup"),new n("Soccer Kantoku Saihai Simulation: Formation Final"),new n("Soccer Life!"),new n("Soccer Life 2"),new n("Soccer Mania"),new n("Soccer Tsuku 2002: J.League Pro Soccer Club o Tsukurou!"),new n("SOCOM U.S. Navy SEALs","socom",1,w.Sebita),new n("SOCOM II U.S. Navy SEALs","socom2",1,w.Sebita),new n("SOCOM 3 U.S. Navy SEALs","socom3",1,w.Sebita),new n("SOCOM U.S. Navy SEALs: Combined Assault","socomcombinedassault",1,w.Sebita),new n("Sokudoku Master"),new n("Sol Divide"),new n("Soldier of Fortune: Gold Edition"),new n("Son of The Lion King"),new n("Sonic Gems Collection","sonicgemscollection",1,w.ItzCookieX),new n("Sonic Heroes","sonicheroes",3,w.ItzCookieX),new n("Sonic Mega Collection Plus","sonicmegacollection",1,w.ItzCookieX),new n("Sonic Riders"),new n("Sonic Riders: Zero Gravity","sonicriderszerogravity",1,w.ItzCookieX),new n("Sonic Unleashed","sonicunleashed",1,w.ItzCookieX),new n("The Sopranos: Road to Respect"),new n("Sorairo no Fuukin Remix"),new n("Sorayume"),new n("Soshite Bokura wa... And He Said"),new n("Soshite Kono Sora ni Kirameku Kimi no Uta"),new n("Soshite Kono Sora ni Kirameku Kimi no Uta XXX"),new n("Sotsugyou 2nd Generation"),new n("Soukoku no Kusabi: Hiiro no Kakera 3"),new n("Soukou Kihei Votoms","soukoukiheivotoms",1,w.Atat111111),new n("Soul Eater: Battle Resonance","souleaterbattleresonance",1,w.ItzCookieX),new n("Soul Link Extension"),new n("Soul Nomad & the World Eaters","soulnomad",1,w.Issung),new n("Soul Reaver 2"),new n("Soulcalibur II","soulcalibur2",1,w.Issung),new n("Soulcalibur III","soulcalibur3",1,w.VibiLeFleu),new n("Ssei no Akuarion"),new n("Soutenryuu: The Arcade"),new n("Space Channel 5","spacechannel5",1,w.Psiences),new n("Space Channel 5: Part 2","spacechannel5part2",1,w.ItzCookieX),new n("Space Chimps"),new n("Space Fishermen"),new n("Space Invaders Anniversary"),new n("Space Invaders: Invasion Day"),new n("Space Race"),new n("Space Rebellion"),new n("Space Venus Starring Morning Musume"),new n("Space War Attack"),new n("Spartan: Total Warrior"),new n("Spawn: Armageddon","spawnarmageddon",1,w.Oddworld2001),new n("Special Forces"),new n("Spectral Force Chronicle"),new n("Spectral Force: Radical Elements"),new n("Spectral Gene"),new n("Spectral Souls"),new n("Spectral vs Generation"),new n("Speed Challenge: Jacques Villeneuve's Racing Vision"),new n("Speed Kings"),new n("Speed Machines III"),new n("Speed Racer"),new n("Speedboat GP"),new n("Sphinx and the Cursed Mummy","sphinxandthecursedmummy",1,w.FenixF),new n("Spider-Man"),new n("Spider-Man 2","spiderman2",1,w.NateTool),new n("Spider-Man 3"),new n("Spider-Man: Friend or Foe","spidermanfriendorfoe",1,w.Issung),new n("Spider-Man: Web of Shadows  Amazing Allies Edition"),new n("The Spiderwick Chronicles"),new n("SpinDrive Ping Pong"),new n("Splashdown"),new n("Splashdown  Rides Gone Wild"),new n("Splatter Master"),new n("SpongeBob SquarePants: Battle for Bikini Bottom","spongebobbattleforbikinibottom",1,w.Issung),new n("SpongeBob SquarePants: Creature from the Krusty Krab","spongebobcreaturefromthekrustykrab",1,w.SqueezedDog),new n("SpongeBob SquarePants featuring Nicktoons: Globs of Doom","spongebobglobsofdoom",1,w.SqueezedDog),new n("SpongeBob SquarePants: Lights, Camera, Pants!","spongeboblightscamerapants",1,w.SqueezedDog),new n("The SpongeBob SquarePants Movie","spongebobsquarepantsmovie",1,w.SqueezedDog),new n("SpongeBob SquarePants: Revenge of the Flying Dutchman","spongebobrevengeoftheflyingdutchman",1,w.SqueezedDog),new n("SpongeBob's Atlantis SquarePantis","spongebobatlantissquarepantis",1,w.SqueezedDog),new n("Springdale: Riding Adventures"),new n("Sprint Car Challenge"),new n("Sprint Cars 2: Showdown at Eldora"),new n("Sprint Cars: Road to Knoxville"),new n("Spy Fiction"),new n("Spy Hunter"),new n("Spy Hunter 2"),new n("Spy Hunter: Nowhere to Run"),new n("Spy vs. Spy"),new n("Spyro: A Hero's Tail","spyroherostail",1,w.Issung),new n("Spyro: Enter the Dragonfly","spyroenterthedragonfly",1,w.ItzCookieX),new n("SSX","ssx",1,w.Issung),new n("SSX 3","ssx3",1,w.VibiLeFleu),new n("SSX on Tour","ssxontour",1,w.VibiLeFleu),new n("SSX Tricky","ssxtricky",1,w.Issung),new n("Stacked with Daniel Negreanu"),new n("Standard Daisenryaku: Dengekisen"),new n("Standard Daisenryaku: Shiwareta Shouri"),new n("Star Ocean: Till the End of Time","staroceantilltheendoftime",1,w.ItzCookieX),new n("Star Soldier"),new n("Star Trek: Conquest"),new n("Star Trek: Encounters"),new n("Star Trek: Shattered Universe"),new n("Star Trek: Voyager  Elite Force"),new n("Star Wars: Battlefront"),new n("Star Wars: Battlefront II"),new n("Star Wars: Bounty Hunter"),new n("Star Wars: The Clone Wars"),new n("Star Wars: The Clone Wars  Republic Heroes"),new n("Star Wars Episode III: Revenge of the Sith"),new n("Star Wars: The Force Unleashed"),new n("Star Wars: Jedi Starfighter"),new n("Star Wars Racer Revenge"),new n("Star Wars: Starfighter"),new n("Star Wars: Super Bombad Racing"),new n("Starsky & Hutch"),new n("StarTRain: Your Past Makes Your Future"),new n("State of Emergency","stateofemergency",3,w.Psiences),new n("State of Emergency 2"),new n("Steady x Study"),new n("Stealth Force 2"),new n("Stealth Force: The War on Terror"),new n("Steam Express"),new n("Steambot Chronicles"),new n("Steamboy"),new n("Steel Dragon EX"),new n("Stella Deus: The Gate of Eternity","stelladeus",1,w.ItzCookieX),new n("Stepping Selection"),new n("Stock Car Crash"),new n("Stolen"),new n("Strawberry Panic! Girls' School in Fullbloom"),new n("Strawberry Shortcake: The Sweet Dreams Game"),new n("Street Boyz"),new n("Street Cricket Champions"),new n("Street Cricket Champions 2"),new n("Street Dance"),new n("Street Fighter III: 3rd Strike  Fight for the Future",t=>[new Ve(t,"Alex"),new Ve(t,"Ryu","streetfighter33rdstrikeryu",1,w.ItzCookieX),new Ve(t,"Yun"),new Ve(t,"Dudley"),new Ve(t,"Necro"),new Ve(t,"Oro"),new Ve(t,"OroIbuki"),new Ve(t,"Elena"),new Ve(t,"Ken","streetfighter33rdstrikeken",1,w.ItzCookieX),new Ve(t,"Sean"),new Ve(t,"Urien"),new Ve(t,"Akuma"),new Ve(t,"Chun-Li"),new Ve(t,"Makoto"),new Ve(t,"Q"),new Ve(t,"Remy"),new Ve(t,"Twelve"),new Ve(t,"Hugo"),new Ve(t,"Yang"),new Ve(t,"Gill","streetfighter33rdstrikegill",1,w.ItzCookieX)]),new n("Street Fighter Alpha Anthology","streetfighteralphaanthology",1,w.ItzCookieX),new n("Street Fighter EX3"),new n("Street Golfer"),new n("Street Hoops"),new n("Street Mahjong Trans-Asakami 2"),new n("Street Racing Syndicate"),new n("Street Warrior"),new n("Stretch Panic","stretchpanic",1,w.Issung),new n("Strike Force Bowling"),new n("Strike Witches: Anata to Dekiru Koto  A Little Peaceful Days"),new n("Stuart Little 3: Big Photo Adventure","stuartlittle3bigphotoadventure",1,w.FenixF),new n("Stunt GP"),new n("Stuntman","stuntman",1,w.Psiences),new n("Stuntman: Ignition"),new n("Stylish Mahjong Usagi"),new n("Sub Rebellion"),new n("Sudoku"),new n("The Suffering","thesuffering",1,w.FenixF),new n("The Suffering: Ties That Bind","thesufferingtiesthatbind",1,w.FenixF),new n("Sugar + Spice! Anoko no Suteki na Nanimokamo"),new n("Sugar Sugar Rune: Koimo Osharemo Pick-Up"),new n("Suggoi! Arcana Heart 2"),new n("Sui-Sui-Sweet"),new n("Suigetsu Mayoi-Gokoro"),new n("Suika A.S+ Eternal Name"),new n("Suikoden III","suikoden3",1,w.ItzCookieX),new n("Suikoden IV","suikoden4",1,w.ItzCookieX),new n("Suikoden V","suikoden5",1,w.ItzCookieX),new n("Suikoden Tactics","suikodentactics",1,w.ItzCookieX),new n("The Suiri"),new n("The Suiri: Aratanaru 20 no Jikenbo"),new n("Suki Namono wa Suki Dakarashou Ganai!! First Limit & Target Nights: Sukisyo Episode #1 & #2"),new n("Suki Namono wa Suki Dakarashou Ganai!! Rain: Sukisyo Episode #3"),new n("Sukusuku Inufuku"),new n("The Sum of All Fears"),new n("Summer Athletics"),new n("Summer Heat Beach Volleyball"),new n("Summon Night 3"),new n("Summon Night 4","summonnight4",1,w.Rikineko),new n("Summon Night EX-Thesis: Yoake no Tsubasa"),new n("Summon Night Gran-These: Horobi no Tsurugi to Yakusoku no Kishi"),new n("Summoner","summoner",1,w.Zeroman95),new n("Summoner 2"),new n("Sumomo mo Momo mo: Chijou Saikyou no Yome"),new n("Sunny Garcia Surfing"),new n("Sunrise Eiyuutan 2"),new n("Sunrise Eiyuutan 3"),new n("Sunrise Eiyuutan R"),new n("Sunrise World War"),new n("Sunsoft Collection","sunsoftcollection",1,w.Oddworld2001),new n("Super Bust-A-Move","superbustamove",1,w.Sebita),new n("Super Bust-A-Move 2","superbustamove2",1,w.Sebita),new n("Super Dragon Ball Z","superdragonballz",1,w.Zeroman95),new n("Super Farm"),new n("Super Fruit Fall"),new n("Super Galdelic Hour",t=>[new Ve(t,"Game Data","supergaldelic",1,w.SqueezedDog),new Ve(t,"Photo Album Data","supergaldelicamera",1,w.SqueezedDog)]),new n("Super Micchan"),new n("Super Monkey Ball Adventure","monkeyballadventure",1,w.ItzCookieX),new n("Super Monkey Ball Deluxe","monkeyballdx",1,w.ItzCookieX),new n("Super PickUps"),new n("Super Robot Wars Alpha Premium Edition"),new n("Super Robot Wars Impact","superrobotwarsimpact",1,w.Rikineko),new n("Super Robot Wars MX"),new n("Super Robot Wars Original Generation Gaiden"),new n("Super Robot Wars Original Generations"),new n("Super Robot Wars: Scramble Commander"),new n("Super Robot Wars: Scramble Commander the 2nd"),new n("Super Robot Wars Z"),new n("Super Robot Wars Z Special Disc"),new n("Super Rugby League 2"),new n("Super Shanghai 2005"),new n("Super Trucks Racing"),new n("Superbike GP"),new n("Super-Bikes: Riding Challenge"),new n("Supercar Street Challenge"),new n("Superman Returns"),new n("Superman: Shadow of Apokolips"),new n("Surf's Up"),new n("Surfing Air Show with RatBoy"),new n("Surfing H3O","surfingh30",2,w.Zeroman95),new n("Surveillance Kanshisha"),new n("The Survival Game"),new n("The Survival Game 2"),new n("Suzuki Super-bikes II: Riding Challenge"),new n("Suzuki TT Superbikes"),new n("Suzuki TT Superbikes: Real Road Racing Championship"),new n("Suzumiya Haruhi no Tomadoi"),new n("Suzunone Seven: Rebirth Knot"),new n("SVC Chaos: SNK vs. Capcom","snkvscapcomsvcchaos",1,w.Psiences),new n("Sven-Gran Eriksson's World Challenge"),new n("Sven-Goran Eriksson's World Cup Manager"),new n("Swashbucklers: Blue vs. Grey"),new n("SWAT: Global Strike Team"),new n("SWAT: Siege"),new n("Sweet Legacy"),new n("Sweet Season"),new n("SweetHoneyComing"),new n("Swing Away Golf"),new n("Switch"),new n("The Sword of Etheria"),new n("Sword of the Samurai"),new n("Swords of Destiny"),new n("SX Superstar"),new n("Syberia"),new n("Syberia II"),new n("Syphon Filter: Dark Mirror"),new n("Syphon Filter: Logan's Shadow"),new n("Syphon Filter: The Omega Strain"),new n("The Table Game"),new n("Taiheiyou no Arashi: Senkan Yamato, Akatsuki ni Shutsugekisu"),new n("Taiko: Drum Master","taikodrummaster",1,w.ItzCookieX),new n("Taiko no Tatsujin: Appare Sandaime","taikoapparesandaime",1,w.ItzCookieX),new n("Taiko no Tatsujin: Atsumare! Matsuri Da!! Yondaime","taikoatsumarematsurida",1,w.ItzCookieX),new n("Taiko no Tatsujin: Doka! to Oomori Nanadaime","taikodokatooomori",1,w.ItzCookieX),new n("Taiko no Tatsujin: Doki! Shinkyoku Darake no Haru Matsuri","taikodokishinkyoku",1,w.ItzCookieX),new n("Taiko no Tatsujin: Go! Go! Godaime","taikogogogodaime",1,w.ItzCookieX),new n("Taiko no Tatsujin: Tatakon de Dodon ga Don","taikotatakondedodon",1,w.ItzCookieX),new n("Taiko no Tatsujin: Tobikkiri! Anime Special","taikotobikkiri",1,w.ItzCookieX),new n("Taiko no Tatsujin: Wai Wai Happy Rokudaime","taikowaiwaihappy",1,w.ItzCookieX),new n("Taiko no Tatsujin: Waku Waku Anime Matsuri","taikowakuwaku",1,w.ItzCookieX),new n("Taikou Risshiden IV"),new n("Taikou Risshiden V"),new n("Taikyoku Mahjong: Net de Ron!"),new n("The Tairyou Jigoku"),new n("Taisen Hot Gimmick: Axes-Jong"),new n("Taisen Hot Gimmick: Cosplay-jong"),new n("Taisen! Bakutama Poi Poi"),new n("Taisen(1, Contributors.Issung) Shogi"),new n("Taisen(2, Contributors.Issung) Igo"),new n("Taisen(3, Contributors.Issung) Mahjong"),new n("Taisen(4) Soldier"),new n("Taishou Mononoke Ibunroku"),new n("Taito Legends"),new n("Taito Legends 2","taitolegends2",1,w.Sebita),new n("Taito Memories Gekan","taitomemoriesgekan",1,w.Sebita),new n("Taito Memories II Gekan","taitomemoriesiigekan",1,w.Sebita),new n("Taito Memories II Joukan","taitomemoriesiijoukan",1,w.Sebita),new n("Taito Memories Joukan","taitomemoriesjoukan",1,w.Sebita),new n("Tak 2: The Staff of Dreams"),new n("Tak and the Guardians of Gross"),new n("Tak and the Power of Juju"),new n("Tak: The Great Juju Challenge"),new n("Takahashi Naoko no Marathon Shiyouyo!"),new n("The Tale of Despereaux"),new n("Tales of the Abyss",t=>[new Ve(t,"Game Data","talesoftheabyss",1,w.Rikineko),new Ve(t,"System Data","talesoftheabyss-systemdata",1,w.Oddworld2001)]),new n("Tales of Destiny","talesofdestiny",1,w.ItzCookieX),new n("Tales of Destiny 2","talesofdestiny2",1,w.ItzCookieX),new n("Tales of Destiny: Director's Cut","talesofdestinydirectorscut",1,w.ItzCookieX),new n("Tales of Fandom Vol. 2","talesoffandomvol2",1,w.ItzCookieX),new n("Tales of Legendia","talesoflegendia",1,w.ItzCookieX),new n("Tales of Rebirth","talesofrebirth",1,w.ItzCookieX),new n("Tales of Symphonia","talesofsymphonia",1,w.ItzCookieX),new n("Tam Tam Paradise"),new n("Tamayura"),new n("Tank Elite"),new n("Tantei Gakuen Q"),new n("Tantei Jinguuji Saburou: Innocent Black"),new n("Tantei Jinguuji Saburou: Kind of Blue"),new n("The Taxi 2"),new n("Taxi 3"),new n("Taxi Rider"),new n("Taz Wanted"),new n("TBS All-Star Kansha Matsuri 2003-Aki Chou Gouka! Quiz Ketteiban"),new n("TearRing Saga Series: Berwick Saga"),new n("Technicbeat","technicbeat",1,w.ItzCookieX),new n("Technictix","technictix",1,w.ItzCookieX),new n("Tecmo Hit Parade"),new n("Teen Titans"),new n("Teenage Mutant Ninja Turtles"),new n("Teenage Mutant Ninja Turtles 2: Battle Nexus"),new n("Teenage Mutant Ninja Turtles 3: Mutant Nightmare"),new n("Teenage Mutant Ninja Turtles: Mutant Melee"),new n("Teenage Mutant Ninja Turtles: Smash-Up"),new n("Teikoku Sensenki"),new n("Teitoku no Ketsudan IV with Power-Up Kit"),new n("Tekken 4","tekken4",1,w.Zwish343),new n("Tekken 5"),new n("Tekken Tag Tournament","tekkentagtournament",3,w.Psiences),new n("Telly Addicts"),new n("Tenchu: Fatal Shadows"),new n("Tenchu: Wrath of Heaven"),new n("Tengai"),new n("Tengai Maky II: Manji Maru"),new n("Tengai Maky III: Namida"),new n("Tenka-bito"),new n("Tenkuu Danzai Skelter Heaven"),new n("Tennis Court Smash"),new n("Tennis Masters Series 2003"),new n("Tennis no Oji-Sama: Card Hunter"),new n("Tennis no Oji-Sama: DokiDoki Survival  Sanroku no Mystic"),new n("Tennis no Oji-Sama: DokiDoki Survival  Umibe no Secret"),new n("Tennis no Oji-Sama: Gakuensai no Oji-Sama"),new n("Tennis no Oji-Sama: Kiss of Prince Flame"),new n("Tennis no Oji-Sama: Kiss of Prince Ice"),new n("Tennis no Oji-Sama: Love of Prince Bitter"),new n("Tennis no Oji-Sama: Love of Prince Sweet"),new n("Tennis no Oji-Sama: Rush & Dream!"),new n("Tennis no Oji-Sama: Saikyou Team o Kessei Seyo!"),new n("Tennis no Oji-Sama: Smash Hit!"),new n("Tennis no Oji-Sama: Smash Hit! 2"),new n("Tennis no Oji-Sama: Sweat & Tears 2"),new n("Tenohirao, Taiyouni: Eikyuu no Kizuna"),new n("Tensai Bit-Kun: Gramon Battle"),new n("Tensei Hakkenshi Fuumaroku"),new n("Tenshi no Present - Marl koku Monogatari"),new n("Tenshou Gakuen Gekkouroku"),new n("Tenshou Gakuen Gensouroku"),new n("Tentama: 1st Sunnyside"),new n("Tentama 2: Wins"),new n("Terminator 3: The Redemption"),new n("Terminator 3: Rise of the Machines"),new n("Terminator: Dawn of Fate"),new n("Test Drive"),new n("Test Drive: Eve of Destruction","testdriveeveofdestruction",1,w.Sebita),new n("Test Drive Off-Road: Wide Open"),new n("Test Drive Unlimited","testdriveunlimited",1,w.Sebita),new n("Tetris Worlds","tetrisworlds",1,w.Sebita),new n("Tetris: Kiwame Michi","tetriskiwamemichi",1,w.Sebita),new n("Tetsu 1: Densha de Battle!"),new n("Tetsujin 28-go"),new n("Theme Park Roller Coaster"),new n("They Came from the Skies"),new n("The Thing","thething",1,w.Psiences),new n("Thomas & Friends: A Day at the Races"),new n("Thread Colors: Sayonara no Mukougawa"),new n("Thrillville"),new n("Thrillville: Off the Rails"),new n("Thunder Force VI"),new n("Thunderbirds"),new n("Thunderstrike: Operation Phoenix"),new n("Tiger Woods PGA Tour 06"),new n("Tiger Woods PGA Tour 07"),new n("Tiger Woods PGA Tour 08"),new n("Tiger Woods PGA Tour 09"),new n("Tiger Woods PGA Tour 10"),new n("Tiger Woods PGA Tour 2001"),new n("Tiger Woods PGA Tour 2002"),new n("Tiger Woods PGA Tour 2003"),new n("Tiger Woods PGA Tour 2004"),new n("Tiger Woods PGA Tour 2005"),new n("Tim Burton's The Nightmare Before Christmas: Oogie's Revenge","timburtonsnightmarebeforechristmasoogiesrevenge",1,w.SqueezedDog),new n("Time Crisis II"),new n("Time Crisis 3"),new n("Time Crisis: Crisis Zone","timecrisiszone",1,w.Issung),new n("TimeSplitters"),new n("TimeSplitters 2","timesplitters2",1,w.Issung),new n("TimeSplitters: Future Perfect","timesplittersfutureperfect",1,w.Issung),new n("Tir Na Nog: Yuukyuu no Jin"),new n("Titeuf: Mega Compet"),new n("TMNT"),new n("TNA Impact!"),new n("To Heart 2"),new n("TOCA Race Driver 2"),new n("TOCA Race Driver 3","tocaracedriver3",1,w.Zeroman95),new n("Togainu no Chi: True Blood"),new n("Tokimeki Memorial 2: Music Video Clips: Circus de Ai Imashou"),new n("Tokimeki Memorial 3"),new n("Tokimeki Memorial Girl's Side"),new n("Tokimeki Memorial Girl's Side: 2nd Kiss"),new n("Tokobot Plus: Mysteries of the Karakuri"),new n("The Tokudane"),new n("Tokyo Bus Annai","tokyobusannai",1,w.Issung),new n("Tokyo Bus Annai 2","tokyobusannai2",1,w.Issung),new n("Tokyo Majin Gakuen: Kaihoujyou Kefurokou"),new n("Tokyo Road Race"),new n("Tokyo Xtreme Racer: 3","tokyoxtremeracer3",1,w.Issung),new n("Tokyo Xtreme Racer: Drift","tokyoxtremeracerdrift",1,w.Issung),new n("Tokyo Xtreme Racer: Drift 2","tokyoxtremeracerdrift2",1,w.Issung),new n("Tokyo Xtreme Racer: Zero","tokyoxtremeracerzero",1,w.Issung),new n("Tom and Jerry in War of Whiskers"),new n("Tom Clancy's Ghost Recon"),new n("Tom Clancy's Ghost Recon 2","tomclancyghostrecon2",1,w.Issung),new n("Tom Clancy's Ghost Recon Advanced Warfighter"),new n("Tom Clancy's Ghost Recon: Jungle Storm"),new n("Tom Clancy's Rainbow Six 3","tomclancyrainbowsix3",1,w.Issung),new n("Tom Clancy's Rainbow Six: Lockdown"),new n("Tom Clancy's Splinter Cell","tomclancysplintercell",1,w.Issung),new n("Tom Clancy's Splinter Cell: Chaos Theory","sc3chaostheory",1,w.Issung),new n("Tom Clancy's Splinter Cell: Double Agent","tomclancyssplintercelldoubleagent",1,w.FenixF),new n("Tom Clancy's Splinter Cell: Pandora Tomorrow"),new n("Tomak: Save the Earth"),new n("Tomak: Save the Earth  Complete Edition"),new n("Tomb Raider: The Angel of Darkness","tombraidertheangelofdarkness",1,w.Issung),new n("Tomb Raider: Anniversary","tombraideranniversary",1,w.Issung),new n("Tomb Raider: Legend","tombraiderlegend",1,w.Issung),new n("Tomb Raider: Underworld","tombraiderunderworld",1,w.Issung),new n("Tomoyo After: It's a Wonderful Life  CS Edition"),new n("Tony Hawk's American Wasteland","tonyhawksamericanwasteland",1,w.ItzCookieX),new n("Tony Hawk's Downhill Jam","tonyhawksdownhilljam",1,w.ItzCookieX),new n("Tony Hawk's Pro Skater 3",t=>[new Ve(t,"Game Data","tonyhawksproskater3",1,w.Issung),new Ve(t,"Custom Skater Data","tonyhawksproskater3-customskater",1,w.Oddworld2001)]),new n("Tony Hawk's Pro Skater 4","tonyhawksproskater4",1,w.Issung),new n("Tony Hawk's Project 8","tonyhawksproject8",1,w.ItzCookieX),new n("Tony Hawk's Proving Ground","tonyhawksprovingground",1,w.ItzCookieX),new n("Tony Hawk's Underground","tonyhawksunderground",1,w.Issung),new n("Tony Hawk's Underground 2","tonyhawksunderground2",1,w.ItzCookieX),new n("Top Angler"),new n("Top Gear: Dare Devil"),new n("Top Gun","topgun",1,w.Zeroman95),new n("Top Gun: Combat Zones"),new n("Top o Nerae! GunBuster"),new n("Top Spin"),new n("Top Trumps: Doctor Who"),new n("Top Trumps Adventures: Dogs and Dinosaurs"),new n("Top Trumps Adventures: Horror and Predators"),new n("Topai! Dramatic Mahjong"),new n("Torakapuu! Dash!!"),new n("Tori no Hoshi: Aerial Planet"),new n("Torikago no Mukougawa"),new n("Torino 2006"),new n("Toro to Kyuujitsu"),new n("Torrente 3: The Protector","torrente3",1,w.NateTool),new n("Total Club Manager 2004"),new n("Total Club Manager 2005"),new n("Total Immersion Racing"),new n("Total Overdose: A Gunslinger's Tale in Mexico"),new n("Totally Spies! Totally Party"),new n("The Toubou Prisoner"),new n("Toudai Shogi: Jouseki Dojo Kanketsuhen"),new n("Toudai Shogi: Shikenbisha Dojo"),new n("Tough: Dark Fight"),new n("Touka Gettan: Koufuu no Ryouou"),new n("Toukon Inoki Michi: Puzzle de Daa!"),new n("Tourist Trophy"),new n("The Tousou Highway 2: Road Warrior 2050"),new n("Towa no Sakura"),new n("Toy Golf Extreme"),new n("The Toys Room"),new n("Train Kit for A-Ressha de Ikou 2001"),new n("Train Simulator + Densha de Go! Tokyo Kyuukouhen"),new n("Train Simulator: Keisei  Toei  Keikyu"),new n("Train Simulator: Kyuushuu Shinkansen"),new n("Train Simulator Midousuji-Sen"),new n("Transformers"),new n("Transformers"),new n("Transformers: The Game"),new n("Transformers: Revenge of the Fallen","transformersrevengeofthefallen",1,w.Psiences),new n("Transworld Skateboarder"),new n("Transworld Surf"),new n("Trapt","trapt",1,w.ItzCookieX),new n("Triangle Again"),new n("Triangle Again 2"),new n("Tribes: Aerial Assault"),new n("Trigger Man"),new n("Triggerheart Exelica Enhanced"),new n("Triple Play 2002"),new n("Triple Play Baseball"),new n("Trivial Pursuit","trivialpursuit",1,w.Zeroman95),new n("Trivial Pursuit: Unhinged"),new n("Trouble Fortune Company * Happy Cure"),new n("Truck Kyousokyoku"),new n("Truck Racer"),new n("Truck Racing 2"),new n("True Crime: New York City","truecrimenyc",1,w.Issung),new n("True Crime: Streets of LA","truecrimestreetsofla",1,w.Issung),new n("True Fortune"),new n("True Love Story 3"),new n("True Love Story: Summer Days, and Yet...","truelovestorysummerdays",1,w.Rikineko),new n("True Tears"),new n("Tsugunai: Atonement","tsugunai",3,w.Issung),new n("Tsuki no Hikari: Shizumeru Kane no Satsujin"),new n("Tsuki wa Higashi ni Hi wa Nishi ni: Operation Sanctuary"),new n("Tsuki wa Kirisaku"),new n("Tsuyo Kiss 2 Gakki: Swift Love"),new n("Tsuyo Kiss: Mighty Heart"),new n("TT Superbikes Legends"),new n("Turbo Trucks"),new n("Turok: Evolution"),new n("Twenty 2 Party"),new n("Twin Caliber"),new n("Twinkle Star Sprites: La Petite Princesse"),new n("Twisted Metal: Black"),new n("Twisted Metal: Black Online"),new n("Twisted Metal: Head-On  Extra Twisted Edition"),new n("Ty the Tasmanian Tiger","tythetasmaniantiger",1,w.Issung),new n("Ty the Tasmanian Tiger 2: Bush Rescue"),new n("Ty the Tasmanian Tiger 3: Night of the Quinkan"),new n("Typing Kengo: Musashi no Ken"),new n("The Typing of the Dead: Zombie Panic"),new n("Typing Renai Hakusho: Boys Be..."),new n("U-Move Super Sports"),new n("Uchu-jintte Naani?"),new n("Uchuu Keiji Tamashii: The Space Sheriff Spirits"),new n("Uchuu no Stellvia"),new n("Uchuu Senkan Yamato: Ankoku Seidan Teikoku no Gyakushuu"),new n("Uchuu Senkan Yamato: Iscandar he no Tsuioku"),new n("Uchuu Senkan Yamato: Nijuu Ginga no Houkai"),new n("The Uchuujin to Hanashi Sou!"),new n("UEFA Challenge"),new n("UEFA Champions League 20042005"),new n("UEFA Champions League 20062007"),new n("UEFA Champions League Season 2001/2002"),new n("UEFA Euro 2004"),new n("UEFA Euro 2008: Austria-Switzerland"),new n("Ueki no Housoku: Taosu ze Robert Juudan!!"),new n("UFC: Sudden Impact"),new n("UFC: Throwdown"),new n("Ultimate Beach Soccer"),new n("Ultimate Board Game Collection"),new n("Ultimate Casino"),new n("Ultimate Mind Games"),new n("The Ultimate Music Quiz"),new n("Ultimate Pro Pinball"),new n("Ultimate Spider-Man"),new n("The Ultimate Sport Quiz"),new n("The Ultimate Trivia Quiz"),new n("The Ultimate TV & Film Quiz"),new n("The Ultimate World Cup Quiz"),new n("Ultraman"),new n("Ultraman Fighting Evolution 2"),new n("Ultraman Fighting Evolution 3"),new n("Ultraman Fighting Evolution Rebirth"),new n("Ultraman Nexus"),new n("Umisho"),new n("Under the Moon: Crescent"),new n("Under the Skin","undertheskin",1,w.Issung),new n("Underworld: The Eternal War"),new n("Unison: Rebels of Rhythm & Dance"),new n("Unlimited SaGa","unlimitedsaga",1,w.ItzCookieX),new n("Uno"),new n("The Unou Drill"),new n("Unreal Tournament","unrealtournament",1,w.Sebita),new n("Up"),new n("Uragiri wa Boku no Namae o Shitteiru"),new n("Urawaza Ikasa Mahjong Machi"),new n("Urban Chaos: Riot Response","urbanchaosriotresponse",1,w.FenixF),new n("Urban Constructor"),new n("Urban Extreme"),new n("Urban Freestyle Soccer"),new n("Urban Reign"),new n("The Urbz: Sims in the City","simstheurbz",1,w.ItzCookieX),new n("Ururun Quest: Koiyuuki"),new n("US Open 2002"),new n("USA Racer"),new n("Usagi: Yasei no Topai"),new n("Usagi: Yasei no Topai  The Arcade"),new n("Usagi: Yasei no Topai The Arcade  Yamashiro Mahjong-Hen"),new n("Usagi: Yasei no Topai  Yamashiro Mahjong-Hen"),new n("Utau * Tumbling Dice"),new n("Utawarerumono: Chiriyukusha e no Komoriuta"),new n("V-Rally 3"),new n("V.I.P."),new n("Valkyrie Profile 2: Silmeria","valkyrieprofile2",1,w.Issung),new n("Vampire: Darkstalkers Collection","vampirethedarkstalkerscollection",1,w.Oddworld2001),new n("Vampire Night","vampirenight",1,w.Issung),new n("Vampire Panic"),new n("Van Helsing"),new n("Vegas Casino 2"),new n("Velvet File Plus"),new n("Venus & Braves: Majo to Megami to Horobi no Yogen"),new n("Vexx","vexx",1,w.Issung),new n("Vib-Ripple"),new n("Victorious Boxers 2"),new n("Victorious Boxers: Ippo's Road to Glory"),new n("Victory Wings: Zero Pilot Series"),new n("Video Poker & Blackjack"),new n("Vietcong Purple Haze"),new n("Vietnam: The Tet Offensive"),new n("Viewtiful Joe","viewtifuljoe",1,w.Issung),new n("Viewtiful Joe 2","viewtifuljoe2",1,w.Issung),new n("Viorate no Atelier: Gramnad no Renkinjutsushi 2"),new n("Virtua Cop: Elite Edition"),new n("Virtua Fighter: 10th Anniversary"),new n("Virtua Fighter 4"),new n("Virtua Fighter 4: Evolution","virtuafighter4evolution",1,w.Issung),new n("Virtua Pro Football"),new n("Virtua Quest"),new n("Vitamin X"),new n("Vitamin Z"),new n("VM Japan"),new n("Volleyball Challenge"),new n("Volleyball Xciting"),new n("W Wish"),new n("Wacky Races: Starring Dastardly and Muttley"),new n("Wacky Races: Mad Motors"),new n("Wacky Zoo GP"),new n("Waga Ry o Miyo: Pride of the Dragon Peace"),new n("Wakeboarding Unleashed Featuring Shaun Murray"),new n("WALL-E","walle",1,w.Zeroman95),new n("Wallace & Gromit in Project Zoo"),new n("Wallace & Gromit: The Curse of the Were-Rabbit"),new n("Walt Disney's The Jungle Book: Rhythm N'Groove"),new n("Wand of Fortune"),new n("Wand of Fortune: Mirai e no Prologue"),new n("Wandaba Style: Totsugeki! Mix Nama Juice"),new n("Wangan Midnight"),new n("War of the Monsters"),new n("WarChess"),new n("Warhammer 40,000: Fire Warrior"),new n("WarJetz"),new n("The Warriors","thewarriors",1,w.Issung),new n("Warriors of Might and Magic"),new n("Warriors Orochi","warriorsorochi",1,w.ItzCookieX),new n("Warriors Orochi 2","warriorsorochi2",1,w.ItzCookieX),new n("Warship Gunner 2"),new n("The Waterhorse: Legend of the Deep"),new n("Wave Rally"),new n("Way of the Samurai","wayofthesamurai",1,w.VibiLeFleu),new n("Way of the Samurai 2","wayofthesamurai2",1,w.VibiLeFleu),new n("We Love Katamari"),new n("The Weakest Link"),new n("WeAre*"),new n("Welcome to Universal Studios Japan"),new n("Wheel of Fortune"),new n("Whiplash"),new n("Whirl Tour"),new n("White Breath: Kizuna"),new n("White Clarity: And, the Tears Became You"),new n("White Princess the Second"),new n("White Van Racer"),new n("Whiteout"),new n("Who Wants to Be a Millionaire 2nd Edition"),new n("Who Wants To Be A Millionaire: Party Edition"),new n("Wild Arms 3"),new n("Wild Arms 4"),new n("Wild Arms 5"),new n("Wild Arms Alter Code: F"),new n("Wild Water Adrenaline featuring Salomon"),new n("Wild Wild Racing"),new n("Will O' Wisp"),new n("Will O' Wisp: Easter no Kiseki"),new n("WinBack: Covert Operations"),new n("WinBack 2: Project Poseidon"),new n("Wind: A Breath of Heart"),new n("Winning Eleven: Pro Evolution Soccer 2007"),new n("Winning Eleven Tactics: European Club Soccer"),new n("Winning Post 4 Maximum"),new n("Winning Post 4 Maximum 2001"),new n("Winning Post 5"),new n("Winning Post 5 Maximum 2002"),new n("Winning Post 5 Maximum 2003"),new n("Winning Post 6"),new n("Winning Post 6 Maximum 2004"),new n("Winning Post 6: 2005 Nendoban"),new n("Winning Post 7"),new n("Winning Post 7 Maximum 2006"),new n("Winning Post 7 Maximum 2007"),new n("Winning Post 7 Maximum 2008"),new n("Winning Post Kouryaku Box"),new n("Winning Post World"),new n("Winning Post World 2010"),new n("Winter Sports"),new n("Winter Sports 2: The Next Challenge"),new n("Winter Sports 2008: The Ultimate Challenge"),new n("Winx Club"),new n("Wipeout Fusion","wipeoutfusion",2,w.Sebita),new n("Wipeout Pulse"),new n("Without Warning"),new n("Wizardry Empire III: Haoh no Keifu"),new n("Wizardry Gaiden: Sentou no Kangoku"),new n("Wizardry Summoner"),new n("Wizardry: Tale of the Forsaken Land"),new n("Wizardry Xth 2: Unlimited Students  Mugen no Gakuto"),new n("Wizardry Xth: Academy of Frontier  Zensen no Gakufu"),new n("Women's Volleyball Championship"),new n("Wonder Zone"),new n("Woody Woodpecker: Escape from Buzz Buzzard Park"),new n("wordimagesoundplay"),new n("World Championship Cards"),new n("World Championship Paintball"),new n("World Championship Poker"),new n("World Championship Poker 2: Featuring Howard Lederer"),new n("World Championship Poker: Featuring Howard Lederer  All In"),new n("World Championship Pool 2004"),new n("World Championship Rugby"),new n("World Championship Snooker 2002"),new n("World Championship Snooker 2003"),new n("World Championship Snooker 2004"),new n("World Destruction League: Thunder Tanks"),new n("World Fantasista"),new n("World Fighting"),new n("World Heroes Anthology"),new n("World of Outlaws: Sprint Cars 2002"),new n("World Poker Tour"),new n("World Quiz 2009"),new n("World Racing"),new n("World Racing 2"),new n("World Rally Championship","worldrallychampionship",3,w.Psiences),new n("World Series Baseball 2K3"),new n("World Series of Poker"),new n("World Series of Poker 2008: Battle for the Bracelets"),new n("World Series of Poker: Tournament of Champions"),new n("World Snooker Championship 2005"),new n("World Snooker Championship 2007"),new n("World Soccer Winning Eleven 2010: Aoki Samurai no Chousen"),new n("World Soccer Winning Eleven 5 Final Evolution"),new n("World Soccer Winning Eleven 6 Final Evolution"),new n("World Soccer Winning Eleven 6 International","winningeleven6international",1,w.Issung),new n("World Soccer Winning Eleven 7"),new n("World Soccer Winning Eleven 7 International"),new n("World Soccer Winning Eleven 8 International"),new n("World Soccer Winning Eleven 8: Liveware Evolution"),new n("World Soccer Winning Eleven 9"),new n("World Super Police"),new n("World Tank Museum For Game Toubu Sensen"),new n("World Tour Soccer 2002"),new n("World Tour Soccer 2003"),new n("World Tour Soccer 2005"),new n("World Tour Soccer 2006"),new n("World War Zero: Iron Storm"),new n("Worms 3D","worms3d",1,w.Typedesigns),new n("Worms 4: Mayhem"),new n("Worms Blast"),new n("Worms Forts: Under Siege","wormsfortsundersiege",1,w.Typedesigns),new n("Wrath Unleashed"),new n("WRC 3"),new n("WRC 4: FIA World Rally Championship"),new n("WRC II Extreme"),new n("WRC: Rally Evolved"),new n("Wreckless: The Yakuza Missions"),new n("Wrestle Angels: Survivor"),new n("Wrestle Angels: Survivor 2"),new n("Wrestle Kingdom"),new n("Wrestle Kingdom 2: Pro Wrestling Sekai Taisen"),new n("WSC REAL 08: World Snooker Championship"),new n("WTA Tour Tennis"),new n("WWC: World Wrestling Championship"),new n("WWE All Stars","wweallstars",1,w.Typedesigns),new n("WWE Crush Hour"),new n("WWE SmackDown! Here Comes The Pain","wwesmackdownherecomesthepain",1,w.Typedesigns),new n("WWE SmackDown! Shut Your Mouth","wwesmackdownshutyourmouth",1,w.Typedesigns),new n("WWE SmackDown! vs. RAW","wwesmackdownvsraw",1,w.Typedesigns),new n("WWE SmackDown! vs. RAW 2006","wwesmackdownvsraw2006",1,w.Typedesigns),new n("WWE SmackDown vs. Raw 2007","wwesmackdownvsraw2007",1,w.Typedesigns),new n("WWE SmackDown vs. Raw 2008","wwesmackdownvsraw2008",1,w.Typedesigns),new n("WWE Smackdown vs. Raw 2009","wwesmackdownvsraw2009",1,w.Typedesigns),new n("WWE SmackDown vs. Raw 2010","wwesmackdownvsraw2010",1,w.Typedesigns),new n("WWE SmackDown vs. Raw 2011","wwesmackdownvsraw2011",1,w.Typedesigns),new n("WWF SmackDown! Just Bring It","wwfsmackdownjustbringit",1,w.Typedesigns),new n("WWI: Aces of the Sky"),new n("WWII: Battle Over Europe"),new n("WWII: Battle Over The Pacific"),new n("WWII: Soldier"),new n("WWII: Tank Battles"),new n("X2: Wolverine's Revenge"),new n("The X-Factor: Sing"),new n("The X-Files: Resist or Serve"),new n("X-Men Legends"),new n("X-Men Legends II: Rise of Apocalypse"),new n("X-Men: The Official Game"),new n("X-Men Origins: Wolverine"),new n("X-Men: Next Dimension"),new n("X-Squad"),new n("X-treme Express"),new n("X-treme Quads"),new n("Xena Warrior Princess"),new n("Xenosaga Episode I: Der Wille zur Macht","xenosagaep1",1,w.ItzCookieX),new n("Xenosaga Episode II: Jenseits von Gut und Bse","xenosagaep2",1,w.ItzCookieX),new n("Xenosaga Episode III: Also sprach Zarathustra","xenosagaep3",1,w.ItzCookieX),new n("XG3: Extreme G Racing"),new n("XGRA: Extreme-G Racing Association"),new n("Xiaolin Showdown"),new n("XII Stag"),new n("XIII"),new n("Xtreme Speed"),new n("xxxHolic: Watanuki no Izayoi Souwa"),new n("Xyanide: Resurrection"),new n("Yakiniku Bugyou Bonfire!"),new n("Yakuza","yakuza",1,w.Sebita),new n("Yakuza 2","yakuza2",1,w.VibiLeFleu),new n("Yakuza Fury"),new n("Yamaha Supercross"),new n("The Yamanote Sen: Train Simulator Real"),new n("Yamasa Digi World 2: LCD Edition"),new n("Yamasa Digi World 3"),new n("Yamasa Digi World 4"),new n("Yamasa Digi World: Collaboration SP Pachi-Slot Ridge Racer"),new n("Yamasa Digi World SP"),new n("Yamasa Digi World SP: Giant Pulsar"),new n("Yamasa Digi World SP: Moe yo! Kung Fu Lady"),new n("Yamasa Digi World SP: Neo Magic Pulsar XX"),new n("Yamasa Digi World SP: Umi Ichiban R"),new n("Yamiyo ni Sasayaku: Meitantei Kyouichirou Sagara"),new n("Yanya Caballista: City Skater"),new n("Yatohime Zankikou"),new n("YetiSports Arctic Adventures"),new n("Yo-Jin-Bo: Unmei no Freude"),new n("Yoake Mae Yori Ruriiro na: Brighter than Dawning Blue"),new n("Yoake no Mariko"),new n("Yoake no Mariko 2nd Act"),new n("Yomigaeri: Refrain"),new n("Yoshinoya"),new n("Yoshitsune Eiyden Shura: The Story of Hero Yoshitsune Shura"),new n("Yoshitsune Eiyden: The Story of Hero Yoshitsune"),new n("Yoshitsune-ki"),new n("Yotsunoha: A Journey of Sincerity"),new n("Youki Hime Den"),new n("Your Memories Off: Girl's Style"),new n("Yourself!Fitness"),new n("Ys I And II Eternal Story"),new n("Ys III: Wanderers from Ys"),new n("Ys IV: Mask of the Sun"),new n("Ys V: Lost Kefin, Kingdom of Sand"),new n("Ys: The Ark of Napishtim","ysthearkofnapishtim",1,w.ItzCookieX),new n("Yu-Gi-Oh! Capsule Monster Coliseum","yugiohcapsulemonstercoliseum",1,w.Typedesigns),new n("Yu-Gi-Oh! The Duelists of the Roses","yugiohduelistsoftheroses",3,w.Typedesigns),new n("Yu-Gi-Oh! GX: The Beginning of Destiny","yugiohgxthebeginningofdestiny",1,w.Typedesigns),new n("Yu Yu Hakusho: Dark Tournament"),new n("Yu Yu Hakusho Forever","yuyuhakushoforever",1,w.Sebita),new n("Yuki Gatari: Renewal Edition"),new n("Yumemi Hakusho: Second Dream"),new n("Yumemishi"),new n("Yumeria"),new n("The Yuujou Adventure: Hotaru Soul"),new n("Zapper: One Wicked Cricket"),new n("Zatch Bell! Mamodo Battles"),new n("Zatch Bell! Mamodo Fury"),new n("Zathura"),new n("Zero4 Champ Series: Drift Champ"),new n("Zero no Tsukaima: Maigo no Period to Ikusen no Symphony"),new n("Zero no Tsukaima: Muma ga Tsumugu Yokaze no Nocturne"),new n("Zero no Tsukaima: Shou-akuma to Harukaze no Concerto"),new n("Zero Pilot: Kosora no Kiseki"),new n("Zero Pilot: Zero"),new n("Zero Shikikan Josentoki Ni"),new n("The Zerosen"),new n("Zill O'll Infinite"),new n("Zipang"),new n("Zoids Infinity Fuzors"),new n("Zoids Struggle"),new n("Zoids Tactics"),new n("Zoku Segare Ijiri"),new n("Zombie Attack"),new n("Zombie Hunters"),new n("Zombie Hunters 2"),new n("Zombie Virus"),new n("Zombie Zone","zombiezone",1,w.ItzCookieX),new n("Zone of the Enders","zoneoftheenders",1,w.Sebita),new n("Zone of the Enders: The 2nd Runner","zoneoftheendersthe2ndrunner",1,w.Sebita),new n("Zoo Puzzle"),new n("ZooCube"),new n("Zwei: The Arges Adventure")],Ls=Rn.filter(t=>t.icons.length>0).flatMap(t=>t.icons);Rn.forEach((t,e)=>{t.index=e.toString(),t.icons.forEach((i,r)=>{i.index=e+"-"+r})});/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ts(){return ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},ts.apply(this,arguments)}var Ki;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ki||(Ki={}));const gp="popstate";function s_(t){t===void 0&&(t={});function e(r,a){let{pathname:o,search:s,hash:l}=r.location;return Ih("",{pathname:o,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function i(r,a){return typeof a=="string"?a:jl(a)}return u_(e,i,null,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function k0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function l_(){return Math.random().toString(36).substr(2,8)}function wp(t,e){return{usr:t.state,key:t.key,idx:e}}function Ih(t,e,i,r){return i===void 0&&(i=null),ts({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$a(e):e,{state:i,key:e&&e.key||r||l_()})}function jl(t){let{pathname:e="/",search:i="",hash:r=""}=t;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $a(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substr(i),t=t.substr(0,i));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function u_(t,e,i,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:o=!1}=r,s=a.history,l=Ki.Pop,u=null,c=d();c==null&&(c=0,s.replaceState(ts({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function f(){l=Ki.Pop;let g=d(),h=g==null?null:g-c;c=g,u&&u({action:l,location:v.location,delta:h})}function p(g,h){l=Ki.Push;let y=Ih(v.location,g,h);i&&i(y,g),c=d()+1;let _=wp(y,c),M=v.createHref(y);try{s.pushState(_,"",M)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(M)}o&&u&&u({action:l,location:v.location,delta:1})}function m(g,h){l=Ki.Replace;let y=Ih(v.location,g,h);i&&i(y,g),c=d();let _=wp(y,c),M=v.createHref(y);s.replaceState(_,"",M),o&&u&&u({action:l,location:v.location,delta:0})}function S(g){let h=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof g=="string"?g:jl(g);return y=y.replace(/ $/,"%20"),Ct(h,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,h)}let v={get action(){return l},get location(){return t(a,s)},listen(g){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(gp,f),u=g,()=>{a.removeEventListener(gp,f),u=null}},createHref(g){return e(a,g)},createURL:S,encodeLocation(g){let h=S(g);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:m,go(g){return s.go(g)}};return v}var vp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vp||(vp={}));function c_(t,e,i){i===void 0&&(i="/");let r=typeof e=="string"?$a(e):e,a=zd(r.pathname||"/",i);if(a==null)return null;let o=C0(t);h_(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=M_(a);s=y_(o[l],u)}return s}function C0(t,e,i,r){e===void 0&&(e=[]),i===void 0&&(i=[]),r===void 0&&(r="");let a=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(Ct(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=nr([r,u.relativePath]),d=i.concat(u);o.children&&o.children.length>0&&(Ct(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),C0(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:v_(c,o.index),routesMeta:d})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,s);else for(let u of A0(o.path))a(o,s,u)}),e}function A0(t){let e=t.split("/");if(e.length===0)return[];let[i,...r]=e,a=i.endsWith("?"),o=i.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let s=A0(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),a&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function h_(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:S_(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}const d_=/^:[\w-]+$/,f_=3,p_=2,m_=1,g_=10,w_=-2,Sp=t=>t==="*";function v_(t,e){let i=t.split("/"),r=i.length;return i.some(Sp)&&(r+=w_),e&&(r+=p_),i.filter(a=>!Sp(a)).reduce((a,o)=>a+(d_.test(o)?f_:o===""?m_:g_),r)}function S_(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function y_(t,e){let{routesMeta:i}=t,r={},a="/",o=[];for(let s=0;s<i.length;++s){let l=i[s],u=s===i.length-1,c=a==="/"?e:e.slice(a.length)||"/",d=__({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c);if(!d)return null;Object.assign(r,d.params);let f=l.route;o.push({params:r,pathname:nr([a,d.pathname]),pathnameBase:k_(nr([a,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(a=nr([a,d.pathnameBase]))}return o}function __(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=x_(t.path,t.caseSensitive,t.end),a=e.match(i);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let v=l[f]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const S=l[f];return m&&!S?c[p]=void 0:c[p]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function x_(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),k0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function M_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return k0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=t.charAt(i);return r&&r!=="/"?null:t.slice(i)||"/"}function T_(t,e){e===void 0&&(e="/");let{pathname:i,search:r="",hash:a=""}=typeof t=="string"?$a(t):t;return{pathname:i?i.startsWith("/")?i:E_(i,e):e,search:C_(r),hash:A_(a)}}function E_(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?i.length>1&&i.pop():a!=="."&&i.push(a)}),i.length>1?i.join("/"):"/"}function nc(t,e,i,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function b_(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function R0(t,e){let i=b_(t);return e?i.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase):i.map(r=>r.pathnameBase)}function P0(t,e,i,r){r===void 0&&(r=!1);let a;typeof t=="string"?a=$a(t):(a=ts({},t),Ct(!a.pathname||!a.pathname.includes("?"),nc("?","pathname","search",a)),Ct(!a.pathname||!a.pathname.includes("#"),nc("#","pathname","hash",a)),Ct(!a.search||!a.search.includes("#"),nc("#","search","hash",a)));let o=t===""||a.pathname==="",s=o?"/":a.pathname,l;if(s==null)l=i;else{let f=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;a.pathname=p.join("/")}l=f>=0?e[f]:"/"}let u=T_(a,l),c=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&i.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const nr=t=>t.join("/").replace(/\/\/+/g,"/"),k_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),C_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,A_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function R_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const I0=["post","put","patch","delete"];new Set(I0);const P_=["get",...I0];new Set(P_);/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},ns.apply(this,arguments)}const Gd=pe.createContext(null),I_=pe.createContext(null),Kr=pe.createContext(null),vu=pe.createContext(null),dr=pe.createContext({outlet:null,matches:[],isDataRoute:!1}),D0=pe.createContext(null);function D_(t,e){let{relative:i}=e===void 0?{}:e;ds()||Ct(!1);let{basename:r,navigator:a}=pe.useContext(Kr),{hash:o,pathname:s,search:l}=U0(t,{relative:i}),u=s;return r!=="/"&&(u=s==="/"?r:nr([r,s])),a.createHref({pathname:u,search:l,hash:o})}function ds(){return pe.useContext(vu)!=null}function Su(){return ds()||Ct(!1),pe.useContext(vu).location}function L0(t){pe.useContext(Kr).static||pe.useLayoutEffect(t)}function N0(){let{isDataRoute:t}=pe.useContext(dr);return t?K_():L_()}function L_(){ds()||Ct(!1);let t=pe.useContext(Gd),{basename:e,future:i,navigator:r}=pe.useContext(Kr),{matches:a}=pe.useContext(dr),{pathname:o}=Su(),s=JSON.stringify(R0(a,i.v7_relativeSplatPath)),l=pe.useRef(!1);return L0(()=>{l.current=!0}),pe.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let f=P0(c,JSON.parse(s),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:nr([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,s,o,t])}function F0(){let{matches:t}=pe.useContext(dr),e=t[t.length-1];return e?e.params:{}}function U0(t,e){let{relative:i}=e===void 0?{}:e,{future:r}=pe.useContext(Kr),{matches:a}=pe.useContext(dr),{pathname:o}=Su(),s=JSON.stringify(R0(a,r.v7_relativeSplatPath));return pe.useMemo(()=>P0(t,JSON.parse(s),o,i==="path"),[t,s,o,i])}function N_(t,e){return F_(t,e)}function F_(t,e,i,r){ds()||Ct(!1);let{navigator:a}=pe.useContext(Kr),{matches:o}=pe.useContext(dr),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=Su(),d;if(e){var f;let g=typeof e=="string"?$a(e):e;u==="/"||(f=g.pathname)!=null&&f.startsWith(u)||Ct(!1),d=g}else d=c;let p=d.pathname||"/",m=p;if(u!=="/"){let g=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let S=c_(t,{pathname:m}),v=G_(S&&S.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:nr([u,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:nr([u,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,i,r);return e&&v?pe.createElement(vu.Provider,{value:{location:ns({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ki.Pop}},v):v}function U_(){let t=j_(),e=R_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return pe.createElement(pe.Fragment,null,pe.createElement("h2",null,"Unexpected Application Error!"),pe.createElement("h3",{style:{fontStyle:"italic"}},e),i?pe.createElement("pre",{style:a},i):null,null)}const O_=pe.createElement(U_,null);class B_ extends pe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error!==void 0?pe.createElement(dr.Provider,{value:this.props.routeContext},pe.createElement(D0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function z_(t){let{routeContext:e,match:i,children:r}=t,a=pe.useContext(Gd);return a&&a.static&&a.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=i.route.id),pe.createElement(dr.Provider,{value:e},r)}function G_(t,e,i,r){var a;if(e===void 0&&(e=[]),i===void 0&&(i=null),r===void 0&&(r=null),t==null){var o;if((o=i)!=null&&o.errors)t=i.matches;else return null}let s=t,l=(a=i)==null?void 0:a.errors;if(l!=null){let d=s.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id]));d>=0||Ct(!1),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,c=-1;if(i&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:m}=i,S=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||S){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let m,S=!1,v=null,g=null;i&&(m=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||O_,u&&(c<0&&p===0?(X_("route-fallback",!1),S=!0,g=null):c===p&&(S=!0,g=f.route.hydrateFallbackElement||null)));let h=e.concat(s.slice(0,p+1)),y=()=>{let _;return m?_=v:S?_=g:f.route.Component?_=pe.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,pe.createElement(z_,{match:f,routeContext:{outlet:d,matches:h,isDataRoute:i!=null},children:_})};return i&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?pe.createElement(B_,{location:i.location,revalidation:i.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):y()},null)}var O0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(O0||{}),Kl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Kl||{});function H_(t){let e=pe.useContext(Gd);return e||Ct(!1),e}function W_(t){let e=pe.useContext(I_);return e||Ct(!1),e}function V_(t){let e=pe.useContext(dr);return e||Ct(!1),e}function B0(t){let e=V_(),i=e.matches[e.matches.length-1];return i.route.id||Ct(!1),i.route.id}function j_(){var t;let e=pe.useContext(D0),i=W_(Kl.UseRouteError),r=B0(Kl.UseRouteError);return e!==void 0?e:(t=i.errors)==null?void 0:t[r]}function K_(){let{router:t}=H_(O0.UseNavigateStable),e=B0(Kl.UseNavigateStable),i=pe.useRef(!1);return L0(()=>{i.current=!0}),pe.useCallback(function(a,o){o===void 0&&(o={}),i.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,ns({fromRouteId:e},o)))},[t,e])}const yp={};function X_(t,e,i){!e&&!yp[t]&&(yp[t]=!0)}function _r(t){Ct(!1)}function Y_(t){let{basename:e="/",children:i=null,location:r,navigationType:a=Ki.Pop,navigator:o,static:s=!1,future:l}=t;ds()&&Ct(!1);let u=e.replace(/^\/*/,"/"),c=pe.useMemo(()=>({basename:u,navigator:o,static:s,future:ns({v7_relativeSplatPath:!1},l)}),[u,l,o,s]);typeof r=="string"&&(r=$a(r));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:S="default"}=r,v=pe.useMemo(()=>{let g=zd(d,u);return g==null?null:{location:{pathname:g,search:f,hash:p,state:m,key:S},navigationType:a}},[u,d,f,p,m,S,a]);return v==null?null:pe.createElement(Kr.Provider,{value:c},pe.createElement(vu.Provider,{children:i,value:v}))}function Z_(t){let{children:e,location:i}=t;return N_(Dh(e),i)}new Promise(()=>{});function Dh(t,e){e===void 0&&(e=[]);let i=[];return pe.Children.forEach(t,(r,a)=>{if(!pe.isValidElement(r))return;let o=[...e,a];if(r.type===pe.Fragment){i.push.apply(i,Dh(r.props.children,o));return}r.type!==_r&&Ct(!1),!r.props.index||!r.props.children||Ct(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Dh(r.props.children,o)),i.push(s)}),i}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Lh.apply(this,arguments)}function q_(t,e){if(t==null)return{};var i={},r=Object.keys(t),a,o;for(o=0;o<r.length;o++)a=r[o],!(e.indexOf(a)>=0)&&(i[a]=t[a]);return i}function J_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $_(t,e){return t.button===0&&(!e||e==="_self")&&!J_(t)}const Q_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ex="6";try{window.__reactRouterVersion=ex}catch{}const tx="startTransition",_p=qv[tx];function nx(t){let{basename:e,children:i,future:r,window:a}=t,o=pe.useRef();o.current==null&&(o.current=s_({window:a,v5Compat:!0}));let s=o.current,[l,u]=pe.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=pe.useCallback(f=>{c&&_p?_p(()=>u(f)):u(f)},[u,c]);return pe.useLayoutEffect(()=>s.listen(d),[s,d]),pe.createElement(Y_,{basename:e,children:i,location:l.location,navigationType:l.action,navigator:s,future:r})}const ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=pe.forwardRef(function(e,i){let{onClick:r,relative:a,reloadDocument:o,replace:s,state:l,target:u,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,p=q_(e,Q_),{basename:m}=pe.useContext(Kr),S,v=!1;if(typeof c=="string"&&rx.test(c)&&(S=c,ix))try{let _=new URL(window.location.href),M=c.startsWith("//")?new URL(_.protocol+c):new URL(c),A=zd(M.pathname,m);M.origin===_.origin&&A!=null?c=A+M.search+M.hash:v=!0}catch{}let g=D_(c,{relative:a}),h=ax(c,{replace:s,state:l,target:u,preventScrollReset:d,relative:a,unstable_viewTransition:f});function y(_){r&&r(_),_.defaultPrevented||h(_)}return pe.createElement("a",Lh({},p,{href:S||g,onClick:v||o?r:y,ref:i,target:u}))});var xp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xp||(xp={}));var Mp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Mp||(Mp={}));function ax(t,e){let{target:i,replace:r,state:a,preventScrollReset:o,relative:s,unstable_viewTransition:l}=e===void 0?{}:e,u=N0(),c=Su(),d=U0(t,{relative:s});return pe.useCallback(f=>{if($_(f,i)){f.preventDefault();let p=r!==void 0?r:jl(c)===jl(d);u(t,{replace:p,state:a,preventScrollReset:o,relative:s,unstable_viewTransition:l})}},[c,u,d,r,a,i,t,o,s,l])}const ox=t=>{const e={"--percent":t.value};return L.jsx("strong",{className:"counter",style:e})},Hd=t=>L.jsx("div",{id:"Footer",className:"container-fluid",children:L.jsx("div",{className:"container",children:L.jsx("div",{className:"row justify-content-center",children:L.jsx("div",{className:t.className??"col",children:L.jsx(dt,{to:"/",title:"Home",children:"PlayStation2 Icons Open Database"})})})})}),Qn=t=>{const e=["category","misc","icons"],i=t.currentValue===t.value||t.currentValue===void 0&&e.some(r=>r==t.value);return L.jsx("div",{className:`${t.className||""} ${i?"selected":""} search-type`,children:L.jsx(dt,{to:t.to.replaceAll("_",t.value),title:t.tooltip,children:L.jsx("h2",{children:t.children})})})};var z0=(t=>(t.MultiIcon="multiIcon",t.Homebrew="homebrew",t))(z0||{});const Wd=({title:t,contributed:e,code:i,circle:r,tooltip:a})=>{const o=pe.useMemo(()=>typeof r=="number"?"icons"+r:r,[r]),s=pe.useMemo(()=>typeof r=="number"?r.toString():r==="multiIcon"?"+":r==="homebrew"?"H":"?",[r]),l=pe.useMemo(()=>e?"contributed":"unknown",[e]);return L.jsx("tr",{className:`GameRow ${l}`,title:a,children:i?L.jsxs(L.Fragment,{children:[L.jsx("td",{children:L.jsx(dt,{to:`/icon/${i}`,children:L.jsx("div",{className:`circle ${o}`,children:s})})}),L.jsx("td",{children:L.jsx(dt,{to:`/icon/${i}`,children:L.jsx("h6",{children:t})})})]}):L.jsxs(L.Fragment,{children:[L.jsx("td",{children:L.jsx("div",{className:`circle ${o}`,children:s})}),L.jsx("td",{children:L.jsx("h6",{children:t})})]})})},sx=({game:t})=>{const e=pe.useMemo(()=>t.icons.some(a=>a.code),[t]),i=pe.useMemo(()=>t.icons.length>0?t.icons[0]:void 0,[t]),r=pe.useMemo(()=>e?`This title has 1 icon with ${i.variantCount} unique state${i.variantCount>1?"s":""}.`:"This title has not yet been contributed.",[e,t.icons]);return L.jsx(Wd,{title:t.name,contributed:e,circle:i==null?void 0:i.variantCount,code:i==null?void 0:i.code,tooltip:r})},lx=({icon:t})=>{const e=pe.useMemo(()=>(t==null?void 0:t.code)!==void 0,[t]),i=pe.useMemo(()=>e?`This icon has ${t.variantCount} unique state${t.variantCount>1?"s":""}.`:"This icon has not yet been contributed.",[t]);return L.jsx(Wd,{title:t.name,contributed:e,circle:t.variantCount,code:t==null?void 0:t.code,tooltip:i})},ux=({games:t})=>L.jsxs("div",{id:"GameTable",children:[L.jsx("h4",{style:{textAlign:"left"},children:t.length===0?"No Results.":`${t.length} Results`}),L.jsx("table",{children:L.jsx("tbody",{children:t.map(e=>e.icons.length>1?L.jsxs(L.Fragment,{children:[L.jsx(Wd,{title:e.name,contributed:e.icons.some(i=>i.code),circle:z0.MultiIcon,tooltip:"This title has multiple icons"},e.index),L.jsxs("tr",{className:"subicons",children:[L.jsx("td",{className:"line"}),L.jsx("table",{children:L.jsx("tbody",{children:e.icons.map(i=>L.jsx(lx,{icon:i},i.index))})})]})]}):L.jsx(sx,{game:e},e.index))})})]}),Qd=class Qd{static chunk(e){var i=e.split(" ").map(a=>a.toLowerCase().trim()).filter(a=>a!=="");let r=i.flatMap(a=>this.similes.find(o=>o.includes(a))??a);return console.log(`search entry: ${e}, results: ${r.join(", ")}`),r}};Qd.similes=[["i","1","one"],["ii","2","two"],["iii","3","three"],["iv","4","four"],["v","5","five"],["vi","6","six"],["vii","7","seven"],["viii","8","eight"],["ix","9","nine"],["x","10","ten"],["xi","11","eleven"],["xii","12","twelve"],["xiii","13","thirteen"],["xiv","14","fourteen"],["xv","15","fifteen"],["and","&"]];let Nh=Qd;const cx=({searchType:t,searchEntry:e})=>{const[i,r]=pe.useState(Array),a=pe.useCallback(()=>{const u={A:["A",""],H:["H","."],Q:["Q",""],S:["S","_"],O:["O",""]};if(e==="misc"||e===""){let c=Rn.findIndex(d=>d.name.startsWith("A"));r(Rn.slice(0,c))}else{let c=u[e]??[e],d=Rn.filter(f=>{for(const p of c)if(f.name.startsWith(p))return!0;return!1});r(d)}},[e]),o=pe.useCallback(()=>{let u=e.trim()===""?"icons":e;if(u==="all")r(Rn);else if(u.endsWith("icons"))if(u==="noicons"){let c=Rn.filter(d=>!d.icons.some(f=>f.code));r(c)}else if(u==="icons"){let c=Rn.filter(d=>d.icons.some(f=>f.code));r(c)}else{let c=parseInt(u[0]),d=Rn.filter(f=>f.icons.some(p=>p.variantCount===c));r(d)}},[e]),s=pe.useCallback(()=>{let u=Nh.chunk(e);if(u.length==0)r([]);else if(u.length===1)if(u[0].length<=2)r([]);else{let c=Rn.filter(d=>d.name.toLowerCase().indexOf(u[0])>=0).slice(0,10);r(c)}else{let c=Rn.map(d=>{var f=d.name.toLowerCase().split(" ").filter(l),p=f.map((S,v)=>u.some(g=>g===S)?v:null).filter(S=>S!=null),m=p.length>0?{game:d,matches:p}:null;return m}).filter(d=>d!=null).sort((d,f)=>f.matches.length-d.matches.length);r(c.slice(0,10).map(d=>d.game))}},[e]);pe.useEffect(()=>{console.log(`Finding games for input: ${t}, ${e}`),t==="alphabetical"?a():t==="text"?s():o()},[e,t,a,o,s]);function l(u,c,d){return d.indexOf(u)===c}return L.jsx(ux,{games:i})},ic=()=>{const{type:t,index:e}=F0(),[i,r]=pe.useState(""),[a]=pe.useState(Ls.filter(l=>l.code).length),[o,s]=pe.useState(0);return pe.useEffect(()=>{s(Ls.filter(l=>l.code).length/Ls.length)},[o]),pe.useEffect(()=>{r(e??"")},[e]),L.jsxs(L.Fragment,{children:[L.jsxs("div",{id:"Home",children:[L.jsxs("div",{className:"container-fluid",style:{height:"fit-content",maxHeight:800},children:[L.jsx("div",{className:"row justify-content-center",children:L.jsx("div",{className:"col-8 col-md-6 col-lg-5 col-xl-4",children:L.jsx("img",{id:"logo-full",src:"/images/logo-full.svg",width:"100%",alt:"PS2IODB Full Logo"})})}),L.jsx("div",{className:"row justify-content-center",children:L.jsx("div",{className:"col-10 col-md-7 col-xl-5 col-xxl-4",children:L.jsx("p",{className:"p-3",style:{textAlign:"center"},children:"Welcome to the PlayStation2 Icons Open Database (PS2IODB), a crowdsourced collection of PlayStation 2 save game icons."})})}),L.jsxs("div",{className:"row justify-content-center",children:[L.jsx("div",{className:"col-5 col-md-3 col-xxl-2 px-1 py-1",children:L.jsx(dt,{className:"btn btn-primary",to:"/faq",children:"FAQ"})}),L.jsx("div",{className:"col-5 col-md-3 col-xxl-2 px-1 py-1",children:L.jsxs(dt,{className:"btn btn-primary",to:"/contribute",children:[L.jsx("span",{className:"d-none d-sm-inline",children:"How to Contribute"}),L.jsx("span",{className:"d-inline d-sm-none",children:"Contribute"}),"  "]})}),L.jsx("div",{className:"col-10 col-md-3 col-xxl-2 px-1 py-1",children:L.jsxs("div",{className:"btn-group",children:[L.jsx(dt,{type:"button",className:"btn btn-secondary",to:"https://github.com/Issung/PS2IODB",children:L.jsx("img",{src:"https://www.svgrepo.com/show/512317/github-142.svg",alt:"GitHub logo"})}),L.jsx(dt,{type:"button",className:"btn btn-secondary",to:"https://twitter.com/IssunGee",children:L.jsx("img",{src:"https://www.svgrepo.com/show/513008/twitter-154.svg",alt:"Twitter logo"})}),L.jsx(dt,{type:"button",className:"btn btn-secondary",to:"https://discord.gg/SWsuNvWnKw",children:L.jsx("img",{src:"https://www.svgrepo.com/show/506463/discord.svg",alt:"Discord logo"})})]})})]})]}),L.jsxs("div",{className:"container",id:"progress-container",style:{minHeight:300},children:[L.jsx("div",{className:"row justify-content-center",children:L.jsx("div",{className:"col",children:L.jsx("h1",{children:"Progress"})})}),L.jsx("div",{className:"row justify-content-center",children:L.jsx("div",{id:"progress",className:"col-10 col-sm-12",children:L.jsx("div",{id:"fill",style:{width:`${o*100}%`},children:L.jsx(ox,{value:o})})})}),L.jsx("div",{className:"row justify-content-center",children:L.jsxs("p",{id:"progress-paragraph",children:[a," out of ",Ls.length," (",Math.trunc(o*100*100)/100,"%) titles have been archived so far.",L.jsx("br",{})," ","To get to 100% we need support from ",L.jsx("i",{children:"you"}),"! Learn how ",L.jsx(dt,{to:"/contribute",children:"here"}),". "]})})]}),L.jsx("hr",{}),L.jsxs("div",{className:"container",style:{minHeight:700},children:[L.jsx("div",{className:"row justify-content-center",children:L.jsx("div",{className:"col",children:L.jsx("h1",{children:"Browse"})})}),L.jsxs("div",{className:"row justify-content-center",children:[L.jsx(Qn,{className:"col",to:"/search/_/misc",value:"alphabetical",currentValue:t,tooltip:"Explore titles by alphabetical sections",children:"Alphabetical"}),L.jsx(Qn,{className:"col",to:"/search/_/icons",value:"category",currentValue:t,tooltip:"Explore titles by categories",children:"Category"}),L.jsx(Qn,{className:"col",to:"/search/_",value:"text",currentValue:t,tooltip:"Explore titles with free text search",children:"TextSearch"})]}),L.jsx("hr",{}),t==="alphabetical"&&L.jsx("div",{className:"row justify-content-center",children:["#ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").map(l=>L.jsx(Qn,{className:"col-1",to:"/search/alphabetical/_",value:l==="#"?"misc":l,currentValue:e,tooltip:l==="#"?"Titles starting with numeric or miscellaneous characters":`Titles starting with '${l}'`,children:l}))]}),(t??"category")==="category"&&L.jsxs("div",{className:"row justify-content-center",children:[L.jsx(Qn,{className:"col",to:"/search/category/_",value:"all",currentValue:e,tooltip:"List all titles",children:"All"}),L.jsx(Qn,{className:"col",to:"/search/category/_",value:"icons",currentValue:e,tooltip:"Titles that have icons uploaded",children:"Uploaded"}),L.jsx(Qn,{className:"col",to:"/search/category/_",value:"1icons",currentValue:e,tooltip:"Titles with 1 icon",children:"1 Icon"}),L.jsx(Qn,{className:"col",to:"/search/category/_",value:"2icons",currentValue:e,tooltip:"Titles with 2 icons",children:"2 Icons"}),L.jsx(Qn,{className:"col",to:"/search/category/_",value:"3icons",currentValue:e,tooltip:"Titles with 3 icons",children:"3 Icons"}),L.jsx(Qn,{className:"col",to:"/search/category/_",value:"noicons",currentValue:e,tooltip:"Titles that haven't yet been uploaded",children:"Missing"})]}),t==="text"&&L.jsx("div",{className:"row",children:L.jsxs("div",{className:"col col-md-6 col-lg-4",children:[L.jsx("input",{type:"text",placeholder:"Game Title Search",value:i,onChange:l=>r(l.target.value),style:{width:"100%",height:40,paddingLeft:"7px"}}),L.jsx("br",{}),L.jsx("br",{})]})}),L.jsx(cx,{searchType:t,searchEntry:i})]})]}),L.jsx(Hd,{})]})};var wi=(t=>(t.Icon="Default",t.Test="Test Map",t.Plain="Plain",t))(wi||{}),Ar=(t=>(t.Mesh="Mesh",t.Wireframe="Wireframe",t.Normals="Normals",t))(Ar||{});function Ns(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var G0={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(i){t.exports=i()})(function(){return function i(r,a,o){function s(c,d){if(!a[c]){if(!r[c]){var f=typeof Ns=="function"&&Ns;if(!d&&f)return f(c,!0);if(l)return l(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var m=a[c]={exports:{}};r[c][0].call(m.exports,function(S){var v=r[c][1][S];return s(v||S)},m,m.exports,i,r,a,o)}return a[c].exports}for(var l=typeof Ns=="function"&&Ns,u=0;u<o.length;u++)s(o[u]);return s}({1:[function(i,r,a){var o=i("./utils"),s=i("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(u){for(var c,d,f,p,m,S,v,g=[],h=0,y=u.length,_=y,M=o.getTypeOf(u)!=="string";h<u.length;)_=y-h,f=M?(c=u[h++],d=h<y?u[h++]:0,h<y?u[h++]:0):(c=u.charCodeAt(h++),d=h<y?u.charCodeAt(h++):0,h<y?u.charCodeAt(h++):0),p=c>>2,m=(3&c)<<4|d>>4,S=1<_?(15&d)<<2|f>>6:64,v=2<_?63&f:64,g.push(l.charAt(p)+l.charAt(m)+l.charAt(S)+l.charAt(v));return g.join("")},a.decode=function(u){var c,d,f,p,m,S,v=0,g=0,h="data:";if(u.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var y,_=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===l.charAt(64)&&_--,u.charAt(u.length-2)===l.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=s.uint8array?new Uint8Array(0|_):new Array(0|_);v<u.length;)c=l.indexOf(u.charAt(v++))<<2|(p=l.indexOf(u.charAt(v++)))>>4,d=(15&p)<<4|(m=l.indexOf(u.charAt(v++)))>>2,f=(3&m)<<6|(S=l.indexOf(u.charAt(v++))),y[g++]=c,m!==64&&(y[g++]=d),S!==64&&(y[g++]=f);return y}},{"./support":30,"./utils":32}],2:[function(i,r,a){var o=i("./external"),s=i("./stream/DataWorker"),l=i("./stream/Crc32Probe"),u=i("./stream/DataLengthProbe");function c(d,f,p,m,S){this.compressedSize=d,this.uncompressedSize=f,this.crc32=p,this.compression=m,this.compressedContent=S}c.prototype={getContentWorker:function(){var d=new s(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),f=this;return d.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new s(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(d,f,p){return d.pipe(new l).pipe(new u("uncompressedSize")).pipe(f.compressWorker(p)).pipe(new u("compressedSize")).withStreamInfo("compression",f)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,r,a){var o=i("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},a.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,r,a){var o=i("./utils"),s=function(){for(var l,u=[],c=0;c<256;c++){l=c;for(var d=0;d<8;d++)l=1&l?3988292384^l>>>1:l>>>1;u[c]=l}return u}();r.exports=function(l,u){return l!==void 0&&l.length?o.getTypeOf(l)!=="string"?function(c,d,f,p){var m=s,S=p+f;c^=-1;for(var v=p;v<S;v++)c=c>>>8^m[255&(c^d[v])];return-1^c}(0|u,l,l.length,0):function(c,d,f,p){var m=s,S=p+f;c^=-1;for(var v=p;v<S;v++)c=c>>>8^m[255&(c^d.charCodeAt(v))];return-1^c}(0|u,l,l.length,0):0}},{"./utils":32}],5:[function(i,r,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(i,r,a){var o=null;o=typeof Promise<"u"?Promise:i("lie"),r.exports={Promise:o}},{lie:37}],7:[function(i,r,a){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=i("pako"),l=i("./utils"),u=i("./stream/GenericWorker"),c=o?"uint8array":"array";function d(f,p){u.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=p,this.meta={}}a.magic="\b\0",l.inherits(d,u),d.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(c,f.data),!1)},d.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(p){f.push({data:p,meta:f.meta})}},a.compressWorker=function(f){return new d("Deflate",f)},a.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,r,a){function o(m,S){var v,g="";for(v=0;v<S;v++)g+=String.fromCharCode(255&m),m>>>=8;return g}function s(m,S,v,g,h,y){var _,M,A=m.file,R=m.compression,C=y!==c.utf8encode,V=l.transformTo("string",y(A.name)),X=l.transformTo("string",c.utf8encode(A.name)),b=A.comment,F=l.transformTo("string",y(b)),I=l.transformTo("string",c.utf8encode(b)),J=X.length!==A.name.length,x=I.length!==b.length,P="",U="",N="",z=A.dir,O=A.date,$={crc32:0,compressedSize:0,uncompressedSize:0};S&&!v||($.crc32=m.crc32,$.compressedSize=m.compressedSize,$.uncompressedSize=m.uncompressedSize);var H=0;S&&(H|=8),C||!J&&!x||(H|=2048);var W=0,fe=0;z&&(W|=16),h==="UNIX"?(fe=798,W|=function(ne,se){var Me=ne;return ne||(Me=se?16893:33204),(65535&Me)<<16}(A.unixPermissions,z)):(fe=20,W|=function(ne){return 63&(ne||0)}(A.dosPermissions)),_=O.getUTCHours(),_<<=6,_|=O.getUTCMinutes(),_<<=5,_|=O.getUTCSeconds()/2,M=O.getUTCFullYear()-1980,M<<=4,M|=O.getUTCMonth()+1,M<<=5,M|=O.getUTCDate(),J&&(U=o(1,1)+o(d(V),4)+X,P+="up"+o(U.length,2)+U),x&&(N=o(1,1)+o(d(F),4)+I,P+="uc"+o(N.length,2)+N);var q="";return q+=`
\0`,q+=o(H,2),q+=R.magic,q+=o(_,2),q+=o(M,2),q+=o($.crc32,4),q+=o($.compressedSize,4),q+=o($.uncompressedSize,4),q+=o(V.length,2),q+=o(P.length,2),{fileRecord:f.LOCAL_FILE_HEADER+q+V+P,dirRecord:f.CENTRAL_FILE_HEADER+o(fe,2)+q+o(F.length,2)+"\0\0\0\0"+o(W,4)+o(g,4)+V+P+F}}var l=i("../utils"),u=i("../stream/GenericWorker"),c=i("../utf8"),d=i("../crc32"),f=i("../signature");function p(m,S,v,g){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=v,this.encodeFileName=g,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(p,u),p.prototype.push=function(m){var S=m.meta.percent||0,v=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,u.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:v?(S+100*(v-g-1))/v:100}}))},p.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var S=this.streamFiles&&!m.file.dir;if(S){var v=s(m,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(m){this.accumulate=!1;var S=this.streamFiles&&!m.file.dir,v=s(m,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),S)this.push({data:function(g){return f.DATA_DESCRIPTOR+o(g.crc32,4)+o(g.compressedSize,4)+o(g.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var m=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var v=this.bytesWritten-m,g=function(h,y,_,M,A){var R=l.transformTo("string",A(M));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(h,2)+o(h,2)+o(y,4)+o(_,4)+o(R.length,2)+R}(this.dirRecords.length,v,m,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(m){this._sources.push(m);var S=this;return m.on("data",function(v){S.processChunk(v)}),m.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),m.on("error",function(v){S.error(v)}),this},p.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(m){var S=this._sources;if(!u.prototype.error.call(this,m))return!1;for(var v=0;v<S.length;v++)try{S[v].error(m)}catch{}return!0},p.prototype.lock=function(){u.prototype.lock.call(this);for(var m=this._sources,S=0;S<m.length;S++)m[S].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,r,a){var o=i("../compressions"),s=i("./ZipFileWorker");a.generateWorker=function(l,u,c){var d=new s(u.streamFiles,c,u.platform,u.encodeFileName),f=0;try{l.forEach(function(p,m){f++;var S=function(y,_){var M=y||_,A=o[M];if(!A)throw new Error(M+" is not a valid compression method !");return A}(m.options.compression,u.compression),v=m.options.compressionOptions||u.compressionOptions||{},g=m.dir,h=m.date;m._compressWorker(S,v).withStreamInfo("file",{name:p,dir:g,date:h,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(d)}),d.entriesCount=f}catch(p){d.error(p)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,r,a){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new o;for(var l in this)typeof this[l]!="function"&&(s[l]=this[l]);return s}}(o.prototype=i("./object")).loadAsync=i("./load"),o.support=i("./support"),o.defaults=i("./defaults"),o.version="3.10.1",o.loadAsync=function(s,l){return new o().loadAsync(s,l)},o.external=i("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,r,a){var o=i("./utils"),s=i("./external"),l=i("./utf8"),u=i("./zipEntries"),c=i("./stream/Crc32Probe"),d=i("./nodejsUtils");function f(p){return new s.Promise(function(m,S){var v=p.decompressed.getContentWorker().pipe(new c);v.on("error",function(g){S(g)}).on("end",function(){v.streamInfo.crc32!==p.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(p,m){var S=this;return m=o.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),d.isNode&&d.isStream(p)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",p,!0,m.optimizedBinaryString,m.base64).then(function(v){var g=new u(m);return g.load(v),g}).then(function(v){var g=[s.Promise.resolve(v)],h=v.files;if(m.checkCRC32)for(var y=0;y<h.length;y++)g.push(f(h[y]));return s.Promise.all(g)}).then(function(v){for(var g=v.shift(),h=g.files,y=0;y<h.length;y++){var _=h[y],M=_.fileNameStr,A=o.resolve(_.fileNameStr);S.file(A,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:m.createFolders}),_.dir||(S.file(A).unsafeOriginalName=M)}return g.zipComment.length&&(S.comment=g.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,r,a){var o=i("../utils"),s=i("../stream/GenericWorker");function l(u,c){s.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(c)}o.inherits(l,s),l.prototype._bindStream=function(u){var c=this;(this._stream=u).pause(),u.on("data",function(d){c.push({data:d,meta:{percent:0}})}).on("error",function(d){c.isPaused?this.generatedError=d:c.error(d)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},l.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,r,a){var o=i("readable-stream").Readable;function s(l,u,c){o.call(this,u),this._helper=l;var d=this;l.on("data",function(f,p){d.push(f)||d._helper.pause(),c&&c(p)}).on("error",function(f){d.emit("error",f)}).on("end",function(){d.push(null)})}i("../utils").inherits(s,o),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(i,r,a){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,s)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var s=new Buffer(o);return s.fill(0),s},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(i,r,a){function o(A,R,C){var V,X=l.getTypeOf(R),b=l.extend(C||{},d);b.date=b.date||new Date,b.compression!==null&&(b.compression=b.compression.toUpperCase()),typeof b.unixPermissions=="string"&&(b.unixPermissions=parseInt(b.unixPermissions,8)),b.unixPermissions&&16384&b.unixPermissions&&(b.dir=!0),b.dosPermissions&&16&b.dosPermissions&&(b.dir=!0),b.dir&&(A=h(A)),b.createFolders&&(V=g(A))&&y.call(this,V,!0);var F=X==="string"&&b.binary===!1&&b.base64===!1;C&&C.binary!==void 0||(b.binary=!F),(R instanceof f&&R.uncompressedSize===0||b.dir||!R||R.length===0)&&(b.base64=!1,b.binary=!0,R="",b.compression="STORE",X="string");var I=null;I=R instanceof f||R instanceof u?R:S.isNode&&S.isStream(R)?new v(A,R):l.prepareContent(A,R,b.binary,b.optimizedBinaryString,b.base64);var J=new p(A,I,b);this.files[A]=J}var s=i("./utf8"),l=i("./utils"),u=i("./stream/GenericWorker"),c=i("./stream/StreamHelper"),d=i("./defaults"),f=i("./compressedObject"),p=i("./zipObject"),m=i("./generate"),S=i("./nodejsUtils"),v=i("./nodejs/NodejsStreamInputAdapter"),g=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var R=A.lastIndexOf("/");return 0<R?A.substring(0,R):""},h=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},y=function(A,R){return R=R!==void 0?R:d.createFolders,A=h(A),this.files[A]||o.call(this,A,null,{dir:!0,createFolders:R}),this.files[A]};function _(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var M={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var R,C,V;for(R in this.files)V=this.files[R],(C=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&A(C,V)},filter:function(A){var R=[];return this.forEach(function(C,V){A(C,V)&&R.push(V)}),R},file:function(A,R,C){if(arguments.length!==1)return A=this.root+A,o.call(this,A,R,C),this;if(_(A)){var V=A;return this.filter(function(b,F){return!F.dir&&V.test(b)})}var X=this.files[this.root+A];return X&&!X.dir?X:null},folder:function(A){if(!A)return this;if(_(A))return this.filter(function(X,b){return b.dir&&A.test(X)});var R=this.root+A,C=y.call(this,R),V=this.clone();return V.root=C.name,V},remove:function(A){A=this.root+A;var R=this.files[A];if(R||(A.slice(-1)!=="/"&&(A+="/"),R=this.files[A]),R&&!R.dir)delete this.files[A];else for(var C=this.filter(function(X,b){return b.name.slice(0,A.length)===A}),V=0;V<C.length;V++)delete this.files[C[V].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var R,C={};try{if((C=l.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");l.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var V=C.comment||this.comment||"";R=m.generateWorker(this,C,V)}catch(X){(R=new u("error")).error(X)}return new c(R,C.type||"string",C.mimeType)},generateAsync:function(A,R){return this.generateInternalStream(A).accumulate(R)},generateNodeStream:function(A,R){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(R)}};r.exports=M},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,r,a){r.exports=i("stream")},{stream:void 0}],17:[function(i,r,a){var o=i("./DataReader");function s(l){o.call(this,l);for(var u=0;u<this.data.length;u++)l[u]=255&l[u]}i("../utils").inherits(s,o),s.prototype.byteAt=function(l){return this.data[this.zero+l]},s.prototype.lastIndexOfSignature=function(l){for(var u=l.charCodeAt(0),c=l.charCodeAt(1),d=l.charCodeAt(2),f=l.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===u&&this.data[p+1]===c&&this.data[p+2]===d&&this.data[p+3]===f)return p-this.zero;return-1},s.prototype.readAndCheckSignature=function(l){var u=l.charCodeAt(0),c=l.charCodeAt(1),d=l.charCodeAt(2),f=l.charCodeAt(3),p=this.readData(4);return u===p[0]&&c===p[1]&&d===p[2]&&f===p[3]},s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(i,r,a){var o=i("../utils");function s(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var u,c=0;for(this.checkOffset(l),u=this.index+l-1;u>=this.index;u--)c=(c<<8)+this.byteAt(u);return this.index+=l,c},readString:function(l){return o.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=s},{"../utils":32}],19:[function(i,r,a){var o=i("./Uint8ArrayReader");function s(l){o.call(this,l)}i("../utils").inherits(s,o),s.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,r,a){var o=i("./DataReader");function s(l){o.call(this,l)}i("../utils").inherits(s,o),s.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},s.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},s.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},s.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(i,r,a){var o=i("./ArrayReader");function s(l){o.call(this,l)}i("../utils").inherits(s,o),s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(i,r,a){var o=i("../utils"),s=i("../support"),l=i("./ArrayReader"),u=i("./StringReader"),c=i("./NodeBufferReader"),d=i("./Uint8ArrayReader");r.exports=function(f){var p=o.getTypeOf(f);return o.checkSupport(p),p!=="string"||s.uint8array?p==="nodebuffer"?new c(f):s.uint8array?new d(o.transformTo("uint8array",f)):new l(o.transformTo("array",f)):new u(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,r,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,r,a){var o=i("./GenericWorker"),s=i("../utils");function l(u){o.call(this,"ConvertWorker to "+u),this.destType=u}s.inherits(l,o),l.prototype.processChunk=function(u){this.push({data:s.transformTo(this.destType,u.data),meta:u.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(i,r,a){var o=i("./GenericWorker"),s=i("../crc32");function l(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("../utils").inherits(l,o),l.prototype.processChunk=function(u){this.streamInfo.crc32=s(u.data,this.streamInfo.crc32||0),this.push(u)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,r,a){var o=i("../utils"),s=i("./GenericWorker");function l(u){s.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}o.inherits(l,s),l.prototype.processChunk=function(u){if(u){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+u.data.length}s.prototype.processChunk.call(this,u)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(i,r,a){var o=i("../utils"),s=i("./GenericWorker");function l(u){s.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=o.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}o.inherits(l,s),l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,c);break;case"uint8array":u=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":u=this.data.slice(this.index,c)}return this.index=c,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(i,r,a){function o(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,l){return this._listeners[s].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,l){if(this._listeners[s])for(var u=0;u<this._listeners[s].length;u++)this._listeners[s][u].call(this,l)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var l=this;return s.on("data",function(u){l.processChunk(u)}),s.on("end",function(){l.end()}),s.on("error",function(u){l.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,l){return this.extraStreamInfo[s]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=o},{}],29:[function(i,r,a){var o=i("../utils"),s=i("./ConvertWorker"),l=i("./GenericWorker"),u=i("../base64"),c=i("../support"),d=i("../external"),f=null;if(c.nodestream)try{f=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(S,v){return new d.Promise(function(g,h){var y=[],_=S._internalType,M=S._outputType,A=S._mimeType;S.on("data",function(R,C){y.push(R),v&&v(C)}).on("error",function(R){y=[],h(R)}).on("end",function(){try{var R=function(C,V,X){switch(C){case"blob":return o.newBlob(o.transformTo("arraybuffer",V),X);case"base64":return u.encode(V);default:return o.transformTo(C,V)}}(M,function(C,V){var X,b=0,F=null,I=0;for(X=0;X<V.length;X++)I+=V[X].length;switch(C){case"string":return V.join("");case"array":return Array.prototype.concat.apply([],V);case"uint8array":for(F=new Uint8Array(I),X=0;X<V.length;X++)F.set(V[X],b),b+=V[X].length;return F;case"nodebuffer":return Buffer.concat(V);default:throw new Error("concat : unsupported type '"+C+"'")}}(_,y),A);g(R)}catch(C){h(C)}y=[]}).resume()})}function m(S,v,g){var h=v;switch(v){case"blob":case"arraybuffer":h="uint8array";break;case"base64":h="string"}try{this._internalType=h,this._outputType=v,this._mimeType=g,o.checkSupport(h),this._worker=S.pipe(new s(h)),S.lock()}catch(y){this._worker=new l("error"),this._worker.error(y)}}m.prototype={accumulate:function(S){return p(this,S)},on:function(S,v){var g=this;return S==="data"?this._worker.on(S,function(h){v.call(g,h.data,h.meta)}):this._worker.on(S,function(){o.delay(v,arguments,g)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},S)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,r,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var o=new ArrayBuffer(0);try{a.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),a.blob=s.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!i("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(i,r,a){for(var o=i("./utils"),s=i("./support"),l=i("./nodejsUtils"),u=i("./stream/GenericWorker"),c=new Array(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;c[254]=c[254]=1;function f(){u.call(this,"utf-8 decode"),this.leftOver=null}function p(){u.call(this,"utf-8 encode")}a.utf8encode=function(m){return s.nodebuffer?l.newBufferFrom(m,"utf-8"):function(S){var v,g,h,y,_,M=S.length,A=0;for(y=0;y<M;y++)(64512&(g=S.charCodeAt(y)))==55296&&y+1<M&&(64512&(h=S.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(h-56320),y++),A+=g<128?1:g<2048?2:g<65536?3:4;for(v=s.uint8array?new Uint8Array(A):new Array(A),y=_=0;_<A;y++)(64512&(g=S.charCodeAt(y)))==55296&&y+1<M&&(64512&(h=S.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(h-56320),y++),g<128?v[_++]=g:(g<2048?v[_++]=192|g>>>6:(g<65536?v[_++]=224|g>>>12:(v[_++]=240|g>>>18,v[_++]=128|g>>>12&63),v[_++]=128|g>>>6&63),v[_++]=128|63&g);return v}(m)},a.utf8decode=function(m){return s.nodebuffer?o.transformTo("nodebuffer",m).toString("utf-8"):function(S){var v,g,h,y,_=S.length,M=new Array(2*_);for(v=g=0;v<_;)if((h=S[v++])<128)M[g++]=h;else if(4<(y=c[h]))M[g++]=65533,v+=y-1;else{for(h&=y===2?31:y===3?15:7;1<y&&v<_;)h=h<<6|63&S[v++],y--;1<y?M[g++]=65533:h<65536?M[g++]=h:(h-=65536,M[g++]=55296|h>>10&1023,M[g++]=56320|1023&h)}return M.length!==g&&(M.subarray?M=M.subarray(0,g):M.length=g),o.applyFromCharCode(M)}(m=o.transformTo(s.uint8array?"uint8array":"array",m))},o.inherits(f,u),f.prototype.processChunk=function(m){var S=o.transformTo(s.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var v=S;(S=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),S.set(v,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var g=function(y,_){var M;for((_=_||y.length)>y.length&&(_=y.length),M=_-1;0<=M&&(192&y[M])==128;)M--;return M<0||M===0?_:M+c[y[M]]>_?M:_}(S),h=S;g!==S.length&&(s.uint8array?(h=S.subarray(0,g),this.leftOver=S.subarray(g,S.length)):(h=S.slice(0,g),this.leftOver=S.slice(g,S.length))),this.push({data:a.utf8decode(h),meta:m.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=f,o.inherits(p,u),p.prototype.processChunk=function(m){this.push({data:a.utf8encode(m.data),meta:m.meta})},a.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,r,a){var o=i("./support"),s=i("./base64"),l=i("./nodejsUtils"),u=i("./external");function c(v){return v}function d(v,g){for(var h=0;h<v.length;++h)g[h]=255&v.charCodeAt(h);return g}i("setimmediate"),a.newBlob=function(v,g){a.checkSupport("blob");try{return new Blob([v],{type:g})}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return h.append(v),h.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(v,g,h){var y=[],_=0,M=v.length;if(M<=h)return String.fromCharCode.apply(null,v);for(;_<M;)g==="array"||g==="nodebuffer"?y.push(String.fromCharCode.apply(null,v.slice(_,Math.min(_+h,M)))):y.push(String.fromCharCode.apply(null,v.subarray(_,Math.min(_+h,M)))),_+=h;return y.join("")},stringifyByChar:function(v){for(var g="",h=0;h<v.length;h++)g+=String.fromCharCode(v[h]);return g},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function p(v){var g=65536,h=a.getTypeOf(v),y=!0;if(h==="uint8array"?y=f.applyCanBeUsed.uint8array:h==="nodebuffer"&&(y=f.applyCanBeUsed.nodebuffer),y)for(;1<g;)try{return f.stringifyByChunk(v,h,g)}catch{g=Math.floor(g/2)}return f.stringifyByChar(v)}function m(v,g){for(var h=0;h<v.length;h++)g[h]=v[h];return g}a.applyFromCharCode=p;var S={};S.string={string:c,array:function(v){return d(v,new Array(v.length))},arraybuffer:function(v){return S.string.uint8array(v).buffer},uint8array:function(v){return d(v,new Uint8Array(v.length))},nodebuffer:function(v){return d(v,l.allocBuffer(v.length))}},S.array={string:p,array:c,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(v)}},S.arraybuffer={string:function(v){return p(new Uint8Array(v))},array:function(v){return m(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:c,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(new Uint8Array(v))}},S.uint8array={string:p,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:c,nodebuffer:function(v){return l.newBufferFrom(v)}},S.nodebuffer={string:p,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return S.nodebuffer.uint8array(v).buffer},uint8array:function(v){return m(v,new Uint8Array(v.length))},nodebuffer:c},a.transformTo=function(v,g){if(g=g||"",!v)return g;a.checkSupport(v);var h=a.getTypeOf(g);return S[h][v](g)},a.resolve=function(v){for(var g=v.split("/"),h=[],y=0;y<g.length;y++){var _=g[y];_==="."||_===""&&y!==0&&y!==g.length-1||(_===".."?h.pop():h.push(_))}return h.join("/")},a.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":o.nodebuffer&&l.isBuffer(v)?"nodebuffer":o.uint8array&&v instanceof Uint8Array?"uint8array":o.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(v){if(!o[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(v){var g,h,y="";for(h=0;h<(v||"").length;h++)y+="\\x"+((g=v.charCodeAt(h))<16?"0":"")+g.toString(16).toUpperCase();return y},a.delay=function(v,g,h){setImmediate(function(){v.apply(h||null,g||[])})},a.inherits=function(v,g){function h(){}h.prototype=g.prototype,v.prototype=new h},a.extend=function(){var v,g,h={};for(v=0;v<arguments.length;v++)for(g in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],g)&&h[g]===void 0&&(h[g]=arguments[v][g]);return h},a.prepareContent=function(v,g,h,y,_){return u.Promise.resolve(g).then(function(M){return o.blob&&(M instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(M))!==-1)&&typeof FileReader<"u"?new u.Promise(function(A,R){var C=new FileReader;C.onload=function(V){A(V.target.result)},C.onerror=function(V){R(V.target.error)},C.readAsArrayBuffer(M)}):M}).then(function(M){var A=a.getTypeOf(M);return A?(A==="arraybuffer"?M=a.transformTo("uint8array",M):A==="string"&&(_?M=s.decode(M):h&&y!==!0&&(M=function(R){return d(R,o.uint8array?new Uint8Array(R.length):new Array(R.length))}(M))),M):u.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,r,a){var o=i("./reader/readerFor"),s=i("./utils"),l=i("./signature"),u=i("./zipEntry"),c=i("./support");function d(f){this.files=[],this.loadOptions=f}d.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(p)+", expected "+s.pretty(f)+")")}},isSignature:function(f,p){var m=this.reader.index;this.reader.setIndex(f);var S=this.reader.readString(4)===p;return this.reader.setIndex(m),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",m=s.transformTo(p,f);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,p,m,S=this.zip64EndOfCentralSize-44;0<S;)f=this.reader.readInt(2),p=this.reader.readInt(4),m=this.reader.readData(p),this.zip64ExtensibleData[f]={id:f,length:p,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,p;for(f=0;f<this.files.length;f++)p=this.files[f],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(f=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var p=f;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var S=p-m;if(0<S)this.isSignature(p,l.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(f){this.reader=o(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,r,a){var o=i("./reader/readerFor"),s=i("./utils"),l=i("./compressedObject"),u=i("./crc32"),c=i("./utf8"),d=i("./compressions"),f=i("./support");function p(m,S){this.options=m,this.loadOptions=S}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var S,v;if(m.skip(22),this.fileNameLength=m.readInt(2),v=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((S=function(g){for(var h in d)if(Object.prototype.hasOwnProperty.call(d,h)&&d[h].magic===g)return d[h];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,S,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var S=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(S),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=o(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var S,v,g,h=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<h;)S=m.readInt(2),v=m.readInt(2),g=m.readData(v),this.extraFields[S]={id:S,length:v,value:g};m.setIndex(h)},handleUTF8:function(){var m=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(S!==null)this.fileNameStr=S;else{var v=s.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var h=s.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(h)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var S=o(m.value);return S.readInt(1)!==1||u(this.fileName)!==S.readInt(4)?null:c.utf8decode(S.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var S=o(m.value);return S.readInt(1)!==1||u(this.fileComment)!==S.readInt(4)?null:c.utf8decode(S.readData(m.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,r,a){function o(S,v,g){this.name=S,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=v,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var s=i("./stream/StreamHelper"),l=i("./stream/DataWorker"),u=i("./utf8"),c=i("./compressedObject"),d=i("./stream/GenericWorker");o.prototype={internalStream:function(S){var v=null,g="string";try{if(!S)throw new Error("No output type specified.");var h=(g=S.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),v=this._decompressWorker();var y=!this._dataBinary;y&&!h&&(v=v.pipe(new u.Utf8EncodeWorker)),!y&&h&&(v=v.pipe(new u.Utf8DecodeWorker))}catch(_){(v=new d("error")).error(_)}return new s(v,g,"")},async:function(S,v){return this.internalStream(S).accumulate(v)},nodeStream:function(S,v){return this.internalStream(S||"nodebuffer").toNodejsStream(v)},_compressWorker:function(S,v){if(this._data instanceof c&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new u.Utf8EncodeWorker)),c.createWorkerFrom(g,S,v)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof d?this._data:new l(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<f.length;m++)o.prototype[f[m]]=p;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,r,a){(function(o){var s,l,u=o.MutationObserver||o.WebKitMutationObserver;if(u){var c=0,d=new u(S),f=o.document.createTextNode("");d.observe(f,{characterData:!0}),s=function(){f.data=c=++c%2}}else if(o.setImmediate||o.MessageChannel===void 0)s="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var v=o.document.createElement("script");v.onreadystatechange=function(){S(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},o.document.documentElement.appendChild(v)}:function(){setTimeout(S,0)};else{var p=new o.MessageChannel;p.port1.onmessage=S,s=function(){p.port2.postMessage(0)}}var m=[];function S(){var v,g;l=!0;for(var h=m.length;h;){for(g=m,m=[],v=-1;++v<h;)g[v]();h=m.length}l=!1}r.exports=function(v){m.push(v)!==1||l||s()}}).call(this,typeof _o<"u"?_o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(i,r,a){var o=i("immediate");function s(){}var l={},u=["REJECTED"],c=["FULFILLED"],d=["PENDING"];function f(h){if(typeof h!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,h!==s&&v(this,h)}function p(h,y,_){this.promise=h,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function m(h,y,_){o(function(){var M;try{M=y(_)}catch(A){return l.reject(h,A)}M===h?l.reject(h,new TypeError("Cannot resolve promise with itself")):l.resolve(h,M)})}function S(h){var y=h&&h.then;if(h&&(typeof h=="object"||typeof h=="function")&&typeof y=="function")return function(){y.apply(h,arguments)}}function v(h,y){var _=!1;function M(C){_||(_=!0,l.reject(h,C))}function A(C){_||(_=!0,l.resolve(h,C))}var R=g(function(){y(A,M)});R.status==="error"&&M(R.value)}function g(h,y){var _={};try{_.value=h(y),_.status="success"}catch(M){_.status="error",_.value=M}return _}(r.exports=f).prototype.finally=function(h){if(typeof h!="function")return this;var y=this.constructor;return this.then(function(_){return y.resolve(h()).then(function(){return _})},function(_){return y.resolve(h()).then(function(){throw _})})},f.prototype.catch=function(h){return this.then(null,h)},f.prototype.then=function(h,y){if(typeof h!="function"&&this.state===c||typeof y!="function"&&this.state===u)return this;var _=new this.constructor(s);return this.state!==d?m(_,this.state===c?h:y,this.outcome):this.queue.push(new p(_,h,y)),_},p.prototype.callFulfilled=function(h){l.resolve(this.promise,h)},p.prototype.otherCallFulfilled=function(h){m(this.promise,this.onFulfilled,h)},p.prototype.callRejected=function(h){l.reject(this.promise,h)},p.prototype.otherCallRejected=function(h){m(this.promise,this.onRejected,h)},l.resolve=function(h,y){var _=g(S,y);if(_.status==="error")return l.reject(h,_.value);var M=_.value;if(M)v(h,M);else{h.state=c,h.outcome=y;for(var A=-1,R=h.queue.length;++A<R;)h.queue[A].callFulfilled(y)}return h},l.reject=function(h,y){h.state=u,h.outcome=y;for(var _=-1,M=h.queue.length;++_<M;)h.queue[_].callRejected(y);return h},f.resolve=function(h){return h instanceof this?h:l.resolve(new this(s),h)},f.reject=function(h){var y=new this(s);return l.reject(y,h)},f.all=function(h){var y=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=h.length,M=!1;if(!_)return this.resolve([]);for(var A=new Array(_),R=0,C=-1,V=new this(s);++C<_;)X(h[C],C);return V;function X(b,F){y.resolve(b).then(function(I){A[F]=I,++R!==_||M||(M=!0,l.resolve(V,A))},function(I){M||(M=!0,l.reject(V,I))})}},f.race=function(h){var y=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=h.length,M=!1;if(!_)return this.resolve([]);for(var A=-1,R=new this(s);++A<_;)C=h[A],y.resolve(C).then(function(V){M||(M=!0,l.resolve(R,V))},function(V){M||(M=!0,l.reject(R,V))});var C;return R}},{immediate:36}],38:[function(i,r,a){var o={};(0,i("./lib/utils/common").assign)(o,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,r,a){var o=i("./zlib/deflate"),s=i("./utils/common"),l=i("./utils/strings"),u=i("./zlib/messages"),c=i("./zlib/zstream"),d=Object.prototype.toString,f=0,p=-1,m=0,S=8;function v(h){if(!(this instanceof v))return new v(h);this.options=s.assign({level:p,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},h||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var _=o.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(_!==f)throw new Error(u[_]);if(y.header&&o.deflateSetHeader(this.strm,y.header),y.dictionary){var M;if(M=typeof y.dictionary=="string"?l.string2buf(y.dictionary):d.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(_=o.deflateSetDictionary(this.strm,M))!==f)throw new Error(u[_]);this._dict_set=!0}}function g(h,y){var _=new v(y);if(_.push(h,!0),_.err)throw _.msg||u[_.err];return _.result}v.prototype.push=function(h,y){var _,M,A=this.strm,R=this.options.chunkSize;if(this.ended)return!1;M=y===~~y?y:y===!0?4:0,typeof h=="string"?A.input=l.string2buf(h):d.call(h)==="[object ArrayBuffer]"?A.input=new Uint8Array(h):A.input=h,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new s.Buf8(R),A.next_out=0,A.avail_out=R),(_=o.deflate(A,M))!==1&&_!==f)return this.onEnd(_),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||M!==4&&M!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(s.shrinkBuf(A.output,A.next_out))):this.onData(s.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&_!==1);return M===4?(_=o.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===f):M!==2||(this.onEnd(f),!(A.avail_out=0))},v.prototype.onData=function(h){this.chunks.push(h)},v.prototype.onEnd=function(h){h===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},a.Deflate=v,a.deflate=g,a.deflateRaw=function(h,y){return(y=y||{}).raw=!0,g(h,y)},a.gzip=function(h,y){return(y=y||{}).gzip=!0,g(h,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,r,a){var o=i("./zlib/inflate"),s=i("./utils/common"),l=i("./utils/strings"),u=i("./zlib/constants"),c=i("./zlib/messages"),d=i("./zlib/zstream"),f=i("./zlib/gzheader"),p=Object.prototype.toString;function m(v){if(!(this instanceof m))return new m(v);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},v||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||v&&v.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&!(15&g.windowBits)&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var h=o.inflateInit2(this.strm,g.windowBits);if(h!==u.Z_OK)throw new Error(c[h]);this.header=new f,o.inflateGetHeader(this.strm,this.header)}function S(v,g){var h=new m(g);if(h.push(v,!0),h.err)throw h.msg||c[h.err];return h.result}m.prototype.push=function(v,g){var h,y,_,M,A,R,C=this.strm,V=this.options.chunkSize,X=this.options.dictionary,b=!1;if(this.ended)return!1;y=g===~~g?g:g===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof v=="string"?C.input=l.binstring2buf(v):p.call(v)==="[object ArrayBuffer]"?C.input=new Uint8Array(v):C.input=v,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new s.Buf8(V),C.next_out=0,C.avail_out=V),(h=o.inflate(C,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&X&&(R=typeof X=="string"?l.string2buf(X):p.call(X)==="[object ArrayBuffer]"?new Uint8Array(X):X,h=o.inflateSetDictionary(this.strm,R)),h===u.Z_BUF_ERROR&&b===!0&&(h=u.Z_OK,b=!1),h!==u.Z_STREAM_END&&h!==u.Z_OK)return this.onEnd(h),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&h!==u.Z_STREAM_END&&(C.avail_in!==0||y!==u.Z_FINISH&&y!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=l.utf8border(C.output,C.next_out),M=C.next_out-_,A=l.buf2string(C.output,_),C.next_out=M,C.avail_out=V-M,M&&s.arraySet(C.output,C.output,_,M,0),this.onData(A)):this.onData(s.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(b=!0)}while((0<C.avail_in||C.avail_out===0)&&h!==u.Z_STREAM_END);return h===u.Z_STREAM_END&&(y=u.Z_FINISH),y===u.Z_FINISH?(h=o.inflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===u.Z_OK):y!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(C.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},a.Inflate=m,a.inflate=S,a.inflateRaw=function(v,g){return(g=g||{}).raw=!0,S(v,g)},a.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,r,a){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(u){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var d=c.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var f in d)d.hasOwnProperty(f)&&(u[f]=d[f])}}return u},a.shrinkBuf=function(u,c){return u.length===c?u:u.subarray?u.subarray(0,c):(u.length=c,u)};var s={arraySet:function(u,c,d,f,p){if(c.subarray&&u.subarray)u.set(c.subarray(d,d+f),p);else for(var m=0;m<f;m++)u[p+m]=c[d+m]},flattenChunks:function(u){var c,d,f,p,m,S;for(c=f=0,d=u.length;c<d;c++)f+=u[c].length;for(S=new Uint8Array(f),c=p=0,d=u.length;c<d;c++)m=u[c],S.set(m,p),p+=m.length;return S}},l={arraySet:function(u,c,d,f,p){for(var m=0;m<f;m++)u[p+m]=c[d+m]},flattenChunks:function(u){return[].concat.apply([],u)}};a.setTyped=function(u){u?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,s)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,l))},a.setTyped(o)},{}],42:[function(i,r,a){var o=i("./common"),s=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var u=new o.Buf8(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function d(f,p){if(p<65537&&(f.subarray&&l||!f.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(f,p));for(var m="",S=0;S<p;S++)m+=String.fromCharCode(f[S]);return m}u[254]=u[254]=1,a.string2buf=function(f){var p,m,S,v,g,h=f.length,y=0;for(v=0;v<h;v++)(64512&(m=f.charCodeAt(v)))==55296&&v+1<h&&(64512&(S=f.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(S-56320),v++),y+=m<128?1:m<2048?2:m<65536?3:4;for(p=new o.Buf8(y),v=g=0;g<y;v++)(64512&(m=f.charCodeAt(v)))==55296&&v+1<h&&(64512&(S=f.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(S-56320),v++),m<128?p[g++]=m:(m<2048?p[g++]=192|m>>>6:(m<65536?p[g++]=224|m>>>12:(p[g++]=240|m>>>18,p[g++]=128|m>>>12&63),p[g++]=128|m>>>6&63),p[g++]=128|63&m);return p},a.buf2binstring=function(f){return d(f,f.length)},a.binstring2buf=function(f){for(var p=new o.Buf8(f.length),m=0,S=p.length;m<S;m++)p[m]=f.charCodeAt(m);return p},a.buf2string=function(f,p){var m,S,v,g,h=p||f.length,y=new Array(2*h);for(m=S=0;m<h;)if((v=f[m++])<128)y[S++]=v;else if(4<(g=u[v]))y[S++]=65533,m+=g-1;else{for(v&=g===2?31:g===3?15:7;1<g&&m<h;)v=v<<6|63&f[m++],g--;1<g?y[S++]=65533:v<65536?y[S++]=v:(v-=65536,y[S++]=55296|v>>10&1023,y[S++]=56320|1023&v)}return d(y,S)},a.utf8border=function(f,p){var m;for((p=p||f.length)>f.length&&(p=f.length),m=p-1;0<=m&&(192&f[m])==128;)m--;return m<0||m===0?p:m+u[f[m]]>p?m:p}},{"./common":41}],43:[function(i,r,a){r.exports=function(o,s,l,u){for(var c=65535&o|0,d=o>>>16&65535|0,f=0;l!==0;){for(l-=f=2e3<l?2e3:l;d=d+(c=c+s[u++]|0)|0,--f;);c%=65521,d%=65521}return c|d<<16|0}},{}],44:[function(i,r,a){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,r,a){var o=function(){for(var s,l=[],u=0;u<256;u++){s=u;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;l[u]=s}return l}();r.exports=function(s,l,u,c){var d=o,f=c+u;s^=-1;for(var p=c;p<f;p++)s=s>>>8^d[255&(s^l[p])];return-1^s}},{}],46:[function(i,r,a){var o,s=i("../utils/common"),l=i("./trees"),u=i("./adler32"),c=i("./crc32"),d=i("./messages"),f=0,p=4,m=0,S=-2,v=-1,g=4,h=2,y=8,_=9,M=286,A=30,R=19,C=2*M+1,V=15,X=3,b=258,F=b+X+1,I=42,J=113,x=1,P=2,U=3,N=4;function z(T,re){return T.msg=d[re],re}function O(T){return(T<<1)-(4<T?9:0)}function $(T){for(var re=T.length;0<=--re;)T[re]=0}function H(T){var re=T.state,Q=re.pending;Q>T.avail_out&&(Q=T.avail_out),Q!==0&&(s.arraySet(T.output,re.pending_buf,re.pending_out,Q,T.next_out),T.next_out+=Q,re.pending_out+=Q,T.total_out+=Q,T.avail_out-=Q,re.pending-=Q,re.pending===0&&(re.pending_out=0))}function W(T,re){l._tr_flush_block(T,0<=T.block_start?T.block_start:-1,T.strstart-T.block_start,re),T.block_start=T.strstart,H(T.strm)}function fe(T,re){T.pending_buf[T.pending++]=re}function q(T,re){T.pending_buf[T.pending++]=re>>>8&255,T.pending_buf[T.pending++]=255&re}function ne(T,re){var Q,G,D=T.max_chain_length,E=T.strstart,k=T.prev_length,K=T.nice_match,Y=T.strstart>T.w_size-F?T.strstart-(T.w_size-F):0,te=T.window,oe=T.w_mask,le=T.prev,de=T.strstart+b,_e=te[E+k-1],Te=te[E+k];T.prev_length>=T.good_match&&(D>>=2),K>T.lookahead&&(K=T.lookahead);do if(te[(Q=re)+k]===Te&&te[Q+k-1]===_e&&te[Q]===te[E]&&te[++Q]===te[E+1]){E+=2,Q++;do;while(te[++E]===te[++Q]&&te[++E]===te[++Q]&&te[++E]===te[++Q]&&te[++E]===te[++Q]&&te[++E]===te[++Q]&&te[++E]===te[++Q]&&te[++E]===te[++Q]&&te[++E]===te[++Q]&&E<de);if(G=b-(de-E),E=de-b,k<G){if(T.match_start=re,K<=(k=G))break;_e=te[E+k-1],Te=te[E+k]}}while((re=le[re&oe])>Y&&--D!=0);return k<=T.lookahead?k:T.lookahead}function se(T){var re,Q,G,D,E,k,K,Y,te,oe,le=T.w_size;do{if(D=T.window_size-T.lookahead-T.strstart,T.strstart>=le+(le-F)){for(s.arraySet(T.window,T.window,le,le,0),T.match_start-=le,T.strstart-=le,T.block_start-=le,re=Q=T.hash_size;G=T.head[--re],T.head[re]=le<=G?G-le:0,--Q;);for(re=Q=le;G=T.prev[--re],T.prev[re]=le<=G?G-le:0,--Q;);D+=le}if(T.strm.avail_in===0)break;if(k=T.strm,K=T.window,Y=T.strstart+T.lookahead,te=D,oe=void 0,oe=k.avail_in,te<oe&&(oe=te),Q=oe===0?0:(k.avail_in-=oe,s.arraySet(K,k.input,k.next_in,oe,Y),k.state.wrap===1?k.adler=u(k.adler,K,oe,Y):k.state.wrap===2&&(k.adler=c(k.adler,K,oe,Y)),k.next_in+=oe,k.total_in+=oe,oe),T.lookahead+=Q,T.lookahead+T.insert>=X)for(E=T.strstart-T.insert,T.ins_h=T.window[E],T.ins_h=(T.ins_h<<T.hash_shift^T.window[E+1])&T.hash_mask;T.insert&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[E+X-1])&T.hash_mask,T.prev[E&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=E,E++,T.insert--,!(T.lookahead+T.insert<X)););}while(T.lookahead<F&&T.strm.avail_in!==0)}function Me(T,re){for(var Q,G;;){if(T.lookahead<F){if(se(T),T.lookahead<F&&re===f)return x;if(T.lookahead===0)break}if(Q=0,T.lookahead>=X&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+X-1])&T.hash_mask,Q=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),Q!==0&&T.strstart-Q<=T.w_size-F&&(T.match_length=ne(T,Q)),T.match_length>=X)if(G=l._tr_tally(T,T.strstart-T.match_start,T.match_length-X),T.lookahead-=T.match_length,T.match_length<=T.max_lazy_match&&T.lookahead>=X){for(T.match_length--;T.strstart++,T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+X-1])&T.hash_mask,Q=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart,--T.match_length!=0;);T.strstart++}else T.strstart+=T.match_length,T.match_length=0,T.ins_h=T.window[T.strstart],T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+1])&T.hash_mask;else G=l._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++;if(G&&(W(T,!1),T.strm.avail_out===0))return x}return T.insert=T.strstart<X-1?T.strstart:X-1,re===p?(W(T,!0),T.strm.avail_out===0?U:N):T.last_lit&&(W(T,!1),T.strm.avail_out===0)?x:P}function we(T,re){for(var Q,G,D;;){if(T.lookahead<F){if(se(T),T.lookahead<F&&re===f)return x;if(T.lookahead===0)break}if(Q=0,T.lookahead>=X&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+X-1])&T.hash_mask,Q=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),T.prev_length=T.match_length,T.prev_match=T.match_start,T.match_length=X-1,Q!==0&&T.prev_length<T.max_lazy_match&&T.strstart-Q<=T.w_size-F&&(T.match_length=ne(T,Q),T.match_length<=5&&(T.strategy===1||T.match_length===X&&4096<T.strstart-T.match_start)&&(T.match_length=X-1)),T.prev_length>=X&&T.match_length<=T.prev_length){for(D=T.strstart+T.lookahead-X,G=l._tr_tally(T,T.strstart-1-T.prev_match,T.prev_length-X),T.lookahead-=T.prev_length-1,T.prev_length-=2;++T.strstart<=D&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+X-1])&T.hash_mask,Q=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),--T.prev_length!=0;);if(T.match_available=0,T.match_length=X-1,T.strstart++,G&&(W(T,!1),T.strm.avail_out===0))return x}else if(T.match_available){if((G=l._tr_tally(T,0,T.window[T.strstart-1]))&&W(T,!1),T.strstart++,T.lookahead--,T.strm.avail_out===0)return x}else T.match_available=1,T.strstart++,T.lookahead--}return T.match_available&&(G=l._tr_tally(T,0,T.window[T.strstart-1]),T.match_available=0),T.insert=T.strstart<X-1?T.strstart:X-1,re===p?(W(T,!0),T.strm.avail_out===0?U:N):T.last_lit&&(W(T,!1),T.strm.avail_out===0)?x:P}function Se(T,re,Q,G,D){this.good_length=T,this.max_lazy=re,this.nice_length=Q,this.max_chain=G,this.func=D}function Ie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*C),this.dyn_dtree=new s.Buf16(2*(2*A+1)),this.bl_tree=new s.Buf16(2*(2*R+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(V+1),this.heap=new s.Buf16(2*M+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*M+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ke(T){var re;return T&&T.state?(T.total_in=T.total_out=0,T.data_type=h,(re=T.state).pending=0,re.pending_out=0,re.wrap<0&&(re.wrap=-re.wrap),re.status=re.wrap?I:J,T.adler=re.wrap===2?0:1,re.last_flush=f,l._tr_init(re),m):z(T,S)}function ie(T){var re=ke(T);return re===m&&function(Q){Q.window_size=2*Q.w_size,$(Q.head),Q.max_lazy_match=o[Q.level].max_lazy,Q.good_match=o[Q.level].good_length,Q.nice_match=o[Q.level].nice_length,Q.max_chain_length=o[Q.level].max_chain,Q.strstart=0,Q.block_start=0,Q.lookahead=0,Q.insert=0,Q.match_length=Q.prev_length=X-1,Q.match_available=0,Q.ins_h=0}(T.state),re}function Qe(T,re,Q,G,D,E){if(!T)return S;var k=1;if(re===v&&(re=6),G<0?(k=0,G=-G):15<G&&(k=2,G-=16),D<1||_<D||Q!==y||G<8||15<G||re<0||9<re||E<0||g<E)return z(T,S);G===8&&(G=9);var K=new Ie;return(T.state=K).strm=T,K.wrap=k,K.gzhead=null,K.w_bits=G,K.w_size=1<<K.w_bits,K.w_mask=K.w_size-1,K.hash_bits=D+7,K.hash_size=1<<K.hash_bits,K.hash_mask=K.hash_size-1,K.hash_shift=~~((K.hash_bits+X-1)/X),K.window=new s.Buf8(2*K.w_size),K.head=new s.Buf16(K.hash_size),K.prev=new s.Buf16(K.w_size),K.lit_bufsize=1<<D+6,K.pending_buf_size=4*K.lit_bufsize,K.pending_buf=new s.Buf8(K.pending_buf_size),K.d_buf=1*K.lit_bufsize,K.l_buf=3*K.lit_bufsize,K.level=re,K.strategy=E,K.method=Q,ie(T)}o=[new Se(0,0,0,0,function(T,re){var Q=65535;for(Q>T.pending_buf_size-5&&(Q=T.pending_buf_size-5);;){if(T.lookahead<=1){if(se(T),T.lookahead===0&&re===f)return x;if(T.lookahead===0)break}T.strstart+=T.lookahead,T.lookahead=0;var G=T.block_start+Q;if((T.strstart===0||T.strstart>=G)&&(T.lookahead=T.strstart-G,T.strstart=G,W(T,!1),T.strm.avail_out===0)||T.strstart-T.block_start>=T.w_size-F&&(W(T,!1),T.strm.avail_out===0))return x}return T.insert=0,re===p?(W(T,!0),T.strm.avail_out===0?U:N):(T.strstart>T.block_start&&(W(T,!1),T.strm.avail_out),x)}),new Se(4,4,8,4,Me),new Se(4,5,16,8,Me),new Se(4,6,32,32,Me),new Se(4,4,16,16,we),new Se(8,16,32,32,we),new Se(8,16,128,128,we),new Se(8,32,128,256,we),new Se(32,128,258,1024,we),new Se(32,258,258,4096,we)],a.deflateInit=function(T,re){return Qe(T,re,y,15,8,0)},a.deflateInit2=Qe,a.deflateReset=ie,a.deflateResetKeep=ke,a.deflateSetHeader=function(T,re){return T&&T.state?T.state.wrap!==2?S:(T.state.gzhead=re,m):S},a.deflate=function(T,re){var Q,G,D,E;if(!T||!T.state||5<re||re<0)return T?z(T,S):S;if(G=T.state,!T.output||!T.input&&T.avail_in!==0||G.status===666&&re!==p)return z(T,T.avail_out===0?-5:S);if(G.strm=T,Q=G.last_flush,G.last_flush=re,G.status===I)if(G.wrap===2)T.adler=0,fe(G,31),fe(G,139),fe(G,8),G.gzhead?(fe(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),fe(G,255&G.gzhead.time),fe(G,G.gzhead.time>>8&255),fe(G,G.gzhead.time>>16&255),fe(G,G.gzhead.time>>24&255),fe(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),fe(G,255&G.gzhead.os),G.gzhead.extra&&G.gzhead.extra.length&&(fe(G,255&G.gzhead.extra.length),fe(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(T.adler=c(T.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=69):(fe(G,0),fe(G,0),fe(G,0),fe(G,0),fe(G,0),fe(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),fe(G,3),G.status=J);else{var k=y+(G.w_bits-8<<4)<<8;k|=(2<=G.strategy||G.level<2?0:G.level<6?1:G.level===6?2:3)<<6,G.strstart!==0&&(k|=32),k+=31-k%31,G.status=J,q(G,k),G.strstart!==0&&(q(G,T.adler>>>16),q(G,65535&T.adler)),T.adler=1}if(G.status===69)if(G.gzhead.extra){for(D=G.pending;G.gzindex<(65535&G.gzhead.extra.length)&&(G.pending!==G.pending_buf_size||(G.gzhead.hcrc&&G.pending>D&&(T.adler=c(T.adler,G.pending_buf,G.pending-D,D)),H(T),D=G.pending,G.pending!==G.pending_buf_size));)fe(G,255&G.gzhead.extra[G.gzindex]),G.gzindex++;G.gzhead.hcrc&&G.pending>D&&(T.adler=c(T.adler,G.pending_buf,G.pending-D,D)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=73)}else G.status=73;if(G.status===73)if(G.gzhead.name){D=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>D&&(T.adler=c(T.adler,G.pending_buf,G.pending-D,D)),H(T),D=G.pending,G.pending===G.pending_buf_size)){E=1;break}E=G.gzindex<G.gzhead.name.length?255&G.gzhead.name.charCodeAt(G.gzindex++):0,fe(G,E)}while(E!==0);G.gzhead.hcrc&&G.pending>D&&(T.adler=c(T.adler,G.pending_buf,G.pending-D,D)),E===0&&(G.gzindex=0,G.status=91)}else G.status=91;if(G.status===91)if(G.gzhead.comment){D=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>D&&(T.adler=c(T.adler,G.pending_buf,G.pending-D,D)),H(T),D=G.pending,G.pending===G.pending_buf_size)){E=1;break}E=G.gzindex<G.gzhead.comment.length?255&G.gzhead.comment.charCodeAt(G.gzindex++):0,fe(G,E)}while(E!==0);G.gzhead.hcrc&&G.pending>D&&(T.adler=c(T.adler,G.pending_buf,G.pending-D,D)),E===0&&(G.status=103)}else G.status=103;if(G.status===103&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&H(T),G.pending+2<=G.pending_buf_size&&(fe(G,255&T.adler),fe(G,T.adler>>8&255),T.adler=0,G.status=J)):G.status=J),G.pending!==0){if(H(T),T.avail_out===0)return G.last_flush=-1,m}else if(T.avail_in===0&&O(re)<=O(Q)&&re!==p)return z(T,-5);if(G.status===666&&T.avail_in!==0)return z(T,-5);if(T.avail_in!==0||G.lookahead!==0||re!==f&&G.status!==666){var K=G.strategy===2?function(Y,te){for(var oe;;){if(Y.lookahead===0&&(se(Y),Y.lookahead===0)){if(te===f)return x;break}if(Y.match_length=0,oe=l._tr_tally(Y,0,Y.window[Y.strstart]),Y.lookahead--,Y.strstart++,oe&&(W(Y,!1),Y.strm.avail_out===0))return x}return Y.insert=0,te===p?(W(Y,!0),Y.strm.avail_out===0?U:N):Y.last_lit&&(W(Y,!1),Y.strm.avail_out===0)?x:P}(G,re):G.strategy===3?function(Y,te){for(var oe,le,de,_e,Te=Y.window;;){if(Y.lookahead<=b){if(se(Y),Y.lookahead<=b&&te===f)return x;if(Y.lookahead===0)break}if(Y.match_length=0,Y.lookahead>=X&&0<Y.strstart&&(le=Te[de=Y.strstart-1])===Te[++de]&&le===Te[++de]&&le===Te[++de]){_e=Y.strstart+b;do;while(le===Te[++de]&&le===Te[++de]&&le===Te[++de]&&le===Te[++de]&&le===Te[++de]&&le===Te[++de]&&le===Te[++de]&&le===Te[++de]&&de<_e);Y.match_length=b-(_e-de),Y.match_length>Y.lookahead&&(Y.match_length=Y.lookahead)}if(Y.match_length>=X?(oe=l._tr_tally(Y,1,Y.match_length-X),Y.lookahead-=Y.match_length,Y.strstart+=Y.match_length,Y.match_length=0):(oe=l._tr_tally(Y,0,Y.window[Y.strstart]),Y.lookahead--,Y.strstart++),oe&&(W(Y,!1),Y.strm.avail_out===0))return x}return Y.insert=0,te===p?(W(Y,!0),Y.strm.avail_out===0?U:N):Y.last_lit&&(W(Y,!1),Y.strm.avail_out===0)?x:P}(G,re):o[G.level].func(G,re);if(K!==U&&K!==N||(G.status=666),K===x||K===U)return T.avail_out===0&&(G.last_flush=-1),m;if(K===P&&(re===1?l._tr_align(G):re!==5&&(l._tr_stored_block(G,0,0,!1),re===3&&($(G.head),G.lookahead===0&&(G.strstart=0,G.block_start=0,G.insert=0))),H(T),T.avail_out===0))return G.last_flush=-1,m}return re!==p?m:G.wrap<=0?1:(G.wrap===2?(fe(G,255&T.adler),fe(G,T.adler>>8&255),fe(G,T.adler>>16&255),fe(G,T.adler>>24&255),fe(G,255&T.total_in),fe(G,T.total_in>>8&255),fe(G,T.total_in>>16&255),fe(G,T.total_in>>24&255)):(q(G,T.adler>>>16),q(G,65535&T.adler)),H(T),0<G.wrap&&(G.wrap=-G.wrap),G.pending!==0?m:1)},a.deflateEnd=function(T){var re;return T&&T.state?(re=T.state.status)!==I&&re!==69&&re!==73&&re!==91&&re!==103&&re!==J&&re!==666?z(T,S):(T.state=null,re===J?z(T,-3):m):S},a.deflateSetDictionary=function(T,re){var Q,G,D,E,k,K,Y,te,oe=re.length;if(!T||!T.state||(E=(Q=T.state).wrap)===2||E===1&&Q.status!==I||Q.lookahead)return S;for(E===1&&(T.adler=u(T.adler,re,oe,0)),Q.wrap=0,oe>=Q.w_size&&(E===0&&($(Q.head),Q.strstart=0,Q.block_start=0,Q.insert=0),te=new s.Buf8(Q.w_size),s.arraySet(te,re,oe-Q.w_size,Q.w_size,0),re=te,oe=Q.w_size),k=T.avail_in,K=T.next_in,Y=T.input,T.avail_in=oe,T.next_in=0,T.input=re,se(Q);Q.lookahead>=X;){for(G=Q.strstart,D=Q.lookahead-(X-1);Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[G+X-1])&Q.hash_mask,Q.prev[G&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=G,G++,--D;);Q.strstart=G,Q.lookahead=X-1,se(Q)}return Q.strstart+=Q.lookahead,Q.block_start=Q.strstart,Q.insert=Q.lookahead,Q.lookahead=0,Q.match_length=Q.prev_length=X-1,Q.match_available=0,T.next_in=K,T.input=Y,T.avail_in=k,Q.wrap=E,m},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,r,a){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,r,a){r.exports=function(o,s){var l,u,c,d,f,p,m,S,v,g,h,y,_,M,A,R,C,V,X,b,F,I,J,x,P;l=o.state,u=o.next_in,x=o.input,c=u+(o.avail_in-5),d=o.next_out,P=o.output,f=d-(s-o.avail_out),p=d+(o.avail_out-257),m=l.dmax,S=l.wsize,v=l.whave,g=l.wnext,h=l.window,y=l.hold,_=l.bits,M=l.lencode,A=l.distcode,R=(1<<l.lenbits)-1,C=(1<<l.distbits)-1;e:do{_<15&&(y+=x[u++]<<_,_+=8,y+=x[u++]<<_,_+=8),V=M[y&R];t:for(;;){if(y>>>=X=V>>>24,_-=X,(X=V>>>16&255)===0)P[d++]=65535&V;else{if(!(16&X)){if(!(64&X)){V=M[(65535&V)+(y&(1<<X)-1)];continue t}if(32&X){l.mode=12;break e}o.msg="invalid literal/length code",l.mode=30;break e}b=65535&V,(X&=15)&&(_<X&&(y+=x[u++]<<_,_+=8),b+=y&(1<<X)-1,y>>>=X,_-=X),_<15&&(y+=x[u++]<<_,_+=8,y+=x[u++]<<_,_+=8),V=A[y&C];n:for(;;){if(y>>>=X=V>>>24,_-=X,!(16&(X=V>>>16&255))){if(!(64&X)){V=A[(65535&V)+(y&(1<<X)-1)];continue n}o.msg="invalid distance code",l.mode=30;break e}if(F=65535&V,_<(X&=15)&&(y+=x[u++]<<_,(_+=8)<X&&(y+=x[u++]<<_,_+=8)),m<(F+=y&(1<<X)-1)){o.msg="invalid distance too far back",l.mode=30;break e}if(y>>>=X,_-=X,(X=d-f)<F){if(v<(X=F-X)&&l.sane){o.msg="invalid distance too far back",l.mode=30;break e}if(J=h,(I=0)===g){if(I+=S-X,X<b){for(b-=X;P[d++]=h[I++],--X;);I=d-F,J=P}}else if(g<X){if(I+=S+g-X,(X-=g)<b){for(b-=X;P[d++]=h[I++],--X;);if(I=0,g<b){for(b-=X=g;P[d++]=h[I++],--X;);I=d-F,J=P}}}else if(I+=g-X,X<b){for(b-=X;P[d++]=h[I++],--X;);I=d-F,J=P}for(;2<b;)P[d++]=J[I++],P[d++]=J[I++],P[d++]=J[I++],b-=3;b&&(P[d++]=J[I++],1<b&&(P[d++]=J[I++]))}else{for(I=d-F;P[d++]=P[I++],P[d++]=P[I++],P[d++]=P[I++],2<(b-=3););b&&(P[d++]=P[I++],1<b&&(P[d++]=P[I++]))}break}}break}}while(u<c&&d<p);u-=b=_>>3,y&=(1<<(_-=b<<3))-1,o.next_in=u,o.next_out=d,o.avail_in=u<c?c-u+5:5-(u-c),o.avail_out=d<p?p-d+257:257-(d-p),l.hold=y,l.bits=_}},{}],49:[function(i,r,a){var o=i("../utils/common"),s=i("./adler32"),l=i("./crc32"),u=i("./inffast"),c=i("./inftrees"),d=1,f=2,p=0,m=-2,S=1,v=852,g=592;function h(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(I){var J;return I&&I.state?(J=I.state,I.total_in=I.total_out=J.total=0,I.msg="",J.wrap&&(I.adler=1&J.wrap),J.mode=S,J.last=0,J.havedict=0,J.dmax=32768,J.head=null,J.hold=0,J.bits=0,J.lencode=J.lendyn=new o.Buf32(v),J.distcode=J.distdyn=new o.Buf32(g),J.sane=1,J.back=-1,p):m}function M(I){var J;return I&&I.state?((J=I.state).wsize=0,J.whave=0,J.wnext=0,_(I)):m}function A(I,J){var x,P;return I&&I.state?(P=I.state,J<0?(x=0,J=-J):(x=1+(J>>4),J<48&&(J&=15)),J&&(J<8||15<J)?m:(P.window!==null&&P.wbits!==J&&(P.window=null),P.wrap=x,P.wbits=J,M(I))):m}function R(I,J){var x,P;return I?(P=new y,(I.state=P).window=null,(x=A(I,J))!==p&&(I.state=null),x):m}var C,V,X=!0;function b(I){if(X){var J;for(C=new o.Buf32(512),V=new o.Buf32(32),J=0;J<144;)I.lens[J++]=8;for(;J<256;)I.lens[J++]=9;for(;J<280;)I.lens[J++]=7;for(;J<288;)I.lens[J++]=8;for(c(d,I.lens,0,288,C,0,I.work,{bits:9}),J=0;J<32;)I.lens[J++]=5;c(f,I.lens,0,32,V,0,I.work,{bits:5}),X=!1}I.lencode=C,I.lenbits=9,I.distcode=V,I.distbits=5}function F(I,J,x,P){var U,N=I.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new o.Buf8(N.wsize)),P>=N.wsize?(o.arraySet(N.window,J,x-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(P<(U=N.wsize-N.wnext)&&(U=P),o.arraySet(N.window,J,x-P,U,N.wnext),(P-=U)?(o.arraySet(N.window,J,x-P,P,0),N.wnext=P,N.whave=N.wsize):(N.wnext+=U,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=U))),0}a.inflateReset=M,a.inflateReset2=A,a.inflateResetKeep=_,a.inflateInit=function(I){return R(I,15)},a.inflateInit2=R,a.inflate=function(I,J){var x,P,U,N,z,O,$,H,W,fe,q,ne,se,Me,we,Se,Ie,ke,ie,Qe,T,re,Q,G,D=0,E=new o.Buf8(4),k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return m;(x=I.state).mode===12&&(x.mode=13),z=I.next_out,U=I.output,$=I.avail_out,N=I.next_in,P=I.input,O=I.avail_in,H=x.hold,W=x.bits,fe=O,q=$,re=p;e:for(;;)switch(x.mode){case S:if(x.wrap===0){x.mode=13;break}for(;W<16;){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}if(2&x.wrap&&H===35615){E[x.check=0]=255&H,E[1]=H>>>8&255,x.check=l(x.check,E,2,0),W=H=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&H)<<8)+(H>>8))%31){I.msg="incorrect header check",x.mode=30;break}if((15&H)!=8){I.msg="unknown compression method",x.mode=30;break}if(W-=4,T=8+(15&(H>>>=4)),x.wbits===0)x.wbits=T;else if(T>x.wbits){I.msg="invalid window size",x.mode=30;break}x.dmax=1<<T,I.adler=x.check=1,x.mode=512&H?10:12,W=H=0;break;case 2:for(;W<16;){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}if(x.flags=H,(255&x.flags)!=8){I.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){I.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=H>>8&1),512&x.flags&&(E[0]=255&H,E[1]=H>>>8&255,x.check=l(x.check,E,2,0)),W=H=0,x.mode=3;case 3:for(;W<32;){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}x.head&&(x.head.time=H),512&x.flags&&(E[0]=255&H,E[1]=H>>>8&255,E[2]=H>>>16&255,E[3]=H>>>24&255,x.check=l(x.check,E,4,0)),W=H=0,x.mode=4;case 4:for(;W<16;){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}x.head&&(x.head.xflags=255&H,x.head.os=H>>8),512&x.flags&&(E[0]=255&H,E[1]=H>>>8&255,x.check=l(x.check,E,2,0)),W=H=0,x.mode=5;case 5:if(1024&x.flags){for(;W<16;){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}x.length=H,x.head&&(x.head.extra_len=H),512&x.flags&&(E[0]=255&H,E[1]=H>>>8&255,x.check=l(x.check,E,2,0)),W=H=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(O<(ne=x.length)&&(ne=O),ne&&(x.head&&(T=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),o.arraySet(x.head.extra,P,N,ne,T)),512&x.flags&&(x.check=l(x.check,P,ne,N)),O-=ne,N+=ne,x.length-=ne),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(O===0)break e;for(ne=0;T=P[N+ne++],x.head&&T&&x.length<65536&&(x.head.name+=String.fromCharCode(T)),T&&ne<O;);if(512&x.flags&&(x.check=l(x.check,P,ne,N)),O-=ne,N+=ne,T)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(O===0)break e;for(ne=0;T=P[N+ne++],x.head&&T&&x.length<65536&&(x.head.comment+=String.fromCharCode(T)),T&&ne<O;);if(512&x.flags&&(x.check=l(x.check,P,ne,N)),O-=ne,N+=ne,T)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;W<16;){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}if(H!==(65535&x.check)){I.msg="header crc mismatch",x.mode=30;break}W=H=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),I.adler=x.check=0,x.mode=12;break;case 10:for(;W<32;){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}I.adler=x.check=h(H),W=H=0,x.mode=11;case 11:if(x.havedict===0)return I.next_out=z,I.avail_out=$,I.next_in=N,I.avail_in=O,x.hold=H,x.bits=W,2;I.adler=x.check=1,x.mode=12;case 12:if(J===5||J===6)break e;case 13:if(x.last){H>>>=7&W,W-=7&W,x.mode=27;break}for(;W<3;){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}switch(x.last=1&H,W-=1,3&(H>>>=1)){case 0:x.mode=14;break;case 1:if(b(x),x.mode=20,J!==6)break;H>>>=2,W-=2;break e;case 2:x.mode=17;break;case 3:I.msg="invalid block type",x.mode=30}H>>>=2,W-=2;break;case 14:for(H>>>=7&W,W-=7&W;W<32;){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}if((65535&H)!=(H>>>16^65535)){I.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&H,W=H=0,x.mode=15,J===6)break e;case 15:x.mode=16;case 16:if(ne=x.length){if(O<ne&&(ne=O),$<ne&&(ne=$),ne===0)break e;o.arraySet(U,P,N,ne,z),O-=ne,N+=ne,$-=ne,z+=ne,x.length-=ne;break}x.mode=12;break;case 17:for(;W<14;){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}if(x.nlen=257+(31&H),H>>>=5,W-=5,x.ndist=1+(31&H),H>>>=5,W-=5,x.ncode=4+(15&H),H>>>=4,W-=4,286<x.nlen||30<x.ndist){I.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;W<3;){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}x.lens[k[x.have++]]=7&H,H>>>=3,W-=3}for(;x.have<19;)x.lens[k[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,Q={bits:x.lenbits},re=c(0,x.lens,0,19,x.lencode,0,x.work,Q),x.lenbits=Q.bits,re){I.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;Se=(D=x.lencode[H&(1<<x.lenbits)-1])>>>16&255,Ie=65535&D,!((we=D>>>24)<=W);){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}if(Ie<16)H>>>=we,W-=we,x.lens[x.have++]=Ie;else{if(Ie===16){for(G=we+2;W<G;){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}if(H>>>=we,W-=we,x.have===0){I.msg="invalid bit length repeat",x.mode=30;break}T=x.lens[x.have-1],ne=3+(3&H),H>>>=2,W-=2}else if(Ie===17){for(G=we+3;W<G;){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}W-=we,T=0,ne=3+(7&(H>>>=we)),H>>>=3,W-=3}else{for(G=we+7;W<G;){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}W-=we,T=0,ne=11+(127&(H>>>=we)),H>>>=7,W-=7}if(x.have+ne>x.nlen+x.ndist){I.msg="invalid bit length repeat",x.mode=30;break}for(;ne--;)x.lens[x.have++]=T}}if(x.mode===30)break;if(x.lens[256]===0){I.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,Q={bits:x.lenbits},re=c(d,x.lens,0,x.nlen,x.lencode,0,x.work,Q),x.lenbits=Q.bits,re){I.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,Q={bits:x.distbits},re=c(f,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,Q),x.distbits=Q.bits,re){I.msg="invalid distances set",x.mode=30;break}if(x.mode=20,J===6)break e;case 20:x.mode=21;case 21:if(6<=O&&258<=$){I.next_out=z,I.avail_out=$,I.next_in=N,I.avail_in=O,x.hold=H,x.bits=W,u(I,q),z=I.next_out,U=I.output,$=I.avail_out,N=I.next_in,P=I.input,O=I.avail_in,H=x.hold,W=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;Se=(D=x.lencode[H&(1<<x.lenbits)-1])>>>16&255,Ie=65535&D,!((we=D>>>24)<=W);){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}if(Se&&!(240&Se)){for(ke=we,ie=Se,Qe=Ie;Se=(D=x.lencode[Qe+((H&(1<<ke+ie)-1)>>ke)])>>>16&255,Ie=65535&D,!(ke+(we=D>>>24)<=W);){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}H>>>=ke,W-=ke,x.back+=ke}if(H>>>=we,W-=we,x.back+=we,x.length=Ie,Se===0){x.mode=26;break}if(32&Se){x.back=-1,x.mode=12;break}if(64&Se){I.msg="invalid literal/length code",x.mode=30;break}x.extra=15&Se,x.mode=22;case 22:if(x.extra){for(G=x.extra;W<G;){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}x.length+=H&(1<<x.extra)-1,H>>>=x.extra,W-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;Se=(D=x.distcode[H&(1<<x.distbits)-1])>>>16&255,Ie=65535&D,!((we=D>>>24)<=W);){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}if(!(240&Se)){for(ke=we,ie=Se,Qe=Ie;Se=(D=x.distcode[Qe+((H&(1<<ke+ie)-1)>>ke)])>>>16&255,Ie=65535&D,!(ke+(we=D>>>24)<=W);){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}H>>>=ke,W-=ke,x.back+=ke}if(H>>>=we,W-=we,x.back+=we,64&Se){I.msg="invalid distance code",x.mode=30;break}x.offset=Ie,x.extra=15&Se,x.mode=24;case 24:if(x.extra){for(G=x.extra;W<G;){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}x.offset+=H&(1<<x.extra)-1,H>>>=x.extra,W-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){I.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if($===0)break e;if(ne=q-$,x.offset>ne){if((ne=x.offset-ne)>x.whave&&x.sane){I.msg="invalid distance too far back",x.mode=30;break}se=ne>x.wnext?(ne-=x.wnext,x.wsize-ne):x.wnext-ne,ne>x.length&&(ne=x.length),Me=x.window}else Me=U,se=z-x.offset,ne=x.length;for($<ne&&(ne=$),$-=ne,x.length-=ne;U[z++]=Me[se++],--ne;);x.length===0&&(x.mode=21);break;case 26:if($===0)break e;U[z++]=x.length,$--,x.mode=21;break;case 27:if(x.wrap){for(;W<32;){if(O===0)break e;O--,H|=P[N++]<<W,W+=8}if(q-=$,I.total_out+=q,x.total+=q,q&&(I.adler=x.check=x.flags?l(x.check,U,q,z-q):s(x.check,U,q,z-q)),q=$,(x.flags?H:h(H))!==x.check){I.msg="incorrect data check",x.mode=30;break}W=H=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;W<32;){if(O===0)break e;O--,H+=P[N++]<<W,W+=8}if(H!==(4294967295&x.total)){I.msg="incorrect length check",x.mode=30;break}W=H=0}x.mode=29;case 29:re=1;break e;case 30:re=-3;break e;case 31:return-4;case 32:default:return m}return I.next_out=z,I.avail_out=$,I.next_in=N,I.avail_in=O,x.hold=H,x.bits=W,(x.wsize||q!==I.avail_out&&x.mode<30&&(x.mode<27||J!==4))&&F(I,I.output,I.next_out,q-I.avail_out)?(x.mode=31,-4):(fe-=I.avail_in,q-=I.avail_out,I.total_in+=fe,I.total_out+=q,x.total+=q,x.wrap&&q&&(I.adler=x.check=x.flags?l(x.check,U,q,I.next_out-q):s(x.check,U,q,I.next_out-q)),I.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(fe==0&&q===0||J===4)&&re===p&&(re=-5),re)},a.inflateEnd=function(I){if(!I||!I.state)return m;var J=I.state;return J.window&&(J.window=null),I.state=null,p},a.inflateGetHeader=function(I,J){var x;return I&&I.state&&2&(x=I.state).wrap?((x.head=J).done=!1,p):m},a.inflateSetDictionary=function(I,J){var x,P=J.length;return I&&I.state?(x=I.state).wrap!==0&&x.mode!==11?m:x.mode===11&&s(1,J,P,0)!==x.check?-3:F(I,J,P,P)?(x.mode=31,-4):(x.havedict=1,p):m},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,r,a){var o=i("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,f,p,m,S,v,g,h){var y,_,M,A,R,C,V,X,b,F=h.bits,I=0,J=0,x=0,P=0,U=0,N=0,z=0,O=0,$=0,H=0,W=null,fe=0,q=new o.Buf16(16),ne=new o.Buf16(16),se=null,Me=0;for(I=0;I<=15;I++)q[I]=0;for(J=0;J<m;J++)q[f[p+J]]++;for(U=F,P=15;1<=P&&q[P]===0;P--);if(P<U&&(U=P),P===0)return S[v++]=20971520,S[v++]=20971520,h.bits=1,0;for(x=1;x<P&&q[x]===0;x++);for(U<x&&(U=x),I=O=1;I<=15;I++)if(O<<=1,(O-=q[I])<0)return-1;if(0<O&&(d===0||P!==1))return-1;for(ne[1]=0,I=1;I<15;I++)ne[I+1]=ne[I]+q[I];for(J=0;J<m;J++)f[p+J]!==0&&(g[ne[f[p+J]]++]=J);if(C=d===0?(W=se=g,19):d===1?(W=s,fe-=257,se=l,Me-=257,256):(W=u,se=c,-1),I=x,R=v,z=J=H=0,M=-1,A=($=1<<(N=U))-1,d===1&&852<$||d===2&&592<$)return 1;for(;;){for(V=I-z,b=g[J]<C?(X=0,g[J]):g[J]>C?(X=se[Me+g[J]],W[fe+g[J]]):(X=96,0),y=1<<I-z,x=_=1<<N;S[R+(H>>z)+(_-=y)]=V<<24|X<<16|b|0,_!==0;);for(y=1<<I-1;H&y;)y>>=1;if(y!==0?(H&=y-1,H+=y):H=0,J++,--q[I]==0){if(I===P)break;I=f[p+g[J]]}if(U<I&&(H&A)!==M){for(z===0&&(z=U),R+=x,O=1<<(N=I-z);N+z<P&&!((O-=q[N+z])<=0);)N++,O<<=1;if($+=1<<N,d===1&&852<$||d===2&&592<$)return 1;S[M=H&A]=U<<24|N<<16|R-v|0}}return H!==0&&(S[R+H]=I-z<<24|64<<16|0),h.bits=U,0}},{"../utils/common":41}],51:[function(i,r,a){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,r,a){var o=i("../utils/common"),s=0,l=1;function u(D){for(var E=D.length;0<=--E;)D[E]=0}var c=0,d=29,f=256,p=f+1+d,m=30,S=19,v=2*p+1,g=15,h=16,y=7,_=256,M=16,A=17,R=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],b=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(2*(p+2));u(F);var I=new Array(2*m);u(I);var J=new Array(512);u(J);var x=new Array(256);u(x);var P=new Array(d);u(P);var U,N,z,O=new Array(m);function $(D,E,k,K,Y){this.static_tree=D,this.extra_bits=E,this.extra_base=k,this.elems=K,this.max_length=Y,this.has_stree=D&&D.length}function H(D,E){this.dyn_tree=D,this.max_code=0,this.stat_desc=E}function W(D){return D<256?J[D]:J[256+(D>>>7)]}function fe(D,E){D.pending_buf[D.pending++]=255&E,D.pending_buf[D.pending++]=E>>>8&255}function q(D,E,k){D.bi_valid>h-k?(D.bi_buf|=E<<D.bi_valid&65535,fe(D,D.bi_buf),D.bi_buf=E>>h-D.bi_valid,D.bi_valid+=k-h):(D.bi_buf|=E<<D.bi_valid&65535,D.bi_valid+=k)}function ne(D,E,k){q(D,k[2*E],k[2*E+1])}function se(D,E){for(var k=0;k|=1&D,D>>>=1,k<<=1,0<--E;);return k>>>1}function Me(D,E,k){var K,Y,te=new Array(g+1),oe=0;for(K=1;K<=g;K++)te[K]=oe=oe+k[K-1]<<1;for(Y=0;Y<=E;Y++){var le=D[2*Y+1];le!==0&&(D[2*Y]=se(te[le]++,le))}}function we(D){var E;for(E=0;E<p;E++)D.dyn_ltree[2*E]=0;for(E=0;E<m;E++)D.dyn_dtree[2*E]=0;for(E=0;E<S;E++)D.bl_tree[2*E]=0;D.dyn_ltree[2*_]=1,D.opt_len=D.static_len=0,D.last_lit=D.matches=0}function Se(D){8<D.bi_valid?fe(D,D.bi_buf):0<D.bi_valid&&(D.pending_buf[D.pending++]=D.bi_buf),D.bi_buf=0,D.bi_valid=0}function Ie(D,E,k,K){var Y=2*E,te=2*k;return D[Y]<D[te]||D[Y]===D[te]&&K[E]<=K[k]}function ke(D,E,k){for(var K=D.heap[k],Y=k<<1;Y<=D.heap_len&&(Y<D.heap_len&&Ie(E,D.heap[Y+1],D.heap[Y],D.depth)&&Y++,!Ie(E,K,D.heap[Y],D.depth));)D.heap[k]=D.heap[Y],k=Y,Y<<=1;D.heap[k]=K}function ie(D,E,k){var K,Y,te,oe,le=0;if(D.last_lit!==0)for(;K=D.pending_buf[D.d_buf+2*le]<<8|D.pending_buf[D.d_buf+2*le+1],Y=D.pending_buf[D.l_buf+le],le++,K===0?ne(D,Y,E):(ne(D,(te=x[Y])+f+1,E),(oe=C[te])!==0&&q(D,Y-=P[te],oe),ne(D,te=W(--K),k),(oe=V[te])!==0&&q(D,K-=O[te],oe)),le<D.last_lit;);ne(D,_,E)}function Qe(D,E){var k,K,Y,te=E.dyn_tree,oe=E.stat_desc.static_tree,le=E.stat_desc.has_stree,de=E.stat_desc.elems,_e=-1;for(D.heap_len=0,D.heap_max=v,k=0;k<de;k++)te[2*k]!==0?(D.heap[++D.heap_len]=_e=k,D.depth[k]=0):te[2*k+1]=0;for(;D.heap_len<2;)te[2*(Y=D.heap[++D.heap_len]=_e<2?++_e:0)]=1,D.depth[Y]=0,D.opt_len--,le&&(D.static_len-=oe[2*Y+1]);for(E.max_code=_e,k=D.heap_len>>1;1<=k;k--)ke(D,te,k);for(Y=de;k=D.heap[1],D.heap[1]=D.heap[D.heap_len--],ke(D,te,1),K=D.heap[1],D.heap[--D.heap_max]=k,D.heap[--D.heap_max]=K,te[2*Y]=te[2*k]+te[2*K],D.depth[Y]=(D.depth[k]>=D.depth[K]?D.depth[k]:D.depth[K])+1,te[2*k+1]=te[2*K+1]=Y,D.heap[1]=Y++,ke(D,te,1),2<=D.heap_len;);D.heap[--D.heap_max]=D.heap[1],function(Te,Fe){var me,je,He,Ae,De,Ce,Be=Fe.dyn_tree,Z=Fe.max_code,xe=Fe.stat_desc.static_tree,be=Fe.stat_desc.has_stree,Ne=Fe.stat_desc.extra_bits,j=Fe.stat_desc.extra_base,ve=Fe.stat_desc.max_length,ge=0;for(Ae=0;Ae<=g;Ae++)Te.bl_count[Ae]=0;for(Be[2*Te.heap[Te.heap_max]+1]=0,me=Te.heap_max+1;me<v;me++)ve<(Ae=Be[2*Be[2*(je=Te.heap[me])+1]+1]+1)&&(Ae=ve,ge++),Be[2*je+1]=Ae,Z<je||(Te.bl_count[Ae]++,De=0,j<=je&&(De=Ne[je-j]),Ce=Be[2*je],Te.opt_len+=Ce*(Ae+De),be&&(Te.static_len+=Ce*(xe[2*je+1]+De)));if(ge!==0){do{for(Ae=ve-1;Te.bl_count[Ae]===0;)Ae--;Te.bl_count[Ae]--,Te.bl_count[Ae+1]+=2,Te.bl_count[ve]--,ge-=2}while(0<ge);for(Ae=ve;Ae!==0;Ae--)for(je=Te.bl_count[Ae];je!==0;)Z<(He=Te.heap[--me])||(Be[2*He+1]!==Ae&&(Te.opt_len+=(Ae-Be[2*He+1])*Be[2*He],Be[2*He+1]=Ae),je--)}}(D,E),Me(te,_e,D.bl_count)}function T(D,E,k){var K,Y,te=-1,oe=E[1],le=0,de=7,_e=4;for(oe===0&&(de=138,_e=3),E[2*(k+1)+1]=65535,K=0;K<=k;K++)Y=oe,oe=E[2*(K+1)+1],++le<de&&Y===oe||(le<_e?D.bl_tree[2*Y]+=le:Y!==0?(Y!==te&&D.bl_tree[2*Y]++,D.bl_tree[2*M]++):le<=10?D.bl_tree[2*A]++:D.bl_tree[2*R]++,te=Y,_e=(le=0)===oe?(de=138,3):Y===oe?(de=6,3):(de=7,4))}function re(D,E,k){var K,Y,te=-1,oe=E[1],le=0,de=7,_e=4;for(oe===0&&(de=138,_e=3),K=0;K<=k;K++)if(Y=oe,oe=E[2*(K+1)+1],!(++le<de&&Y===oe)){if(le<_e)for(;ne(D,Y,D.bl_tree),--le!=0;);else Y!==0?(Y!==te&&(ne(D,Y,D.bl_tree),le--),ne(D,M,D.bl_tree),q(D,le-3,2)):le<=10?(ne(D,A,D.bl_tree),q(D,le-3,3)):(ne(D,R,D.bl_tree),q(D,le-11,7));te=Y,_e=(le=0)===oe?(de=138,3):Y===oe?(de=6,3):(de=7,4)}}u(O);var Q=!1;function G(D,E,k,K){q(D,(c<<1)+(K?1:0),3),function(Y,te,oe,le){Se(Y),le&&(fe(Y,oe),fe(Y,~oe)),o.arraySet(Y.pending_buf,Y.window,te,oe,Y.pending),Y.pending+=oe}(D,E,k,!0)}a._tr_init=function(D){Q||(function(){var E,k,K,Y,te,oe=new Array(g+1);for(Y=K=0;Y<d-1;Y++)for(P[Y]=K,E=0;E<1<<C[Y];E++)x[K++]=Y;for(x[K-1]=Y,Y=te=0;Y<16;Y++)for(O[Y]=te,E=0;E<1<<V[Y];E++)J[te++]=Y;for(te>>=7;Y<m;Y++)for(O[Y]=te<<7,E=0;E<1<<V[Y]-7;E++)J[256+te++]=Y;for(k=0;k<=g;k++)oe[k]=0;for(E=0;E<=143;)F[2*E+1]=8,E++,oe[8]++;for(;E<=255;)F[2*E+1]=9,E++,oe[9]++;for(;E<=279;)F[2*E+1]=7,E++,oe[7]++;for(;E<=287;)F[2*E+1]=8,E++,oe[8]++;for(Me(F,p+1,oe),E=0;E<m;E++)I[2*E+1]=5,I[2*E]=se(E,5);U=new $(F,C,f+1,p,g),N=new $(I,V,0,m,g),z=new $(new Array(0),X,0,S,y)}(),Q=!0),D.l_desc=new H(D.dyn_ltree,U),D.d_desc=new H(D.dyn_dtree,N),D.bl_desc=new H(D.bl_tree,z),D.bi_buf=0,D.bi_valid=0,we(D)},a._tr_stored_block=G,a._tr_flush_block=function(D,E,k,K){var Y,te,oe=0;0<D.level?(D.strm.data_type===2&&(D.strm.data_type=function(le){var de,_e=4093624447;for(de=0;de<=31;de++,_e>>>=1)if(1&_e&&le.dyn_ltree[2*de]!==0)return s;if(le.dyn_ltree[18]!==0||le.dyn_ltree[20]!==0||le.dyn_ltree[26]!==0)return l;for(de=32;de<f;de++)if(le.dyn_ltree[2*de]!==0)return l;return s}(D)),Qe(D,D.l_desc),Qe(D,D.d_desc),oe=function(le){var de;for(T(le,le.dyn_ltree,le.l_desc.max_code),T(le,le.dyn_dtree,le.d_desc.max_code),Qe(le,le.bl_desc),de=S-1;3<=de&&le.bl_tree[2*b[de]+1]===0;de--);return le.opt_len+=3*(de+1)+5+5+4,de}(D),Y=D.opt_len+3+7>>>3,(te=D.static_len+3+7>>>3)<=Y&&(Y=te)):Y=te=k+5,k+4<=Y&&E!==-1?G(D,E,k,K):D.strategy===4||te===Y?(q(D,2+(K?1:0),3),ie(D,F,I)):(q(D,4+(K?1:0),3),function(le,de,_e,Te){var Fe;for(q(le,de-257,5),q(le,_e-1,5),q(le,Te-4,4),Fe=0;Fe<Te;Fe++)q(le,le.bl_tree[2*b[Fe]+1],3);re(le,le.dyn_ltree,de-1),re(le,le.dyn_dtree,_e-1)}(D,D.l_desc.max_code+1,D.d_desc.max_code+1,oe+1),ie(D,D.dyn_ltree,D.dyn_dtree)),we(D),K&&Se(D)},a._tr_tally=function(D,E,k){return D.pending_buf[D.d_buf+2*D.last_lit]=E>>>8&255,D.pending_buf[D.d_buf+2*D.last_lit+1]=255&E,D.pending_buf[D.l_buf+D.last_lit]=255&k,D.last_lit++,E===0?D.dyn_ltree[2*k]++:(D.matches++,E--,D.dyn_ltree[2*(x[k]+f+1)]++,D.dyn_dtree[2*W(E)]++),D.last_lit===D.lit_bufsize-1},a._tr_align=function(D){q(D,2,3),ne(D,_,F),function(E){E.bi_valid===16?(fe(E,E.bi_buf),E.bi_buf=0,E.bi_valid=0):8<=E.bi_valid&&(E.pending_buf[E.pending++]=255&E.bi_buf,E.bi_buf>>=8,E.bi_valid-=8)}(D)}},{"../utils/common":41}],53:[function(i,r,a){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,r,a){(function(o){(function(s,l){if(!s.setImmediate){var u,c,d,f,p=1,m={},S=!1,v=s.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(s);g=g&&g.setTimeout?g:s,u={}.toString.call(s.process)==="[object process]"?function(M){process.nextTick(function(){y(M)})}:function(){if(s.postMessage&&!s.importScripts){var M=!0,A=s.onmessage;return s.onmessage=function(){M=!1},s.postMessage("","*"),s.onmessage=A,M}}()?(f="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",_,!1):s.attachEvent("onmessage",_),function(M){s.postMessage(f+M,"*")}):s.MessageChannel?((d=new MessageChannel).port1.onmessage=function(M){y(M.data)},function(M){d.port2.postMessage(M)}):v&&"onreadystatechange"in v.createElement("script")?(c=v.documentElement,function(M){var A=v.createElement("script");A.onreadystatechange=function(){y(M),A.onreadystatechange=null,c.removeChild(A),A=null},c.appendChild(A)}):function(M){setTimeout(y,0,M)},g.setImmediate=function(M){typeof M!="function"&&(M=new Function(""+M));for(var A=new Array(arguments.length-1),R=0;R<A.length;R++)A[R]=arguments[R+1];var C={callback:M,args:A};return m[p]=C,u(p),p++},g.clearImmediate=h}function h(M){delete m[M]}function y(M){if(S)setTimeout(y,0,M);else{var A=m[M];if(A){S=!0;try{(function(R){var C=R.callback,V=R.args;switch(V.length){case 0:C();break;case 1:C(V[0]);break;case 2:C(V[0],V[1]);break;case 3:C(V[0],V[1],V[2]);break;default:C.apply(l,V)}})(A)}finally{h(M),S=!1}}}}function _(M){M.source===s&&typeof M.data=="string"&&M.data.indexOf(f)===0&&y(+M.data.slice(f.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof _o<"u"?_o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(G0);var hx=G0.exports;const dx=tu(hx);/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Vd="161",Zr={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},qr={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},fx=0,Tp=1,px=2,H0=1,mx=2,pi=3,Ci=0,mn=1,vi=2,ir=0,Na=1,Ep=2,bp=3,kp=4,gx=5,Mr=100,wx=101,vx=102,Cp=103,Ap=104,Sx=200,yx=201,_x=202,xx=203,Fh=204,Uh=205,Mx=206,Tx=207,Ex=208,bx=209,kx=210,Cx=211,Ax=212,Rx=213,Px=214,Ix=0,Dx=1,Lx=2,Xl=3,Nx=4,Fx=5,Ux=6,Ox=7,jd=0,Bx=1,zx=2,rr=0,Gx=1,Hx=2,Wx=3,Vx=4,jx=5,Kx=6,W0=300,ja=301,Ka=302,Oh=303,Bh=304,yu=306,Yl=1e3,Kn=1001,zh=1002,rn=1003,Rp=1004,fo=1005,un=1006,rc=1007,Rr=1008,ar=1009,Xx=1010,Yx=1011,Kd=1012,V0=1013,Xi=1014,Si=1015,is=1016,j0=1017,K0=1018,Dr=1020,Zx=1021,Xn=1023,qx=1024,Jx=1025,Lr=1026,Xa=1027,$x=1028,X0=1029,Qx=1030,Y0=1031,Z0=1033,ac=33776,oc=33777,sc=33778,lc=33779,Pp=35840,Ip=35841,Dp=35842,Lp=35843,q0=36196,Np=37492,Fp=37496,Up=37808,Op=37809,Bp=37810,zp=37811,Gp=37812,Hp=37813,Wp=37814,Vp=37815,jp=37816,Kp=37817,Xp=37818,Yp=37819,Zp=37820,qp=37821,uc=36492,Jp=36494,$p=36495,e1=36283,Qp=36284,em=36285,tm=36286,J0=3e3,Nr=3001,t1=3200,n1=3201,$0=0,i1=1,Dn="",Rt="srgb",Ai="srgb-linear",Xd="display-p3",_u="display-p3-linear",Zl="linear",ct="srgb",ql="rec709",Jl="p3",Jr=7680,nm=519,r1=512,a1=513,o1=514,Q0=515,s1=516,l1=517,u1=518,c1=519,im=35044,rm="300 es",Gh=1035,xi=2e3,$l=2001;class Xr{addEventListener(e,i){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(i)===-1&&r[e].push(i)}hasEventListener(e,i){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(i)!==-1}removeEventListener(e,i){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const o=a.indexOf(i);o!==-1&&a.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const a=r.slice(0);for(let o=0,s=a.length;o<s;o++)a[o].call(this,e);e.target=null}}}const Xt=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let am=1234567;const Fo=Math.PI/180,rs=180/Math.PI;function Qa(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Xt[t&255]+Xt[t>>8&255]+Xt[t>>16&255]+Xt[t>>24&255]+"-"+Xt[e&255]+Xt[e>>8&255]+"-"+Xt[e>>16&15|64]+Xt[e>>24&255]+"-"+Xt[i&63|128]+Xt[i>>8&255]+"-"+Xt[i>>16&255]+Xt[i>>24&255]+Xt[r&255]+Xt[r>>8&255]+Xt[r>>16&255]+Xt[r>>24&255]).toLowerCase()}function qt(t,e,i){return Math.max(e,Math.min(i,t))}function Yd(t,e){return(t%e+e)%e}function h1(t,e,i,r,a){return r+(t-e)*(a-r)/(i-e)}function d1(t,e,i){return t!==e?(i-t)/(e-t):0}function Uo(t,e,i){return(1-i)*t+i*e}function f1(t,e,i,r){return Uo(t,e,1-Math.exp(-i*r))}function p1(t,e=1){return e-Math.abs(Yd(t,e*2)-e)}function m1(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e),t*t*(3-2*t))}function g1(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e),t*t*t*(t*(t*6-15)+10))}function w1(t,e){return t+Math.floor(Math.random()*(e-t+1))}function v1(t,e){return t+Math.random()*(e-t)}function S1(t){return t*(.5-Math.random())}function y1(t){t!==void 0&&(am=t);let e=am+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function _1(t){return t*Fo}function x1(t){return t*rs}function Hh(t){return(t&t-1)===0&&t!==0}function M1(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Ql(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function T1(t,e,i,r,a){const o=Math.cos,s=Math.sin,l=o(i/2),u=s(i/2),c=o((e+r)/2),d=s((e+r)/2),f=o((e-r)/2),p=s((e-r)/2),m=o((r-e)/2),S=s((r-e)/2);switch(a){case"XYX":t.set(l*d,u*f,u*p,l*c);break;case"YZY":t.set(u*p,l*d,u*f,l*c);break;case"ZXZ":t.set(u*f,u*p,l*d,l*c);break;case"XZX":t.set(l*d,u*S,u*m,l*c);break;case"YXY":t.set(u*m,l*d,u*S,l*c);break;case"ZYZ":t.set(u*S,u*m,l*d,l*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function fa(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function en(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const E1={DEG2RAD:Fo,RAD2DEG:rs,generateUUID:Qa,clamp:qt,euclideanModulo:Yd,mapLinear:h1,inverseLerp:d1,lerp:Uo,damp:f1,pingpong:p1,smoothstep:m1,smootherstep:g1,randInt:w1,randFloat:v1,randFloatSpread:S1,seededRandom:y1,degToRad:_1,radToDeg:x1,isPowerOfTwo:Hh,ceilPowerOfTwo:M1,floorPowerOfTwo:Ql,setQuaternionFromProperEuler:T1,normalize:en,denormalize:fa};class Ge{constructor(e=0,i=0){Ge.prototype.isVector2=!0,this.x=e,this.y=i}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,i){return this.x=e,this.y=i,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const i=this.x,r=this.y,a=e.elements;return this.x=a[0]*i+a[3]*r+a[6],this.y=a[1]*i+a[4]*r+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,i){return this.x=Math.max(e.x,Math.min(i.x,this.x)),this.y=Math.max(e.y,Math.min(i.y,this.y)),this}clampScalar(e,i){return this.x=Math.max(e,Math.min(i,this.x)),this.y=Math.max(e,Math.min(i,this.y)),this}clampLength(e,i){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(i,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const i=Math.sqrt(this.lengthSq()*e.lengthSq());if(i===0)return Math.PI/2;const r=this.dot(e)/i;return Math.acos(qt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const i=this.x-e.x,r=this.y-e.y;return i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this}lerpVectors(e,i,r){return this.x=e.x+(i.x-e.x)*r,this.y=e.y+(i.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e}fromBufferAttribute(e,i){return this.x=e.getX(i),this.y=e.getY(i),this}rotateAround(e,i){const r=Math.cos(i),a=Math.sin(i),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*a+e.x,this.y=o*a+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Je{constructor(e,i,r,a,o,s,l,u,c){Je.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,i,r,a,o,s,l,u,c)}set(e,i,r,a,o,s,l,u,c){const d=this.elements;return d[0]=e,d[1]=a,d[2]=l,d[3]=i,d[4]=o,d[5]=u,d[6]=r,d[7]=s,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const i=this.elements,r=e.elements;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],this}extractBasis(e,i,r){return e.setFromMatrix3Column(this,0),i.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const i=e.elements;return this.set(i[0],i[4],i[8],i[1],i[5],i[9],i[2],i[6],i[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,i){const r=e.elements,a=i.elements,o=this.elements,s=r[0],l=r[3],u=r[6],c=r[1],d=r[4],f=r[7],p=r[2],m=r[5],S=r[8],v=a[0],g=a[3],h=a[6],y=a[1],_=a[4],M=a[7],A=a[2],R=a[5],C=a[8];return o[0]=s*v+l*y+u*A,o[3]=s*g+l*_+u*R,o[6]=s*h+l*M+u*C,o[1]=c*v+d*y+f*A,o[4]=c*g+d*_+f*R,o[7]=c*h+d*M+f*C,o[2]=p*v+m*y+S*A,o[5]=p*g+m*_+S*R,o[8]=p*h+m*M+S*C,this}multiplyScalar(e){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=e,i[4]*=e,i[7]*=e,i[2]*=e,i[5]*=e,i[8]*=e,this}determinant(){const e=this.elements,i=e[0],r=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],d=e[8];return i*s*d-i*l*c-r*o*d+r*l*u+a*o*c-a*s*u}invert(){const e=this.elements,i=e[0],r=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],d=e[8],f=d*s-l*c,p=l*u-d*o,m=c*o-s*u,S=i*f+r*p+a*m;if(S===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/S;return e[0]=f*v,e[1]=(a*c-d*r)*v,e[2]=(l*r-a*s)*v,e[3]=p*v,e[4]=(d*i-a*u)*v,e[5]=(a*o-l*i)*v,e[6]=m*v,e[7]=(r*u-c*i)*v,e[8]=(s*i-r*o)*v,this}transpose(){let e;const i=this.elements;return e=i[1],i[1]=i[3],i[3]=e,e=i[2],i[2]=i[6],i[6]=e,e=i[5],i[5]=i[7],i[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const i=this.elements;return e[0]=i[0],e[1]=i[3],e[2]=i[6],e[3]=i[1],e[4]=i[4],e[5]=i[7],e[6]=i[2],e[7]=i[5],e[8]=i[8],this}setUvTransform(e,i,r,a,o,s,l){const u=Math.cos(o),c=Math.sin(o);return this.set(r*u,r*c,-r*(u*s+c*l)+s+e,-a*c,a*u,-a*(-c*s+u*l)+l+i,0,0,1),this}scale(e,i){return this.premultiply(cc.makeScale(e,i)),this}rotate(e){return this.premultiply(cc.makeRotation(-e)),this}translate(e,i){return this.premultiply(cc.makeTranslation(e,i)),this}makeTranslation(e,i){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,i,0,0,1),this}makeRotation(e){const i=Math.cos(e),r=Math.sin(e);return this.set(i,-r,0,r,i,0,0,0,1),this}makeScale(e,i){return this.set(e,0,0,0,i,0,0,0,1),this}equals(e){const i=this.elements,r=e.elements;for(let a=0;a<9;a++)if(i[a]!==r[a])return!1;return!0}fromArray(e,i=0){for(let r=0;r<9;r++)this.elements[r]=e[r+i];return this}toArray(e=[],i=0){const r=this.elements;return e[i]=r[0],e[i+1]=r[1],e[i+2]=r[2],e[i+3]=r[3],e[i+4]=r[4],e[i+5]=r[5],e[i+6]=r[6],e[i+7]=r[7],e[i+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const cc=new Je;function ev(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function as(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function b1(){const t=as("canvas");return t.style.display="block",t}const om={};function Fa(t){t in om||(om[t]=!0,console.warn(t))}const sm=new Je().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),lm=new Je().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Fs={[Ai]:{transfer:Zl,primaries:ql,toReference:t=>t,fromReference:t=>t},[Rt]:{transfer:ct,primaries:ql,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[_u]:{transfer:Zl,primaries:Jl,toReference:t=>t.applyMatrix3(lm),fromReference:t=>t.applyMatrix3(sm)},[Xd]:{transfer:ct,primaries:Jl,toReference:t=>t.convertSRGBToLinear().applyMatrix3(lm),fromReference:t=>t.applyMatrix3(sm).convertLinearToSRGB()}},k1=new Set([Ai,_u]),ot={enabled:!0,_workingColorSpace:Ai,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!k1.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,i){if(this.enabled===!1||e===i||!e||!i)return t;const r=Fs[e].toReference,a=Fs[i].fromReference;return a(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Fs[t].primaries},getTransfer:function(t){return t===Dn?Zl:Fs[t].transfer}};function Ua(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function hc(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let $r;class tv{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{$r===void 0&&($r=as("canvas")),$r.width=e.width,$r.height=e.height;const r=$r.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=$r}return i.width>2048||i.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),i.toDataURL("image/jpeg",.6)):i.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const i=as("canvas");i.width=e.width,i.height=e.height;const r=i.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const a=r.getImageData(0,0,e.width,e.height),o=a.data;for(let s=0;s<o.length;s++)o[s]=Ua(o[s]/255)*255;return r.putImageData(a,0,0),i}else if(e.data){const i=e.data.slice(0);for(let r=0;r<i.length;r++)i instanceof Uint8Array||i instanceof Uint8ClampedArray?i[r]=Math.floor(Ua(i[r]/255)*255):i[r]=Ua(i[r]);return{data:i,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let C1=0;class nv{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:C1++}),this.uuid=Qa(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const i=e===void 0||typeof e=="string";if(!i&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},a=this.data;if(a!==null){let o;if(Array.isArray(a)){o=[];for(let s=0,l=a.length;s<l;s++)a[s].isDataTexture?o.push(dc(a[s].image)):o.push(dc(a[s]))}else o=dc(a);r.url=o}return i||(e.images[this.uuid]=r),r}}function dc(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?tv.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let A1=0;class on extends Xr{constructor(e=on.DEFAULT_IMAGE,i=on.DEFAULT_MAPPING,r=Kn,a=Kn,o=un,s=Rr,l=Xn,u=ar,c=on.DEFAULT_ANISOTROPY,d=Dn){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:A1++}),this.uuid=Qa(),this.name="",this.source=new nv(e),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=a,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=l,this.internalFormat=null,this.type=u,this.offset=new Ge(0,0),this.repeat=new Ge(1,1),this.center=new Ge(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Je,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof d=="string"?this.colorSpace=d:(Fa("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=d===Nr?Rt:Dn),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const i=e===void 0||typeof e=="string";if(!i&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==W0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Yl:e.x=e.x-Math.floor(e.x);break;case Kn:e.x=e.x<0?0:1;break;case zh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Yl:e.y=e.y-Math.floor(e.y);break;case Kn:e.y=e.y<0?0:1;break;case zh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Fa("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Rt?Nr:J0}set encoding(e){Fa("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Nr?Rt:Dn}}on.DEFAULT_IMAGE=null;on.DEFAULT_MAPPING=W0;on.DEFAULT_ANISOTROPY=1;class pt{constructor(e=0,i=0,r=0,a=1){pt.prototype.isVector4=!0,this.x=e,this.y=i,this.z=r,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,i,r,a){return this.x=e,this.y=i,this.z=r,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;case 3:this.w=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this.z=e.z+i.z,this.w=e.w+i.w,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this.z+=e.z*i,this.w+=e.w*i,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this.z=e.z-i.z,this.w=e.w-i.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const i=this.x,r=this.y,a=this.z,o=this.w,s=e.elements;return this.x=s[0]*i+s[4]*r+s[8]*a+s[12]*o,this.y=s[1]*i+s[5]*r+s[9]*a+s[13]*o,this.z=s[2]*i+s[6]*r+s[10]*a+s[14]*o,this.w=s[3]*i+s[7]*r+s[11]*a+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const i=Math.sqrt(1-e.w*e.w);return i<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/i,this.y=e.y/i,this.z=e.z/i),this}setAxisAngleFromRotationMatrix(e){let i,r,a,o;const u=e.elements,c=u[0],d=u[4],f=u[8],p=u[1],m=u[5],S=u[9],v=u[2],g=u[6],h=u[10];if(Math.abs(d-p)<.01&&Math.abs(f-v)<.01&&Math.abs(S-g)<.01){if(Math.abs(d+p)<.1&&Math.abs(f+v)<.1&&Math.abs(S+g)<.1&&Math.abs(c+m+h-3)<.1)return this.set(1,0,0,0),this;i=Math.PI;const _=(c+1)/2,M=(m+1)/2,A=(h+1)/2,R=(d+p)/4,C=(f+v)/4,V=(S+g)/4;return _>M&&_>A?_<.01?(r=0,a=.707106781,o=.707106781):(r=Math.sqrt(_),a=R/r,o=C/r):M>A?M<.01?(r=.707106781,a=0,o=.707106781):(a=Math.sqrt(M),r=R/a,o=V/a):A<.01?(r=.707106781,a=.707106781,o=0):(o=Math.sqrt(A),r=C/o,a=V/o),this.set(r,a,o,i),this}let y=Math.sqrt((g-S)*(g-S)+(f-v)*(f-v)+(p-d)*(p-d));return Math.abs(y)<.001&&(y=1),this.x=(g-S)/y,this.y=(f-v)/y,this.z=(p-d)/y,this.w=Math.acos((c+m+h-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,i){return this.x=Math.max(e.x,Math.min(i.x,this.x)),this.y=Math.max(e.y,Math.min(i.y,this.y)),this.z=Math.max(e.z,Math.min(i.z,this.z)),this.w=Math.max(e.w,Math.min(i.w,this.w)),this}clampScalar(e,i){return this.x=Math.max(e,Math.min(i,this.x)),this.y=Math.max(e,Math.min(i,this.y)),this.z=Math.max(e,Math.min(i,this.z)),this.w=Math.max(e,Math.min(i,this.w)),this}clampLength(e,i){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(i,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this.z+=(e.z-this.z)*i,this.w+=(e.w-this.w)*i,this}lerpVectors(e,i,r){return this.x=e.x+(i.x-e.x)*r,this.y=e.y+(i.y-e.y)*r,this.z=e.z+(i.z-e.z)*r,this.w=e.w+(i.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this.z=e[i+2],this.w=e[i+3],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e[i+2]=this.z,e[i+3]=this.w,e}fromBufferAttribute(e,i){return this.x=e.getX(i),this.y=e.getY(i),this.z=e.getZ(i),this.w=e.getW(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class R1 extends Xr{constructor(e=1,i=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=i,this.depth=1,this.scissor=new pt(0,0,e,i),this.scissorTest=!1,this.viewport=new pt(0,0,e,i);const a={width:e,height:i,depth:1};r.encoding!==void 0&&(Fa("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Nr?Rt:Dn),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:un,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new on(a,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,i,r=1){(this.width!==e||this.height!==i||this.depth!==r)&&(this.width=e,this.height=i,this.depth=r,this.texture.image.width=e,this.texture.image.height=i,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,i),this.scissor.set(0,0,e,i)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const i=Object.assign({},e.texture.image);return this.texture.source=new nv(i),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Hr extends R1{constructor(e=1,i=1,r={}){super(e,i,r),this.isWebGLRenderTarget=!0}}class iv extends on{constructor(e=null,i=1,r=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:i,height:r,depth:a},this.magFilter=rn,this.minFilter=rn,this.wrapR=Kn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class P1 extends on{constructor(e=null,i=1,r=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:i,height:r,depth:a},this.magFilter=rn,this.minFilter=rn,this.wrapR=Kn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Wr{constructor(e=0,i=0,r=0,a=1){this.isQuaternion=!0,this._x=e,this._y=i,this._z=r,this._w=a}static slerpFlat(e,i,r,a,o,s,l){let u=r[a+0],c=r[a+1],d=r[a+2],f=r[a+3];const p=o[s+0],m=o[s+1],S=o[s+2],v=o[s+3];if(l===0){e[i+0]=u,e[i+1]=c,e[i+2]=d,e[i+3]=f;return}if(l===1){e[i+0]=p,e[i+1]=m,e[i+2]=S,e[i+3]=v;return}if(f!==v||u!==p||c!==m||d!==S){let g=1-l;const h=u*p+c*m+d*S+f*v,y=h>=0?1:-1,_=1-h*h;if(_>Number.EPSILON){const A=Math.sqrt(_),R=Math.atan2(A,h*y);g=Math.sin(g*R)/A,l=Math.sin(l*R)/A}const M=l*y;if(u=u*g+p*M,c=c*g+m*M,d=d*g+S*M,f=f*g+v*M,g===1-l){const A=1/Math.sqrt(u*u+c*c+d*d+f*f);u*=A,c*=A,d*=A,f*=A}}e[i]=u,e[i+1]=c,e[i+2]=d,e[i+3]=f}static multiplyQuaternionsFlat(e,i,r,a,o,s){const l=r[a],u=r[a+1],c=r[a+2],d=r[a+3],f=o[s],p=o[s+1],m=o[s+2],S=o[s+3];return e[i]=l*S+d*f+u*m-c*p,e[i+1]=u*S+d*p+c*f-l*m,e[i+2]=c*S+d*m+l*p-u*f,e[i+3]=d*S-l*f-u*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,i,r,a){return this._x=e,this._y=i,this._z=r,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,i=!0){const r=e._x,a=e._y,o=e._z,s=e._order,l=Math.cos,u=Math.sin,c=l(r/2),d=l(a/2),f=l(o/2),p=u(r/2),m=u(a/2),S=u(o/2);switch(s){case"XYZ":this._x=p*d*f+c*m*S,this._y=c*m*f-p*d*S,this._z=c*d*S+p*m*f,this._w=c*d*f-p*m*S;break;case"YXZ":this._x=p*d*f+c*m*S,this._y=c*m*f-p*d*S,this._z=c*d*S-p*m*f,this._w=c*d*f+p*m*S;break;case"ZXY":this._x=p*d*f-c*m*S,this._y=c*m*f+p*d*S,this._z=c*d*S+p*m*f,this._w=c*d*f-p*m*S;break;case"ZYX":this._x=p*d*f-c*m*S,this._y=c*m*f+p*d*S,this._z=c*d*S-p*m*f,this._w=c*d*f+p*m*S;break;case"YZX":this._x=p*d*f+c*m*S,this._y=c*m*f+p*d*S,this._z=c*d*S-p*m*f,this._w=c*d*f-p*m*S;break;case"XZY":this._x=p*d*f-c*m*S,this._y=c*m*f-p*d*S,this._z=c*d*S+p*m*f,this._w=c*d*f+p*m*S;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return i===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,i){const r=i/2,a=Math.sin(r);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const i=e.elements,r=i[0],a=i[4],o=i[8],s=i[1],l=i[5],u=i[9],c=i[2],d=i[6],f=i[10],p=r+l+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-u)*m,this._y=(o-c)*m,this._z=(s-a)*m}else if(r>l&&r>f){const m=2*Math.sqrt(1+r-l-f);this._w=(d-u)/m,this._x=.25*m,this._y=(a+s)/m,this._z=(o+c)/m}else if(l>f){const m=2*Math.sqrt(1+l-r-f);this._w=(o-c)/m,this._x=(a+s)/m,this._y=.25*m,this._z=(u+d)/m}else{const m=2*Math.sqrt(1+f-r-l);this._w=(s-a)/m,this._x=(o+c)/m,this._y=(u+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,i){let r=e.dot(i)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*i.z-e.z*i.y,this._y=e.z*i.x-e.x*i.z,this._z=e.x*i.y-e.y*i.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(qt(this.dot(e),-1,1)))}rotateTowards(e,i){const r=this.angleTo(e);if(r===0)return this;const a=Math.min(1,i/r);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,i){const r=e._x,a=e._y,o=e._z,s=e._w,l=i._x,u=i._y,c=i._z,d=i._w;return this._x=r*d+s*l+a*c-o*u,this._y=a*d+s*u+o*l-r*c,this._z=o*d+s*c+r*u-a*l,this._w=s*d-r*l-a*u-o*c,this._onChangeCallback(),this}slerp(e,i){if(i===0)return this;if(i===1)return this.copy(e);const r=this._x,a=this._y,o=this._z,s=this._w;let l=s*e._w+r*e._x+a*e._y+o*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=s,this._x=r,this._y=a,this._z=o,this;const u=1-l*l;if(u<=Number.EPSILON){const m=1-i;return this._w=m*s+i*this._w,this._x=m*r+i*this._x,this._y=m*a+i*this._y,this._z=m*o+i*this._z,this.normalize(),this}const c=Math.sqrt(u),d=Math.atan2(c,l),f=Math.sin((1-i)*d)/c,p=Math.sin(i*d)/c;return this._w=s*f+this._w*p,this._x=r*f+this._x*p,this._y=a*f+this._y*p,this._z=o*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,i,r){return this.copy(e).slerp(i,r)}random(){const e=Math.random(),i=Math.sqrt(1-e),r=Math.sqrt(e),a=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(i*Math.cos(a),r*Math.sin(o),r*Math.cos(o),i*Math.sin(a))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,i=0){return this._x=e[i],this._y=e[i+1],this._z=e[i+2],this._w=e[i+3],this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._w,e}fromBufferAttribute(e,i){return this._x=e.getX(i),this._y=e.getY(i),this._z=e.getZ(i),this._w=e.getW(i),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ee{constructor(e=0,i=0,r=0){ee.prototype.isVector3=!0,this.x=e,this.y=i,this.z=r}set(e,i,r){return r===void 0&&(r=this.z),this.x=e,this.y=i,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this.z=e.z+i.z,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this.z+=e.z*i,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this.z=e.z-i.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,i){return this.x=e.x*i.x,this.y=e.y*i.y,this.z=e.z*i.z,this}applyEuler(e){return this.applyQuaternion(um.setFromEuler(e))}applyAxisAngle(e,i){return this.applyQuaternion(um.setFromAxisAngle(e,i))}applyMatrix3(e){const i=this.x,r=this.y,a=this.z,o=e.elements;return this.x=o[0]*i+o[3]*r+o[6]*a,this.y=o[1]*i+o[4]*r+o[7]*a,this.z=o[2]*i+o[5]*r+o[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const i=this.x,r=this.y,a=this.z,o=e.elements,s=1/(o[3]*i+o[7]*r+o[11]*a+o[15]);return this.x=(o[0]*i+o[4]*r+o[8]*a+o[12])*s,this.y=(o[1]*i+o[5]*r+o[9]*a+o[13])*s,this.z=(o[2]*i+o[6]*r+o[10]*a+o[14])*s,this}applyQuaternion(e){const i=this.x,r=this.y,a=this.z,o=e.x,s=e.y,l=e.z,u=e.w,c=2*(s*a-l*r),d=2*(l*i-o*a),f=2*(o*r-s*i);return this.x=i+u*c+s*f-l*d,this.y=r+u*d+l*c-o*f,this.z=a+u*f+o*d-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const i=this.x,r=this.y,a=this.z,o=e.elements;return this.x=o[0]*i+o[4]*r+o[8]*a,this.y=o[1]*i+o[5]*r+o[9]*a,this.z=o[2]*i+o[6]*r+o[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,i){return this.x=Math.max(e.x,Math.min(i.x,this.x)),this.y=Math.max(e.y,Math.min(i.y,this.y)),this.z=Math.max(e.z,Math.min(i.z,this.z)),this}clampScalar(e,i){return this.x=Math.max(e,Math.min(i,this.x)),this.y=Math.max(e,Math.min(i,this.y)),this.z=Math.max(e,Math.min(i,this.z)),this}clampLength(e,i){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(i,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this.z+=(e.z-this.z)*i,this}lerpVectors(e,i,r){return this.x=e.x+(i.x-e.x)*r,this.y=e.y+(i.y-e.y)*r,this.z=e.z+(i.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,i){const r=e.x,a=e.y,o=e.z,s=i.x,l=i.y,u=i.z;return this.x=a*u-o*l,this.y=o*s-r*u,this.z=r*l-a*s,this}projectOnVector(e){const i=e.lengthSq();if(i===0)return this.set(0,0,0);const r=e.dot(this)/i;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return fc.copy(this).projectOnVector(e),this.sub(fc)}reflect(e){return this.sub(fc.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const i=Math.sqrt(this.lengthSq()*e.lengthSq());if(i===0)return Math.PI/2;const r=this.dot(e)/i;return Math.acos(qt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const i=this.x-e.x,r=this.y-e.y,a=this.z-e.z;return i*i+r*r+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,i,r){const a=Math.sin(i)*e;return this.x=a*Math.sin(r),this.y=Math.cos(i)*e,this.z=a*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,i,r){return this.x=e*Math.sin(i),this.y=r,this.z=e*Math.cos(i),this}setFromMatrixPosition(e){const i=e.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this}setFromMatrixScale(e){const i=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=i,this.y=r,this.z=a,this}setFromMatrixColumn(e,i){return this.fromArray(e.elements,i*4)}setFromMatrix3Column(e,i){return this.fromArray(e.elements,i*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this.z=e[i+2],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e[i+2]=this.z,e}fromBufferAttribute(e,i){return this.x=e.getX(i),this.y=e.getY(i),this.z=e.getZ(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,i=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(i),this.y=r*Math.sin(i),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const fc=new ee,um=new Wr;class eo{constructor(e=new ee(1/0,1/0,1/0),i=new ee(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=i}set(e,i){return this.min.copy(e),this.max.copy(i),this}setFromArray(e){this.makeEmpty();for(let i=0,r=e.length;i<r;i+=3)this.expandByPoint(zn.fromArray(e,i));return this}setFromBufferAttribute(e){this.makeEmpty();for(let i=0,r=e.count;i<r;i++)this.expandByPoint(zn.fromBufferAttribute(e,i));return this}setFromPoints(e){this.makeEmpty();for(let i=0,r=e.length;i<r;i++)this.expandByPoint(e[i]);return this}setFromCenterAndSize(e,i){const r=zn.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,i=!1){return this.makeEmpty(),this.expandByObject(e,i)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,i=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(i===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let s=0,l=o.count;s<l;s++)e.isMesh===!0?e.getVertexPosition(s,zn):zn.fromBufferAttribute(o,s),zn.applyMatrix4(e.matrixWorld),this.expandByPoint(zn);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Us.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Us.copy(r.boundingBox)),Us.applyMatrix4(e.matrixWorld),this.union(Us)}const a=e.children;for(let o=0,s=a.length;o<s;o++)this.expandByObject(a[o],i);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,i){return i.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,zn),zn.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let i,r;return e.normal.x>0?(i=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(i=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(i+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(i+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(i+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(i+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),i<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(po),Os.subVectors(this.max,po),Qr.subVectors(e.a,po),ea.subVectors(e.b,po),ta.subVectors(e.c,po),Di.subVectors(ea,Qr),Li.subVectors(ta,ea),mr.subVectors(Qr,ta);let i=[0,-Di.z,Di.y,0,-Li.z,Li.y,0,-mr.z,mr.y,Di.z,0,-Di.x,Li.z,0,-Li.x,mr.z,0,-mr.x,-Di.y,Di.x,0,-Li.y,Li.x,0,-mr.y,mr.x,0];return!pc(i,Qr,ea,ta,Os)||(i=[1,0,0,0,1,0,0,0,1],!pc(i,Qr,ea,ta,Os))?!1:(Bs.crossVectors(Di,Li),i=[Bs.x,Bs.y,Bs.z],pc(i,Qr,ea,ta,Os))}clampPoint(e,i){return i.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,zn).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(zn).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(li[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),li[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),li[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),li[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),li[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),li[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),li[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),li[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(li),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const li=[new ee,new ee,new ee,new ee,new ee,new ee,new ee,new ee],zn=new ee,Us=new eo,Qr=new ee,ea=new ee,ta=new ee,Di=new ee,Li=new ee,mr=new ee,po=new ee,Os=new ee,Bs=new ee,gr=new ee;function pc(t,e,i,r,a){for(let o=0,s=t.length-3;o<=s;o+=3){gr.fromArray(t,o);const l=a.x*Math.abs(gr.x)+a.y*Math.abs(gr.y)+a.z*Math.abs(gr.z),u=e.dot(gr),c=i.dot(gr),d=r.dot(gr);if(Math.max(-Math.max(u,c,d),Math.min(u,c,d))>l)return!1}return!0}const I1=new eo,mo=new ee,mc=new ee;class fs{constructor(e=new ee,i=-1){this.isSphere=!0,this.center=e,this.radius=i}set(e,i){return this.center.copy(e),this.radius=i,this}setFromPoints(e,i){const r=this.center;i!==void 0?r.copy(i):I1.setFromPoints(e).getCenter(r);let a=0;for(let o=0,s=e.length;o<s;o++)a=Math.max(a,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const i=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=i*i}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,i){const r=this.center.distanceToSquared(e);return i.copy(e),r>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;mo.subVectors(e,this.center);const i=mo.lengthSq();if(i>this.radius*this.radius){const r=Math.sqrt(i),a=(r-this.radius)*.5;this.center.addScaledVector(mo,a/r),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(mc.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(mo.copy(e.center).add(mc)),this.expandByPoint(mo.copy(e.center).sub(mc))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ui=new ee,gc=new ee,zs=new ee,Ni=new ee,wc=new ee,Gs=new ee,vc=new ee;class xu{constructor(e=new ee,i=new ee(0,0,-1)){this.origin=e,this.direction=i}set(e,i){return this.origin.copy(e),this.direction.copy(i),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,i){return i.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ui)),this}closestPointToPoint(e,i){i.subVectors(e,this.origin);const r=i.dot(this.direction);return r<0?i.copy(this.origin):i.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const i=ui.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(ui.copy(this.origin).addScaledVector(this.direction,i),ui.distanceToSquared(e))}distanceSqToSegment(e,i,r,a){gc.copy(e).add(i).multiplyScalar(.5),zs.copy(i).sub(e).normalize(),Ni.copy(this.origin).sub(gc);const o=e.distanceTo(i)*.5,s=-this.direction.dot(zs),l=Ni.dot(this.direction),u=-Ni.dot(zs),c=Ni.lengthSq(),d=Math.abs(1-s*s);let f,p,m,S;if(d>0)if(f=s*u-l,p=s*l-u,S=o*d,f>=0)if(p>=-S)if(p<=S){const v=1/d;f*=v,p*=v,m=f*(f+s*p+2*l)+p*(s*f+p+2*u)+c}else p=o,f=Math.max(0,-(s*p+l)),m=-f*f+p*(p+2*u)+c;else p=-o,f=Math.max(0,-(s*p+l)),m=-f*f+p*(p+2*u)+c;else p<=-S?(f=Math.max(0,-(-s*o+l)),p=f>0?-o:Math.min(Math.max(-o,-u),o),m=-f*f+p*(p+2*u)+c):p<=S?(f=0,p=Math.min(Math.max(-o,-u),o),m=p*(p+2*u)+c):(f=Math.max(0,-(s*o+l)),p=f>0?o:Math.min(Math.max(-o,-u),o),m=-f*f+p*(p+2*u)+c);else p=s>0?-o:o,f=Math.max(0,-(s*p+l)),m=-f*f+p*(p+2*u)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),a&&a.copy(gc).addScaledVector(zs,p),m}intersectSphere(e,i){ui.subVectors(e.center,this.origin);const r=ui.dot(this.direction),a=ui.dot(ui)-r*r,o=e.radius*e.radius;if(a>o)return null;const s=Math.sqrt(o-a),l=r-s,u=r+s;return u<0?null:l<0?this.at(u,i):this.at(l,i)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const i=e.normal.dot(this.direction);if(i===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/i;return r>=0?r:null}intersectPlane(e,i){const r=this.distanceToPlane(e);return r===null?null:this.at(r,i)}intersectsPlane(e){const i=e.distanceToPoint(this.origin);return i===0||e.normal.dot(this.direction)*i<0}intersectBox(e,i){let r,a,o,s,l,u;const c=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,a=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,a=(e.min.x-p.x)*c),d>=0?(o=(e.min.y-p.y)*d,s=(e.max.y-p.y)*d):(o=(e.max.y-p.y)*d,s=(e.min.y-p.y)*d),r>s||o>a||((o>r||isNaN(r))&&(r=o),(s<a||isNaN(a))&&(a=s),f>=0?(l=(e.min.z-p.z)*f,u=(e.max.z-p.z)*f):(l=(e.max.z-p.z)*f,u=(e.min.z-p.z)*f),r>u||l>a)||((l>r||r!==r)&&(r=l),(u<a||a!==a)&&(a=u),a<0)?null:this.at(r>=0?r:a,i)}intersectsBox(e){return this.intersectBox(e,ui)!==null}intersectTriangle(e,i,r,a,o){wc.subVectors(i,e),Gs.subVectors(r,e),vc.crossVectors(wc,Gs);let s=this.direction.dot(vc),l;if(s>0){if(a)return null;l=1}else if(s<0)l=-1,s=-s;else return null;Ni.subVectors(this.origin,e);const u=l*this.direction.dot(Gs.crossVectors(Ni,Gs));if(u<0)return null;const c=l*this.direction.dot(wc.cross(Ni));if(c<0||u+c>s)return null;const d=-l*Ni.dot(vc);return d<0?null:this.at(d/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class _t{constructor(e,i,r,a,o,s,l,u,c,d,f,p,m,S,v,g){_t.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,i,r,a,o,s,l,u,c,d,f,p,m,S,v,g)}set(e,i,r,a,o,s,l,u,c,d,f,p,m,S,v,g){const h=this.elements;return h[0]=e,h[4]=i,h[8]=r,h[12]=a,h[1]=o,h[5]=s,h[9]=l,h[13]=u,h[2]=c,h[6]=d,h[10]=f,h[14]=p,h[3]=m,h[7]=S,h[11]=v,h[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new _t().fromArray(this.elements)}copy(e){const i=this.elements,r=e.elements;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],this}copyPosition(e){const i=this.elements,r=e.elements;return i[12]=r[12],i[13]=r[13],i[14]=r[14],this}setFromMatrix3(e){const i=e.elements;return this.set(i[0],i[3],i[6],0,i[1],i[4],i[7],0,i[2],i[5],i[8],0,0,0,0,1),this}extractBasis(e,i,r){return e.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,i,r){return this.set(e.x,i.x,r.x,0,e.y,i.y,r.y,0,e.z,i.z,r.z,0,0,0,0,1),this}extractRotation(e){const i=this.elements,r=e.elements,a=1/na.setFromMatrixColumn(e,0).length(),o=1/na.setFromMatrixColumn(e,1).length(),s=1/na.setFromMatrixColumn(e,2).length();return i[0]=r[0]*a,i[1]=r[1]*a,i[2]=r[2]*a,i[3]=0,i[4]=r[4]*o,i[5]=r[5]*o,i[6]=r[6]*o,i[7]=0,i[8]=r[8]*s,i[9]=r[9]*s,i[10]=r[10]*s,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromEuler(e){const i=this.elements,r=e.x,a=e.y,o=e.z,s=Math.cos(r),l=Math.sin(r),u=Math.cos(a),c=Math.sin(a),d=Math.cos(o),f=Math.sin(o);if(e.order==="XYZ"){const p=s*d,m=s*f,S=l*d,v=l*f;i[0]=u*d,i[4]=-u*f,i[8]=c,i[1]=m+S*c,i[5]=p-v*c,i[9]=-l*u,i[2]=v-p*c,i[6]=S+m*c,i[10]=s*u}else if(e.order==="YXZ"){const p=u*d,m=u*f,S=c*d,v=c*f;i[0]=p+v*l,i[4]=S*l-m,i[8]=s*c,i[1]=s*f,i[5]=s*d,i[9]=-l,i[2]=m*l-S,i[6]=v+p*l,i[10]=s*u}else if(e.order==="ZXY"){const p=u*d,m=u*f,S=c*d,v=c*f;i[0]=p-v*l,i[4]=-s*f,i[8]=S+m*l,i[1]=m+S*l,i[5]=s*d,i[9]=v-p*l,i[2]=-s*c,i[6]=l,i[10]=s*u}else if(e.order==="ZYX"){const p=s*d,m=s*f,S=l*d,v=l*f;i[0]=u*d,i[4]=S*c-m,i[8]=p*c+v,i[1]=u*f,i[5]=v*c+p,i[9]=m*c-S,i[2]=-c,i[6]=l*u,i[10]=s*u}else if(e.order==="YZX"){const p=s*u,m=s*c,S=l*u,v=l*c;i[0]=u*d,i[4]=v-p*f,i[8]=S*f+m,i[1]=f,i[5]=s*d,i[9]=-l*d,i[2]=-c*d,i[6]=m*f+S,i[10]=p-v*f}else if(e.order==="XZY"){const p=s*u,m=s*c,S=l*u,v=l*c;i[0]=u*d,i[4]=-f,i[8]=c*d,i[1]=p*f+v,i[5]=s*d,i[9]=m*f-S,i[2]=S*f-m,i[6]=l*d,i[10]=v*f+p}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromQuaternion(e){return this.compose(D1,e,L1)}lookAt(e,i,r){const a=this.elements;return vn.subVectors(e,i),vn.lengthSq()===0&&(vn.z=1),vn.normalize(),Fi.crossVectors(r,vn),Fi.lengthSq()===0&&(Math.abs(r.z)===1?vn.x+=1e-4:vn.z+=1e-4,vn.normalize(),Fi.crossVectors(r,vn)),Fi.normalize(),Hs.crossVectors(vn,Fi),a[0]=Fi.x,a[4]=Hs.x,a[8]=vn.x,a[1]=Fi.y,a[5]=Hs.y,a[9]=vn.y,a[2]=Fi.z,a[6]=Hs.z,a[10]=vn.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,i){const r=e.elements,a=i.elements,o=this.elements,s=r[0],l=r[4],u=r[8],c=r[12],d=r[1],f=r[5],p=r[9],m=r[13],S=r[2],v=r[6],g=r[10],h=r[14],y=r[3],_=r[7],M=r[11],A=r[15],R=a[0],C=a[4],V=a[8],X=a[12],b=a[1],F=a[5],I=a[9],J=a[13],x=a[2],P=a[6],U=a[10],N=a[14],z=a[3],O=a[7],$=a[11],H=a[15];return o[0]=s*R+l*b+u*x+c*z,o[4]=s*C+l*F+u*P+c*O,o[8]=s*V+l*I+u*U+c*$,o[12]=s*X+l*J+u*N+c*H,o[1]=d*R+f*b+p*x+m*z,o[5]=d*C+f*F+p*P+m*O,o[9]=d*V+f*I+p*U+m*$,o[13]=d*X+f*J+p*N+m*H,o[2]=S*R+v*b+g*x+h*z,o[6]=S*C+v*F+g*P+h*O,o[10]=S*V+v*I+g*U+h*$,o[14]=S*X+v*J+g*N+h*H,o[3]=y*R+_*b+M*x+A*z,o[7]=y*C+_*F+M*P+A*O,o[11]=y*V+_*I+M*U+A*$,o[15]=y*X+_*J+M*N+A*H,this}multiplyScalar(e){const i=this.elements;return i[0]*=e,i[4]*=e,i[8]*=e,i[12]*=e,i[1]*=e,i[5]*=e,i[9]*=e,i[13]*=e,i[2]*=e,i[6]*=e,i[10]*=e,i[14]*=e,i[3]*=e,i[7]*=e,i[11]*=e,i[15]*=e,this}determinant(){const e=this.elements,i=e[0],r=e[4],a=e[8],o=e[12],s=e[1],l=e[5],u=e[9],c=e[13],d=e[2],f=e[6],p=e[10],m=e[14],S=e[3],v=e[7],g=e[11],h=e[15];return S*(+o*u*f-a*c*f-o*l*p+r*c*p+a*l*m-r*u*m)+v*(+i*u*m-i*c*p+o*s*p-a*s*m+a*c*d-o*u*d)+g*(+i*c*f-i*l*m-o*s*f+r*s*m+o*l*d-r*c*d)+h*(-a*l*d-i*u*f+i*l*p+a*s*f-r*s*p+r*u*d)}transpose(){const e=this.elements;let i;return i=e[1],e[1]=e[4],e[4]=i,i=e[2],e[2]=e[8],e[8]=i,i=e[6],e[6]=e[9],e[9]=i,i=e[3],e[3]=e[12],e[12]=i,i=e[7],e[7]=e[13],e[13]=i,i=e[11],e[11]=e[14],e[14]=i,this}setPosition(e,i,r){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=i,a[14]=r),this}invert(){const e=this.elements,i=e[0],r=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],d=e[8],f=e[9],p=e[10],m=e[11],S=e[12],v=e[13],g=e[14],h=e[15],y=f*g*c-v*p*c+v*u*m-l*g*m-f*u*h+l*p*h,_=S*p*c-d*g*c-S*u*m+s*g*m+d*u*h-s*p*h,M=d*v*c-S*f*c+S*l*m-s*v*m-d*l*h+s*f*h,A=S*f*u-d*v*u-S*l*p+s*v*p+d*l*g-s*f*g,R=i*y+r*_+a*M+o*A;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/R;return e[0]=y*C,e[1]=(v*p*o-f*g*o-v*a*m+r*g*m+f*a*h-r*p*h)*C,e[2]=(l*g*o-v*u*o+v*a*c-r*g*c-l*a*h+r*u*h)*C,e[3]=(f*u*o-l*p*o-f*a*c+r*p*c+l*a*m-r*u*m)*C,e[4]=_*C,e[5]=(d*g*o-S*p*o+S*a*m-i*g*m-d*a*h+i*p*h)*C,e[6]=(S*u*o-s*g*o-S*a*c+i*g*c+s*a*h-i*u*h)*C,e[7]=(s*p*o-d*u*o+d*a*c-i*p*c-s*a*m+i*u*m)*C,e[8]=M*C,e[9]=(S*f*o-d*v*o-S*r*m+i*v*m+d*r*h-i*f*h)*C,e[10]=(s*v*o-S*l*o+S*r*c-i*v*c-s*r*h+i*l*h)*C,e[11]=(d*l*o-s*f*o-d*r*c+i*f*c+s*r*m-i*l*m)*C,e[12]=A*C,e[13]=(d*v*a-S*f*a+S*r*p-i*v*p-d*r*g+i*f*g)*C,e[14]=(S*l*a-s*v*a-S*r*u+i*v*u+s*r*g-i*l*g)*C,e[15]=(s*f*a-d*l*a+d*r*u-i*f*u-s*r*p+i*l*p)*C,this}scale(e){const i=this.elements,r=e.x,a=e.y,o=e.z;return i[0]*=r,i[4]*=a,i[8]*=o,i[1]*=r,i[5]*=a,i[9]*=o,i[2]*=r,i[6]*=a,i[10]*=o,i[3]*=r,i[7]*=a,i[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,i=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(i,r,a))}makeTranslation(e,i,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,i,0,0,1,r,0,0,0,1),this}makeRotationX(e){const i=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,i,-r,0,0,r,i,0,0,0,0,1),this}makeRotationY(e){const i=Math.cos(e),r=Math.sin(e);return this.set(i,0,r,0,0,1,0,0,-r,0,i,0,0,0,0,1),this}makeRotationZ(e){const i=Math.cos(e),r=Math.sin(e);return this.set(i,-r,0,0,r,i,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,i){const r=Math.cos(i),a=Math.sin(i),o=1-r,s=e.x,l=e.y,u=e.z,c=o*s,d=o*l;return this.set(c*s+r,c*l-a*u,c*u+a*l,0,c*l+a*u,d*l+r,d*u-a*s,0,c*u-a*l,d*u+a*s,o*u*u+r,0,0,0,0,1),this}makeScale(e,i,r){return this.set(e,0,0,0,0,i,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,i,r,a,o,s){return this.set(1,r,o,0,e,1,s,0,i,a,1,0,0,0,0,1),this}compose(e,i,r){const a=this.elements,o=i._x,s=i._y,l=i._z,u=i._w,c=o+o,d=s+s,f=l+l,p=o*c,m=o*d,S=o*f,v=s*d,g=s*f,h=l*f,y=u*c,_=u*d,M=u*f,A=r.x,R=r.y,C=r.z;return a[0]=(1-(v+h))*A,a[1]=(m+M)*A,a[2]=(S-_)*A,a[3]=0,a[4]=(m-M)*R,a[5]=(1-(p+h))*R,a[6]=(g+y)*R,a[7]=0,a[8]=(S+_)*C,a[9]=(g-y)*C,a[10]=(1-(p+v))*C,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,i,r){const a=this.elements;let o=na.set(a[0],a[1],a[2]).length();const s=na.set(a[4],a[5],a[6]).length(),l=na.set(a[8],a[9],a[10]).length();this.determinant()<0&&(o=-o),e.x=a[12],e.y=a[13],e.z=a[14],Gn.copy(this);const c=1/o,d=1/s,f=1/l;return Gn.elements[0]*=c,Gn.elements[1]*=c,Gn.elements[2]*=c,Gn.elements[4]*=d,Gn.elements[5]*=d,Gn.elements[6]*=d,Gn.elements[8]*=f,Gn.elements[9]*=f,Gn.elements[10]*=f,i.setFromRotationMatrix(Gn),r.x=o,r.y=s,r.z=l,this}makePerspective(e,i,r,a,o,s,l=xi){const u=this.elements,c=2*o/(i-e),d=2*o/(r-a),f=(i+e)/(i-e),p=(r+a)/(r-a);let m,S;if(l===xi)m=-(s+o)/(s-o),S=-2*s*o/(s-o);else if(l===$l)m=-s/(s-o),S=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return u[0]=c,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=d,u[9]=p,u[13]=0,u[2]=0,u[6]=0,u[10]=m,u[14]=S,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,i,r,a,o,s,l=xi){const u=this.elements,c=1/(i-e),d=1/(r-a),f=1/(s-o),p=(i+e)*c,m=(r+a)*d;let S,v;if(l===xi)S=(s+o)*f,v=-2*f;else if(l===$l)S=o*f,v=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-p,u[1]=0,u[5]=2*d,u[9]=0,u[13]=-m,u[2]=0,u[6]=0,u[10]=v,u[14]=-S,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const i=this.elements,r=e.elements;for(let a=0;a<16;a++)if(i[a]!==r[a])return!1;return!0}fromArray(e,i=0){for(let r=0;r<16;r++)this.elements[r]=e[r+i];return this}toArray(e=[],i=0){const r=this.elements;return e[i]=r[0],e[i+1]=r[1],e[i+2]=r[2],e[i+3]=r[3],e[i+4]=r[4],e[i+5]=r[5],e[i+6]=r[6],e[i+7]=r[7],e[i+8]=r[8],e[i+9]=r[9],e[i+10]=r[10],e[i+11]=r[11],e[i+12]=r[12],e[i+13]=r[13],e[i+14]=r[14],e[i+15]=r[15],e}}const na=new ee,Gn=new _t,D1=new ee(0,0,0),L1=new ee(1,1,1),Fi=new ee,Hs=new ee,vn=new ee,cm=new _t,hm=new Wr;class Mu{constructor(e=0,i=0,r=0,a=Mu.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=i,this._z=r,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,i,r,a=this._order){return this._x=e,this._y=i,this._z=r,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,i=this._order,r=!0){const a=e.elements,o=a[0],s=a[4],l=a[8],u=a[1],c=a[5],d=a[9],f=a[2],p=a[6],m=a[10];switch(i){case"XYZ":this._y=Math.asin(qt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-qt(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,m),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(qt(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(u,o));break;case"ZYX":this._y=Math.asin(-qt(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(qt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(l,m));break;case"XZY":this._z=Math.asin(-qt(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,i,r){return cm.makeRotationFromQuaternion(e),this.setFromRotationMatrix(cm,i,r)}setFromVector3(e,i=this._order){return this.set(e.x,e.y,e.z,i)}reorder(e){return hm.setFromEuler(this),this.setFromQuaternion(hm,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Mu.DEFAULT_ORDER="XYZ";class rv{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let N1=0;const dm=new ee,ia=new Wr,ci=new _t,Ws=new ee,go=new ee,F1=new ee,U1=new Wr,fm=new ee(1,0,0),pm=new ee(0,1,0),mm=new ee(0,0,1),O1={type:"added"},B1={type:"removed"};class Jt extends Xr{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:N1++}),this.uuid=Qa(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Jt.DEFAULT_UP.clone();const e=new ee,i=new Mu,r=new Wr,a=new ee(1,1,1);function o(){r.setFromEuler(i,!1)}function s(){i.setFromQuaternion(r,void 0,!1)}i._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new _t},normalMatrix:{value:new Je}}),this.matrix=new _t,this.matrixWorld=new _t,this.matrixAutoUpdate=Jt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Jt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new rv,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,i){this.quaternion.setFromAxisAngle(e,i)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,i){return ia.setFromAxisAngle(e,i),this.quaternion.multiply(ia),this}rotateOnWorldAxis(e,i){return ia.setFromAxisAngle(e,i),this.quaternion.premultiply(ia),this}rotateX(e){return this.rotateOnAxis(fm,e)}rotateY(e){return this.rotateOnAxis(pm,e)}rotateZ(e){return this.rotateOnAxis(mm,e)}translateOnAxis(e,i){return dm.copy(e).applyQuaternion(this.quaternion),this.position.add(dm.multiplyScalar(i)),this}translateX(e){return this.translateOnAxis(fm,e)}translateY(e){return this.translateOnAxis(pm,e)}translateZ(e){return this.translateOnAxis(mm,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ci.copy(this.matrixWorld).invert())}lookAt(e,i,r){e.isVector3?Ws.copy(e):Ws.set(e,i,r);const a=this.parent;this.updateWorldMatrix(!0,!1),go.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ci.lookAt(go,Ws,this.up):ci.lookAt(Ws,go,this.up),this.quaternion.setFromRotationMatrix(ci),a&&(ci.extractRotation(a.matrixWorld),ia.setFromRotationMatrix(ci),this.quaternion.premultiply(ia.invert()))}add(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(O1)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(e);return i!==-1&&(e.parent=null,this.children.splice(i,1),e.dispatchEvent(B1)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ci.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ci.multiply(e.parent.matrixWorld)),e.applyMatrix4(ci),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,i){if(this[e]===i)return this;for(let r=0,a=this.children.length;r<a;r++){const s=this.children[r].getObjectByProperty(e,i);if(s!==void 0)return s}}getObjectsByProperty(e,i,r=[]){this[e]===i&&r.push(this);const a=this.children;for(let o=0,s=a.length;o<s;o++)a[o].getObjectsByProperty(e,i,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(go,e,F1),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(go,U1,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return e.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(e){e(this);const i=this.children;for(let r=0,a=i.length;r<a;r++)i[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const i=this.children;for(let r=0,a=i.length;r<a;r++)i[r].traverseVisible(e)}traverseAncestors(e){const i=this.parent;i!==null&&(e(i),i.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const i=this.children;for(let r=0,a=i.length;r<a;r++){const o=i[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,i){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),i===!0){const a=this.children;for(let o=0,s=a.length;o<s;o++){const l=a[o];l.matrixWorldAutoUpdate===!0&&l.updateWorldMatrix(!1,!0)}}}toJSON(e){const i=e===void 0||typeof e=="string",r={};i&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.visibility=this._visibility,a.active=this._active,a.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),a.maxGeometryCount=this._maxGeometryCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.geometryCount=this._geometryCount,a.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(a.boundingSphere={center:a.boundingSphere.center.toArray(),radius:a.boundingSphere.radius}),this.boundingBox!==null&&(a.boundingBox={min:a.boundingBox.min.toArray(),max:a.boundingBox.max.toArray()}));function o(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=o(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let c=0,d=u.length;c<d;c++){const f=u[c];o(e.shapes,f)}else o(e.shapes,u)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,c=this.material.length;u<c;u++)l.push(o(e.materials,this.material[u]));a.material=l}else a.material=o(e.materials,this.material);if(this.children.length>0){a.children=[];for(let l=0;l<this.children.length;l++)a.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];a.animations.push(o(e.animations,u))}}if(i){const l=s(e.geometries),u=s(e.materials),c=s(e.textures),d=s(e.images),f=s(e.shapes),p=s(e.skeletons),m=s(e.animations),S=s(e.nodes);l.length>0&&(r.geometries=l),u.length>0&&(r.materials=u),c.length>0&&(r.textures=c),d.length>0&&(r.images=d),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),S.length>0&&(r.nodes=S)}return r.object=a,r;function s(l){const u=[];for(const c in l){const d=l[c];delete d.metadata,u.push(d)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,i=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),i===!0)for(let r=0;r<e.children.length;r++){const a=e.children[r];this.add(a.clone())}return this}}Jt.DEFAULT_UP=new ee(0,1,0);Jt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Jt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Hn=new ee,hi=new ee,Sc=new ee,di=new ee,ra=new ee,aa=new ee,gm=new ee,yc=new ee,_c=new ee,xc=new ee;class ri{constructor(e=new ee,i=new ee,r=new ee){this.a=e,this.b=i,this.c=r}static getNormal(e,i,r,a){a.subVectors(r,i),Hn.subVectors(e,i),a.cross(Hn);const o=a.lengthSq();return o>0?a.multiplyScalar(1/Math.sqrt(o)):a.set(0,0,0)}static getBarycoord(e,i,r,a,o){Hn.subVectors(a,i),hi.subVectors(r,i),Sc.subVectors(e,i);const s=Hn.dot(Hn),l=Hn.dot(hi),u=Hn.dot(Sc),c=hi.dot(hi),d=hi.dot(Sc),f=s*c-l*l;if(f===0)return o.set(0,0,0),null;const p=1/f,m=(c*u-l*d)*p,S=(s*d-l*u)*p;return o.set(1-m-S,S,m)}static containsPoint(e,i,r,a){return this.getBarycoord(e,i,r,a,di)===null?!1:di.x>=0&&di.y>=0&&di.x+di.y<=1}static getInterpolation(e,i,r,a,o,s,l,u){return this.getBarycoord(e,i,r,a,di)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(o,di.x),u.addScaledVector(s,di.y),u.addScaledVector(l,di.z),u)}static isFrontFacing(e,i,r,a){return Hn.subVectors(r,i),hi.subVectors(e,i),Hn.cross(hi).dot(a)<0}set(e,i,r){return this.a.copy(e),this.b.copy(i),this.c.copy(r),this}setFromPointsAndIndices(e,i,r,a){return this.a.copy(e[i]),this.b.copy(e[r]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,i,r,a){return this.a.fromBufferAttribute(e,i),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Hn.subVectors(this.c,this.b),hi.subVectors(this.a,this.b),Hn.cross(hi).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ri.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,i){return ri.getBarycoord(e,this.a,this.b,this.c,i)}getInterpolation(e,i,r,a,o){return ri.getInterpolation(e,this.a,this.b,this.c,i,r,a,o)}containsPoint(e){return ri.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ri.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,i){const r=this.a,a=this.b,o=this.c;let s,l;ra.subVectors(a,r),aa.subVectors(o,r),yc.subVectors(e,r);const u=ra.dot(yc),c=aa.dot(yc);if(u<=0&&c<=0)return i.copy(r);_c.subVectors(e,a);const d=ra.dot(_c),f=aa.dot(_c);if(d>=0&&f<=d)return i.copy(a);const p=u*f-d*c;if(p<=0&&u>=0&&d<=0)return s=u/(u-d),i.copy(r).addScaledVector(ra,s);xc.subVectors(e,o);const m=ra.dot(xc),S=aa.dot(xc);if(S>=0&&m<=S)return i.copy(o);const v=m*c-u*S;if(v<=0&&c>=0&&S<=0)return l=c/(c-S),i.copy(r).addScaledVector(aa,l);const g=d*S-m*f;if(g<=0&&f-d>=0&&m-S>=0)return gm.subVectors(o,a),l=(f-d)/(f-d+(m-S)),i.copy(a).addScaledVector(gm,l);const h=1/(g+v+p);return s=v*h,l=p*h,i.copy(r).addScaledVector(ra,s).addScaledVector(aa,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const av={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ui={h:0,s:0,l:0},Vs={h:0,s:0,l:0};function Mc(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*6*(2/3-i):t}class Xe{constructor(e,i,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,i,r)}set(e,i,r){if(i===void 0&&r===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,i,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,i=Rt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ot.toWorkingColorSpace(this,i),this}setRGB(e,i,r,a=ot.workingColorSpace){return this.r=e,this.g=i,this.b=r,ot.toWorkingColorSpace(this,a),this}setHSL(e,i,r,a=ot.workingColorSpace){if(e=Yd(e,1),i=qt(i,0,1),r=qt(r,0,1),i===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+i):r+i-r*i,s=2*r-o;this.r=Mc(s,o,e+1/3),this.g=Mc(s,o,e),this.b=Mc(s,o,e-1/3)}return ot.toWorkingColorSpace(this,a),this}setStyle(e,i=Rt){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=a[1],l=a[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,i);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,i);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,i);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=a[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,i);if(s===6)return this.setHex(parseInt(o,16),i);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,i);return this}setColorName(e,i=Rt){const r=av[e.toLowerCase()];return r!==void 0?this.setHex(r,i):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ua(e.r),this.g=Ua(e.g),this.b=Ua(e.b),this}copyLinearToSRGB(e){return this.r=hc(e.r),this.g=hc(e.g),this.b=hc(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Rt){return ot.fromWorkingColorSpace(Yt.copy(this),e),Math.round(qt(Yt.r*255,0,255))*65536+Math.round(qt(Yt.g*255,0,255))*256+Math.round(qt(Yt.b*255,0,255))}getHexString(e=Rt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,i=ot.workingColorSpace){ot.fromWorkingColorSpace(Yt.copy(this),i);const r=Yt.r,a=Yt.g,o=Yt.b,s=Math.max(r,a,o),l=Math.min(r,a,o);let u,c;const d=(l+s)/2;if(l===s)u=0,c=0;else{const f=s-l;switch(c=d<=.5?f/(s+l):f/(2-s-l),s){case r:u=(a-o)/f+(a<o?6:0);break;case a:u=(o-r)/f+2;break;case o:u=(r-a)/f+4;break}u/=6}return e.h=u,e.s=c,e.l=d,e}getRGB(e,i=ot.workingColorSpace){return ot.fromWorkingColorSpace(Yt.copy(this),i),e.r=Yt.r,e.g=Yt.g,e.b=Yt.b,e}getStyle(e=Rt){ot.fromWorkingColorSpace(Yt.copy(this),e);const i=Yt.r,r=Yt.g,a=Yt.b;return e!==Rt?`color(${e} ${i.toFixed(3)} ${r.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(i*255)},${Math.round(r*255)},${Math.round(a*255)})`}offsetHSL(e,i,r){return this.getHSL(Ui),this.setHSL(Ui.h+e,Ui.s+i,Ui.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,i){return this.r=e.r+i.r,this.g=e.g+i.g,this.b=e.b+i.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,i){return this.r+=(e.r-this.r)*i,this.g+=(e.g-this.g)*i,this.b+=(e.b-this.b)*i,this}lerpColors(e,i,r){return this.r=e.r+(i.r-e.r)*r,this.g=e.g+(i.g-e.g)*r,this.b=e.b+(i.b-e.b)*r,this}lerpHSL(e,i){this.getHSL(Ui),e.getHSL(Vs);const r=Uo(Ui.h,Vs.h,i),a=Uo(Ui.s,Vs.s,i),o=Uo(Ui.l,Vs.l,i);return this.setHSL(r,a,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const i=this.r,r=this.g,a=this.b,o=e.elements;return this.r=o[0]*i+o[3]*r+o[6]*a,this.g=o[1]*i+o[4]*r+o[7]*a,this.b=o[2]*i+o[5]*r+o[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,i=0){return this.r=e[i],this.g=e[i+1],this.b=e[i+2],this}toArray(e=[],i=0){return e[i]=this.r,e[i+1]=this.g,e[i+2]=this.b,e}fromBufferAttribute(e,i){return this.r=e.getX(i),this.g=e.getY(i),this.b=e.getZ(i),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Yt=new Xe;Xe.NAMES=av;let z1=0;class Ri extends Xr{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:z1++}),this.uuid=Qa(),this.name="",this.type="Material",this.blending=Na,this.side=Ci,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Fh,this.blendDst=Uh,this.blendEquation=Mr,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Xe(0,0,0),this.blendAlpha=0,this.depthFunc=Xl,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=nm,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Jr,this.stencilZFail=Jr,this.stencilZPass=Jr,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const i in e){const r=e[i];if(r===void 0){console.warn(`THREE.Material: parameter '${i}' has value of undefined.`);continue}const a=this[i];if(a===void 0){console.warn(`THREE.Material: '${i}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(r):a&&a.isVector3&&r&&r.isVector3?a.copy(r):this[i]=r}}toJSON(e){const i=e===void 0||typeof e=="string";i&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Na&&(r.blending=this.blending),this.side!==Ci&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Fh&&(r.blendSrc=this.blendSrc),this.blendDst!==Uh&&(r.blendDst=this.blendDst),this.blendEquation!==Mr&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Xl&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==nm&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Jr&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Jr&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Jr&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function a(o){const s=[];for(const l in o){const u=o[l];delete u.metadata,s.push(u)}return s}if(i){const o=a(e.textures),s=a(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const i=e.clippingPlanes;let r=null;if(i!==null){const a=i.length;r=new Array(a);for(let o=0;o!==a;++o)r[o]=i[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ov extends Ri{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Xe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=jd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Et=new ee,js=new Ge;class qn{constructor(e,i,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=i,this.count=e!==void 0?e.length/i:0,this.normalized=r,this.usage=im,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Si,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Fa("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,i){this.updateRanges.push({start:e,count:i})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,i,r){e*=this.itemSize,r*=i.itemSize;for(let a=0,o=this.itemSize;a<o;a++)this.array[e+a]=i.array[r+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let i=0,r=this.count;i<r;i++)js.fromBufferAttribute(this,i),js.applyMatrix3(e),this.setXY(i,js.x,js.y);else if(this.itemSize===3)for(let i=0,r=this.count;i<r;i++)Et.fromBufferAttribute(this,i),Et.applyMatrix3(e),this.setXYZ(i,Et.x,Et.y,Et.z);return this}applyMatrix4(e){for(let i=0,r=this.count;i<r;i++)Et.fromBufferAttribute(this,i),Et.applyMatrix4(e),this.setXYZ(i,Et.x,Et.y,Et.z);return this}applyNormalMatrix(e){for(let i=0,r=this.count;i<r;i++)Et.fromBufferAttribute(this,i),Et.applyNormalMatrix(e),this.setXYZ(i,Et.x,Et.y,Et.z);return this}transformDirection(e){for(let i=0,r=this.count;i<r;i++)Et.fromBufferAttribute(this,i),Et.transformDirection(e),this.setXYZ(i,Et.x,Et.y,Et.z);return this}set(e,i=0){return this.array.set(e,i),this}getComponent(e,i){let r=this.array[e*this.itemSize+i];return this.normalized&&(r=fa(r,this.array)),r}setComponent(e,i,r){return this.normalized&&(r=en(r,this.array)),this.array[e*this.itemSize+i]=r,this}getX(e){let i=this.array[e*this.itemSize];return this.normalized&&(i=fa(i,this.array)),i}setX(e,i){return this.normalized&&(i=en(i,this.array)),this.array[e*this.itemSize]=i,this}getY(e){let i=this.array[e*this.itemSize+1];return this.normalized&&(i=fa(i,this.array)),i}setY(e,i){return this.normalized&&(i=en(i,this.array)),this.array[e*this.itemSize+1]=i,this}getZ(e){let i=this.array[e*this.itemSize+2];return this.normalized&&(i=fa(i,this.array)),i}setZ(e,i){return this.normalized&&(i=en(i,this.array)),this.array[e*this.itemSize+2]=i,this}getW(e){let i=this.array[e*this.itemSize+3];return this.normalized&&(i=fa(i,this.array)),i}setW(e,i){return this.normalized&&(i=en(i,this.array)),this.array[e*this.itemSize+3]=i,this}setXY(e,i,r){return e*=this.itemSize,this.normalized&&(i=en(i,this.array),r=en(r,this.array)),this.array[e+0]=i,this.array[e+1]=r,this}setXYZ(e,i,r,a){return e*=this.itemSize,this.normalized&&(i=en(i,this.array),r=en(r,this.array),a=en(a,this.array)),this.array[e+0]=i,this.array[e+1]=r,this.array[e+2]=a,this}setXYZW(e,i,r,a,o){return e*=this.itemSize,this.normalized&&(i=en(i,this.array),r=en(r,this.array),a=en(a,this.array),o=en(o,this.array)),this.array[e+0]=i,this.array[e+1]=r,this.array[e+2]=a,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==im&&(e.usage=this.usage),e}}class sv extends qn{constructor(e,i,r){super(new Uint16Array(e),i,r)}}class lv extends qn{constructor(e,i,r){super(new Uint32Array(e),i,r)}}class bt extends qn{constructor(e,i,r){super(new Float32Array(e),i,r)}}let G1=0;const Cn=new _t,Tc=new Jt,oa=new ee,Sn=new eo,wo=new eo,Nt=new ee;class gn extends Xr{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:G1++}),this.uuid=Qa(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(ev(e)?lv:sv)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,i){return this.attributes[e]=i,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,i,r=0){this.groups.push({start:e,count:i,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,i){this.drawRange.start=e,this.drawRange.count=i}applyMatrix4(e){const i=this.attributes.position;i!==void 0&&(i.applyMatrix4(e),i.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Je().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Cn.makeRotationFromQuaternion(e),this.applyMatrix4(Cn),this}rotateX(e){return Cn.makeRotationX(e),this.applyMatrix4(Cn),this}rotateY(e){return Cn.makeRotationY(e),this.applyMatrix4(Cn),this}rotateZ(e){return Cn.makeRotationZ(e),this.applyMatrix4(Cn),this}translate(e,i,r){return Cn.makeTranslation(e,i,r),this.applyMatrix4(Cn),this}scale(e,i,r){return Cn.makeScale(e,i,r),this.applyMatrix4(Cn),this}lookAt(e){return Tc.lookAt(e),Tc.updateMatrix(),this.applyMatrix4(Tc.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(oa).negate(),this.translate(oa.x,oa.y,oa.z),this}setFromPoints(e){const i=[];for(let r=0,a=e.length;r<a;r++){const o=e[r];i.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new bt(i,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new eo);const e=this.attributes.position,i=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ee(-1/0,-1/0,-1/0),new ee(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),i)for(let r=0,a=i.length;r<a;r++){const o=i[r];Sn.setFromBufferAttribute(o),this.morphTargetsRelative?(Nt.addVectors(this.boundingBox.min,Sn.min),this.boundingBox.expandByPoint(Nt),Nt.addVectors(this.boundingBox.max,Sn.max),this.boundingBox.expandByPoint(Nt)):(this.boundingBox.expandByPoint(Sn.min),this.boundingBox.expandByPoint(Sn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new fs);const e=this.attributes.position,i=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ee,1/0);return}if(e){const r=this.boundingSphere.center;if(Sn.setFromBufferAttribute(e),i)for(let o=0,s=i.length;o<s;o++){const l=i[o];wo.setFromBufferAttribute(l),this.morphTargetsRelative?(Nt.addVectors(Sn.min,wo.min),Sn.expandByPoint(Nt),Nt.addVectors(Sn.max,wo.max),Sn.expandByPoint(Nt)):(Sn.expandByPoint(wo.min),Sn.expandByPoint(wo.max))}Sn.getCenter(r);let a=0;for(let o=0,s=e.count;o<s;o++)Nt.fromBufferAttribute(e,o),a=Math.max(a,r.distanceToSquared(Nt));if(i)for(let o=0,s=i.length;o<s;o++){const l=i[o],u=this.morphTargetsRelative;for(let c=0,d=l.count;c<d;c++)Nt.fromBufferAttribute(l,c),u&&(oa.fromBufferAttribute(e,c),Nt.add(oa)),a=Math.max(a,r.distanceToSquared(Nt))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,i=this.attributes;if(e===null||i.position===void 0||i.normal===void 0||i.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,a=i.position.array,o=i.normal.array,s=i.uv.array,l=a.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new qn(new Float32Array(4*l),4));const u=this.getAttribute("tangent").array,c=[],d=[];for(let b=0;b<l;b++)c[b]=new ee,d[b]=new ee;const f=new ee,p=new ee,m=new ee,S=new Ge,v=new Ge,g=new Ge,h=new ee,y=new ee;function _(b,F,I){f.fromArray(a,b*3),p.fromArray(a,F*3),m.fromArray(a,I*3),S.fromArray(s,b*2),v.fromArray(s,F*2),g.fromArray(s,I*2),p.sub(f),m.sub(f),v.sub(S),g.sub(S);const J=1/(v.x*g.y-g.x*v.y);isFinite(J)&&(h.copy(p).multiplyScalar(g.y).addScaledVector(m,-v.y).multiplyScalar(J),y.copy(m).multiplyScalar(v.x).addScaledVector(p,-g.x).multiplyScalar(J),c[b].add(h),c[F].add(h),c[I].add(h),d[b].add(y),d[F].add(y),d[I].add(y))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let b=0,F=M.length;b<F;++b){const I=M[b],J=I.start,x=I.count;for(let P=J,U=J+x;P<U;P+=3)_(r[P+0],r[P+1],r[P+2])}const A=new ee,R=new ee,C=new ee,V=new ee;function X(b){C.fromArray(o,b*3),V.copy(C);const F=c[b];A.copy(F),A.sub(C.multiplyScalar(C.dot(F))).normalize(),R.crossVectors(V,F);const J=R.dot(d[b])<0?-1:1;u[b*4]=A.x,u[b*4+1]=A.y,u[b*4+2]=A.z,u[b*4+3]=J}for(let b=0,F=M.length;b<F;++b){const I=M[b],J=I.start,x=I.count;for(let P=J,U=J+x;P<U;P+=3)X(r[P+0]),X(r[P+1]),X(r[P+2])}}computeVertexNormals(){const e=this.index,i=this.getAttribute("position");if(i!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new qn(new Float32Array(i.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const a=new ee,o=new ee,s=new ee,l=new ee,u=new ee,c=new ee,d=new ee,f=new ee;if(e)for(let p=0,m=e.count;p<m;p+=3){const S=e.getX(p+0),v=e.getX(p+1),g=e.getX(p+2);a.fromBufferAttribute(i,S),o.fromBufferAttribute(i,v),s.fromBufferAttribute(i,g),d.subVectors(s,o),f.subVectors(a,o),d.cross(f),l.fromBufferAttribute(r,S),u.fromBufferAttribute(r,v),c.fromBufferAttribute(r,g),l.add(d),u.add(d),c.add(d),r.setXYZ(S,l.x,l.y,l.z),r.setXYZ(v,u.x,u.y,u.z),r.setXYZ(g,c.x,c.y,c.z)}else for(let p=0,m=i.count;p<m;p+=3)a.fromBufferAttribute(i,p+0),o.fromBufferAttribute(i,p+1),s.fromBufferAttribute(i,p+2),d.subVectors(s,o),f.subVectors(a,o),d.cross(f),r.setXYZ(p+0,d.x,d.y,d.z),r.setXYZ(p+1,d.x,d.y,d.z),r.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let i=0,r=e.count;i<r;i++)Nt.fromBufferAttribute(e,i),Nt.normalize(),e.setXYZ(i,Nt.x,Nt.y,Nt.z)}toNonIndexed(){function e(l,u){const c=l.array,d=l.itemSize,f=l.normalized,p=new c.constructor(u.length*d);let m=0,S=0;for(let v=0,g=u.length;v<g;v++){l.isInterleavedBufferAttribute?m=u[v]*l.data.stride+l.offset:m=u[v]*d;for(let h=0;h<d;h++)p[S++]=c[m++]}return new qn(p,d,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const i=new gn,r=this.index.array,a=this.attributes;for(const l in a){const u=a[l],c=e(u,r);i.setAttribute(l,c)}const o=this.morphAttributes;for(const l in o){const u=[],c=o[l];for(let d=0,f=c.length;d<f;d++){const p=c[d],m=e(p,r);u.push(m)}i.morphAttributes[l]=u}i.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let l=0,u=s.length;l<u;l++){const c=s[l];i.addGroup(c.start,c.count,c.materialIndex)}return i}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const c in u)u[c]!==void 0&&(e[c]=u[c]);return e}e.data={attributes:{}};const i=this.index;i!==null&&(e.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});const r=this.attributes;for(const u in r){const c=r[u];e.data.attributes[u]=c.toJSON(e.data)}const a={};let o=!1;for(const u in this.morphAttributes){const c=this.morphAttributes[u],d=[];for(let f=0,p=c.length;f<p;f++){const m=c[f];d.push(m.toJSON(e.data))}d.length>0&&(a[u]=d,o=!0)}o&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const i={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(i));const a=e.attributes;for(const c in a){const d=a[c];this.setAttribute(c,d.clone(i))}const o=e.morphAttributes;for(const c in o){const d=[],f=o[c];for(let p=0,m=f.length;p<m;p++)d.push(f[p].clone(i));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,d=s.length;c<d;c++){const f=s[c];this.addGroup(f.start,f.count,f.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const wm=new _t,wr=new xu,Ks=new fs,vm=new ee,sa=new ee,la=new ee,ua=new ee,Ec=new ee,Xs=new ee,Ys=new Ge,Zs=new Ge,qs=new Ge,Sm=new ee,ym=new ee,_m=new ee,Js=new ee,$s=new ee;class Nn extends Jt{constructor(e=new gn,i=new ov){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=i,this.updateMorphTargets()}copy(e,i){return super.copy(e,i),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const i=this.geometry.morphAttributes,r=Object.keys(i);if(r.length>0){const a=i[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=a.length;o<s;o++){const l=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}getVertexPosition(e,i){const r=this.geometry,a=r.attributes.position,o=r.morphAttributes.position,s=r.morphTargetsRelative;i.fromBufferAttribute(a,e);const l=this.morphTargetInfluences;if(o&&l){Xs.set(0,0,0);for(let u=0,c=o.length;u<c;u++){const d=l[u],f=o[u];d!==0&&(Ec.fromBufferAttribute(f,e),s?Xs.addScaledVector(Ec,d):Xs.addScaledVector(Ec.sub(i),d))}i.add(Xs)}return i}raycast(e,i){const r=this.geometry,a=this.material,o=this.matrixWorld;a!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Ks.copy(r.boundingSphere),Ks.applyMatrix4(o),wr.copy(e.ray).recast(e.near),!(Ks.containsPoint(wr.origin)===!1&&(wr.intersectSphere(Ks,vm)===null||wr.origin.distanceToSquared(vm)>(e.far-e.near)**2))&&(wm.copy(o).invert(),wr.copy(e.ray).applyMatrix4(wm),!(r.boundingBox!==null&&wr.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,i,wr)))}_computeIntersections(e,i,r){let a;const o=this.geometry,s=this.material,l=o.index,u=o.attributes.position,c=o.attributes.uv,d=o.attributes.uv1,f=o.attributes.normal,p=o.groups,m=o.drawRange;if(l!==null)if(Array.isArray(s))for(let S=0,v=p.length;S<v;S++){const g=p[S],h=s[g.materialIndex],y=Math.max(g.start,m.start),_=Math.min(l.count,Math.min(g.start+g.count,m.start+m.count));for(let M=y,A=_;M<A;M+=3){const R=l.getX(M),C=l.getX(M+1),V=l.getX(M+2);a=Qs(this,h,e,r,c,d,f,R,C,V),a&&(a.faceIndex=Math.floor(M/3),a.face.materialIndex=g.materialIndex,i.push(a))}}else{const S=Math.max(0,m.start),v=Math.min(l.count,m.start+m.count);for(let g=S,h=v;g<h;g+=3){const y=l.getX(g),_=l.getX(g+1),M=l.getX(g+2);a=Qs(this,s,e,r,c,d,f,y,_,M),a&&(a.faceIndex=Math.floor(g/3),i.push(a))}}else if(u!==void 0)if(Array.isArray(s))for(let S=0,v=p.length;S<v;S++){const g=p[S],h=s[g.materialIndex],y=Math.max(g.start,m.start),_=Math.min(u.count,Math.min(g.start+g.count,m.start+m.count));for(let M=y,A=_;M<A;M+=3){const R=M,C=M+1,V=M+2;a=Qs(this,h,e,r,c,d,f,R,C,V),a&&(a.faceIndex=Math.floor(M/3),a.face.materialIndex=g.materialIndex,i.push(a))}}else{const S=Math.max(0,m.start),v=Math.min(u.count,m.start+m.count);for(let g=S,h=v;g<h;g+=3){const y=g,_=g+1,M=g+2;a=Qs(this,s,e,r,c,d,f,y,_,M),a&&(a.faceIndex=Math.floor(g/3),i.push(a))}}}}function H1(t,e,i,r,a,o,s,l){let u;if(e.side===mn?u=r.intersectTriangle(s,o,a,!0,l):u=r.intersectTriangle(a,o,s,e.side===Ci,l),u===null)return null;$s.copy(l),$s.applyMatrix4(t.matrixWorld);const c=i.ray.origin.distanceTo($s);return c<i.near||c>i.far?null:{distance:c,point:$s.clone(),object:t}}function Qs(t,e,i,r,a,o,s,l,u,c){t.getVertexPosition(l,sa),t.getVertexPosition(u,la),t.getVertexPosition(c,ua);const d=H1(t,e,i,r,sa,la,ua,Js);if(d){a&&(Ys.fromBufferAttribute(a,l),Zs.fromBufferAttribute(a,u),qs.fromBufferAttribute(a,c),d.uv=ri.getInterpolation(Js,sa,la,ua,Ys,Zs,qs,new Ge)),o&&(Ys.fromBufferAttribute(o,l),Zs.fromBufferAttribute(o,u),qs.fromBufferAttribute(o,c),d.uv1=ri.getInterpolation(Js,sa,la,ua,Ys,Zs,qs,new Ge),d.uv2=d.uv1),s&&(Sm.fromBufferAttribute(s,l),ym.fromBufferAttribute(s,u),_m.fromBufferAttribute(s,c),d.normal=ri.getInterpolation(Js,sa,la,ua,Sm,ym,_m,new ee),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const f={a:l,b:u,c,normal:new ee,materialIndex:0};ri.getNormal(sa,la,ua,f.normal),d.face=f}return d}class ps extends gn{constructor(e=1,i=1,r=1,a=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:i,depth:r,widthSegments:a,heightSegments:o,depthSegments:s};const l=this;a=Math.floor(a),o=Math.floor(o),s=Math.floor(s);const u=[],c=[],d=[],f=[];let p=0,m=0;S("z","y","x",-1,-1,r,i,e,s,o,0),S("z","y","x",1,-1,r,i,-e,s,o,1),S("x","z","y",1,1,e,r,i,a,s,2),S("x","z","y",1,-1,e,r,-i,a,s,3),S("x","y","z",1,-1,e,i,r,a,o,4),S("x","y","z",-1,-1,e,i,-r,a,o,5),this.setIndex(u),this.setAttribute("position",new bt(c,3)),this.setAttribute("normal",new bt(d,3)),this.setAttribute("uv",new bt(f,2));function S(v,g,h,y,_,M,A,R,C,V,X){const b=M/C,F=A/V,I=M/2,J=A/2,x=R/2,P=C+1,U=V+1;let N=0,z=0;const O=new ee;for(let $=0;$<U;$++){const H=$*F-J;for(let W=0;W<P;W++){const fe=W*b-I;O[v]=fe*y,O[g]=H*_,O[h]=x,c.push(O.x,O.y,O.z),O[v]=0,O[g]=0,O[h]=R>0?1:-1,d.push(O.x,O.y,O.z),f.push(W/C),f.push(1-$/V),N+=1}}for(let $=0;$<V;$++)for(let H=0;H<C;H++){const W=p+H+P*$,fe=p+H+P*($+1),q=p+(H+1)+P*($+1),ne=p+(H+1)+P*$;u.push(W,fe,ne),u.push(fe,q,ne),z+=6}l.addGroup(m,z,X),m+=z,p+=N}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ps(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ya(t){const e={};for(const i in t){e[i]={};for(const r in t[i]){const a=t[i][r];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[i][r]=null):e[i][r]=a.clone():Array.isArray(a)?e[i][r]=a.slice():e[i][r]=a}}return e}function tn(t){const e={};for(let i=0;i<t.length;i++){const r=Ya(t[i]);for(const a in r)e[a]=r[a]}return e}function W1(t){const e=[];for(let i=0;i<t.length;i++)e.push(t[i].clone());return e}function uv(t){return t.getRenderTarget()===null?t.outputColorSpace:ot.workingColorSpace}const V1={clone:Ya,merge:tn};var j1=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,K1=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class lr extends Ri{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=j1,this.fragmentShader=K1,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ya(e.uniforms),this.uniformsGroups=W1(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const i=super.toJSON(e);i.glslVersion=this.glslVersion,i.uniforms={};for(const a in this.uniforms){const s=this.uniforms[a].value;s&&s.isTexture?i.uniforms[a]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?i.uniforms[a]={type:"c",value:s.getHex()}:s&&s.isVector2?i.uniforms[a]={type:"v2",value:s.toArray()}:s&&s.isVector3?i.uniforms[a]={type:"v3",value:s.toArray()}:s&&s.isVector4?i.uniforms[a]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?i.uniforms[a]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?i.uniforms[a]={type:"m4",value:s.toArray()}:i.uniforms[a]={value:s}}Object.keys(this.defines).length>0&&(i.defines=this.defines),i.vertexShader=this.vertexShader,i.fragmentShader=this.fragmentShader,i.lights=this.lights,i.clipping=this.clipping;const r={};for(const a in this.extensions)this.extensions[a]===!0&&(r[a]=!0);return Object.keys(r).length>0&&(i.extensions=r),i}}class cv extends Jt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new _t,this.projectionMatrix=new _t,this.projectionMatrixInverse=new _t,this.coordinateSystem=xi}copy(e,i){return super.copy(e,i),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,i){super.updateWorldMatrix(e,i),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Oi=new ee,xm=new Ge,Mm=new Ge;class _n extends cv{constructor(e=50,i=1,r=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=a,this.focus=10,this.aspect=i,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,i){return super.copy(e,i),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const i=.5*this.getFilmHeight()/e;this.fov=rs*2*Math.atan(i),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Fo*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return rs*2*Math.atan(Math.tan(Fo*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,i,r){Oi.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Oi.x,Oi.y).multiplyScalar(-e/Oi.z),Oi.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Oi.x,Oi.y).multiplyScalar(-e/Oi.z)}getViewSize(e,i){return this.getViewBounds(e,xm,Mm),i.subVectors(Mm,xm)}setViewOffset(e,i,r,a,o,s){this.aspect=e/i,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=i,this.view.offsetX=r,this.view.offsetY=a,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let i=e*Math.tan(Fo*.5*this.fov)/this.zoom,r=2*i,a=this.aspect*r,o=-.5*a;const s=this.view;if(this.view!==null&&this.view.enabled){const u=s.fullWidth,c=s.fullHeight;o+=s.offsetX*a/u,i-=s.offsetY*r/c,a*=s.width/u,r*=s.height/c}const l=this.filmOffset;l!==0&&(o+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+a,i,i-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const i=super.toJSON(e);return i.object.fov=this.fov,i.object.zoom=this.zoom,i.object.near=this.near,i.object.far=this.far,i.object.focus=this.focus,i.object.aspect=this.aspect,this.view!==null&&(i.object.view=Object.assign({},this.view)),i.object.filmGauge=this.filmGauge,i.object.filmOffset=this.filmOffset,i}}const ca=-90,ha=1;class X1 extends Jt{constructor(e,i,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new _n(ca,ha,e,i);a.layers=this.layers,this.add(a);const o=new _n(ca,ha,e,i);o.layers=this.layers,this.add(o);const s=new _n(ca,ha,e,i);s.layers=this.layers,this.add(s);const l=new _n(ca,ha,e,i);l.layers=this.layers,this.add(l);const u=new _n(ca,ha,e,i);u.layers=this.layers,this.add(u);const c=new _n(ca,ha,e,i);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,i=this.children.concat(),[r,a,o,s,l,u]=i;for(const c of i)this.remove(c);if(e===xi)r.up.set(0,1,0),r.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===$l)r.up.set(0,-1,0),r.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of i)this.add(c),c.updateMatrixWorld()}update(e,i){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,s,l,u,c,d]=this.children,f=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),S=e.xr.enabled;e.xr.enabled=!1;const v=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,a),e.render(i,o),e.setRenderTarget(r,1,a),e.render(i,s),e.setRenderTarget(r,2,a),e.render(i,l),e.setRenderTarget(r,3,a),e.render(i,u),e.setRenderTarget(r,4,a),e.render(i,c),r.texture.generateMipmaps=v,e.setRenderTarget(r,5,a),e.render(i,d),e.setRenderTarget(f,p,m),e.xr.enabled=S,r.texture.needsPMREMUpdate=!0}}class hv extends on{constructor(e,i,r,a,o,s,l,u,c,d){e=e!==void 0?e:[],i=i!==void 0?i:ja,super(e,i,r,a,o,s,l,u,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Y1 extends Hr{constructor(e=1,i={}){super(e,e,i),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},a=[r,r,r,r,r,r];i.encoding!==void 0&&(Fa("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Nr?Rt:Dn),this.texture=new hv(a,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:un}fromEquirectangularTexture(e,i){this.texture.type=i.type,this.texture.colorSpace=i.colorSpace,this.texture.generateMipmaps=i.generateMipmaps,this.texture.minFilter=i.minFilter,this.texture.magFilter=i.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new ps(5,5,5),o=new lr({name:"CubemapFromEquirect",uniforms:Ya(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:mn,blending:ir});o.uniforms.tEquirect.value=i;const s=new Nn(a,o),l=i.minFilter;return i.minFilter===Rr&&(i.minFilter=un),new X1(1,10,this).update(e,s),i.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e,i,r,a){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(i,r,a);e.setRenderTarget(o)}}const bc=new ee,Z1=new ee,q1=new Je;class Gi{constructor(e=new ee(1,0,0),i=0){this.isPlane=!0,this.normal=e,this.constant=i}set(e,i){return this.normal.copy(e),this.constant=i,this}setComponents(e,i,r,a){return this.normal.set(e,i,r),this.constant=a,this}setFromNormalAndCoplanarPoint(e,i){return this.normal.copy(e),this.constant=-i.dot(this.normal),this}setFromCoplanarPoints(e,i,r){const a=bc.subVectors(r,i).cross(Z1.subVectors(e,i)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,i){return i.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,i){const r=e.delta(bc),a=this.normal.dot(r);if(a===0)return this.distanceToPoint(e.start)===0?i.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/a;return o<0||o>1?null:i.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const i=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return i<0&&r>0||r<0&&i>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,i){const r=i||q1.getNormalMatrix(e),a=this.coplanarPoint(bc).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-a.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const vr=new fs,el=new ee;class Zd{constructor(e=new Gi,i=new Gi,r=new Gi,a=new Gi,o=new Gi,s=new Gi){this.planes=[e,i,r,a,o,s]}set(e,i,r,a,o,s){const l=this.planes;return l[0].copy(e),l[1].copy(i),l[2].copy(r),l[3].copy(a),l[4].copy(o),l[5].copy(s),this}copy(e){const i=this.planes;for(let r=0;r<6;r++)i[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,i=xi){const r=this.planes,a=e.elements,o=a[0],s=a[1],l=a[2],u=a[3],c=a[4],d=a[5],f=a[6],p=a[7],m=a[8],S=a[9],v=a[10],g=a[11],h=a[12],y=a[13],_=a[14],M=a[15];if(r[0].setComponents(u-o,p-c,g-m,M-h).normalize(),r[1].setComponents(u+o,p+c,g+m,M+h).normalize(),r[2].setComponents(u+s,p+d,g+S,M+y).normalize(),r[3].setComponents(u-s,p-d,g-S,M-y).normalize(),r[4].setComponents(u-l,p-f,g-v,M-_).normalize(),i===xi)r[5].setComponents(u+l,p+f,g+v,M+_).normalize();else if(i===$l)r[5].setComponents(l,f,v,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+i);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),vr.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const i=e.geometry;i.boundingSphere===null&&i.computeBoundingSphere(),vr.copy(i.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(vr)}intersectsSprite(e){return vr.center.set(0,0,0),vr.radius=.7071067811865476,vr.applyMatrix4(e.matrixWorld),this.intersectsSphere(vr)}intersectsSphere(e){const i=this.planes,r=e.center,a=-e.radius;for(let o=0;o<6;o++)if(i[o].distanceToPoint(r)<a)return!1;return!0}intersectsBox(e){const i=this.planes;for(let r=0;r<6;r++){const a=i[r];if(el.x=a.normal.x>0?e.max.x:e.min.x,el.y=a.normal.y>0?e.max.y:e.min.y,el.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(el)<0)return!1}return!0}containsPoint(e){const i=this.planes;for(let r=0;r<6;r++)if(i[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function dv(){let t=null,e=!1,i=null,r=null;function a(o,s){i(o,s),r=t.requestAnimationFrame(a)}return{start:function(){e!==!0&&i!==null&&(r=t.requestAnimationFrame(a),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){i=o},setContext:function(o){t=o}}}function J1(t,e){const i=e.isWebGL2,r=new WeakMap;function a(c,d){const f=c.array,p=c.usage,m=f.byteLength,S=t.createBuffer();t.bindBuffer(d,S),t.bufferData(d,f,p),c.onUploadCallback();let v;if(f instanceof Float32Array)v=t.FLOAT;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(i)v=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)v=t.SHORT;else if(f instanceof Uint32Array)v=t.UNSIGNED_INT;else if(f instanceof Int32Array)v=t.INT;else if(f instanceof Int8Array)v=t.BYTE;else if(f instanceof Uint8Array)v=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)v=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:S,type:v,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version,size:m}}function o(c,d,f){const p=d.array,m=d._updateRange,S=d.updateRanges;if(t.bindBuffer(f,c),m.count===-1&&S.length===0&&t.bufferSubData(f,0,p),S.length!==0){for(let v=0,g=S.length;v<g;v++){const h=S[v];i?t.bufferSubData(f,h.start*p.BYTES_PER_ELEMENT,p,h.start,h.count):t.bufferSubData(f,h.start*p.BYTES_PER_ELEMENT,p.subarray(h.start,h.start+h.count))}d.clearUpdateRanges()}m.count!==-1&&(i?t.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):t.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),d.onUploadCallback()}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function l(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d&&(t.deleteBuffer(d.buffer),r.delete(c))}function u(c,d){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);if(f===void 0)r.set(c,a(c,d));else if(f.version<c.version){if(f.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");o(f.buffer,c,d),f.version=c.version}}return{get:s,remove:l,update:u}}class Tu extends gn{constructor(e=1,i=1,r=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:i,widthSegments:r,heightSegments:a};const o=e/2,s=i/2,l=Math.floor(r),u=Math.floor(a),c=l+1,d=u+1,f=e/l,p=i/u,m=[],S=[],v=[],g=[];for(let h=0;h<d;h++){const y=h*p-s;for(let _=0;_<c;_++){const M=_*f-o;S.push(M,-y,0),v.push(0,0,1),g.push(_/l),g.push(1-h/u)}}for(let h=0;h<u;h++)for(let y=0;y<l;y++){const _=y+c*h,M=y+c*(h+1),A=y+1+c*(h+1),R=y+1+c*h;m.push(_,M,R),m.push(M,A,R)}this.setIndex(m),this.setAttribute("position",new bt(S,3)),this.setAttribute("normal",new bt(v,3)),this.setAttribute("uv",new bt(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tu(e.width,e.height,e.widthSegments,e.heightSegments)}}var $1=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Q1=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,eM=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,tM=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,nM=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,iM=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,rM=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aM=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,oM=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,sM=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,lM=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,uM=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,cM=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,hM=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,dM=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,fM=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,pM=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,mM=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,gM=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,wM=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,vM=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,SM=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,yM=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,_M=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,xM=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,MM=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,TM=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,EM=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,bM=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,kM=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,CM="gl_FragColor = linearToOutputTexel( gl_FragColor );",AM=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,RM=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,PM=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,IM=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,DM=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,LM=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,NM=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,FM=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,UM=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,OM=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,BM=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,zM=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,GM=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,HM=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,WM=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,VM=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,jM=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,KM=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,XM=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,YM=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,ZM=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,qM=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,JM=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,$M=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,QM=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,eT=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,tT=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,nT=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,iT=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,rT=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,aT=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,oT=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,sT=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,lT=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,uT=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,cT=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,hT=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,dT=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,fT=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,pT=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,mT=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,gT=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,wT=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,vT=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ST=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,yT=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,_T=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,xT=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,MT=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,TT=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,ET=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,bT=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,kT=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,CT=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,AT=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,RT=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,PT=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,IT=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,DT=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,LT=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,NT=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,FT=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,UT=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,OT=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,BT=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,zT=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,GT=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,HT=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,WT=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,VT=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,jT=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,KT=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,XT=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,YT=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ZT=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,qT=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const JT=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,$T=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,QT=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,eE=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tE=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,nE=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,iE=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,rE=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,aE=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,oE=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,sE=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,lE=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,uE=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,cE=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,hE=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,dE=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fE=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pE=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mE=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,gE=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wE=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,vE=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,SE=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yE=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_E=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,xE=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ME=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,TE=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EE=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,bE=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,kE=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,CE=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,AE=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,RE=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ze={alphahash_fragment:$1,alphahash_pars_fragment:Q1,alphamap_fragment:eM,alphamap_pars_fragment:tM,alphatest_fragment:nM,alphatest_pars_fragment:iM,aomap_fragment:rM,aomap_pars_fragment:aM,batching_pars_vertex:oM,batching_vertex:sM,begin_vertex:lM,beginnormal_vertex:uM,bsdfs:cM,iridescence_fragment:hM,bumpmap_pars_fragment:dM,clipping_planes_fragment:fM,clipping_planes_pars_fragment:pM,clipping_planes_pars_vertex:mM,clipping_planes_vertex:gM,color_fragment:wM,color_pars_fragment:vM,color_pars_vertex:SM,color_vertex:yM,common:_M,cube_uv_reflection_fragment:xM,defaultnormal_vertex:MM,displacementmap_pars_vertex:TM,displacementmap_vertex:EM,emissivemap_fragment:bM,emissivemap_pars_fragment:kM,colorspace_fragment:CM,colorspace_pars_fragment:AM,envmap_fragment:RM,envmap_common_pars_fragment:PM,envmap_pars_fragment:IM,envmap_pars_vertex:DM,envmap_physical_pars_fragment:jM,envmap_vertex:LM,fog_vertex:NM,fog_pars_vertex:FM,fog_fragment:UM,fog_pars_fragment:OM,gradientmap_pars_fragment:BM,lightmap_fragment:zM,lightmap_pars_fragment:GM,lights_lambert_fragment:HM,lights_lambert_pars_fragment:WM,lights_pars_begin:VM,lights_toon_fragment:KM,lights_toon_pars_fragment:XM,lights_phong_fragment:YM,lights_phong_pars_fragment:ZM,lights_physical_fragment:qM,lights_physical_pars_fragment:JM,lights_fragment_begin:$M,lights_fragment_maps:QM,lights_fragment_end:eT,logdepthbuf_fragment:tT,logdepthbuf_pars_fragment:nT,logdepthbuf_pars_vertex:iT,logdepthbuf_vertex:rT,map_fragment:aT,map_pars_fragment:oT,map_particle_fragment:sT,map_particle_pars_fragment:lT,metalnessmap_fragment:uT,metalnessmap_pars_fragment:cT,morphcolor_vertex:hT,morphnormal_vertex:dT,morphtarget_pars_vertex:fT,morphtarget_vertex:pT,normal_fragment_begin:mT,normal_fragment_maps:gT,normal_pars_fragment:wT,normal_pars_vertex:vT,normal_vertex:ST,normalmap_pars_fragment:yT,clearcoat_normal_fragment_begin:_T,clearcoat_normal_fragment_maps:xT,clearcoat_pars_fragment:MT,iridescence_pars_fragment:TT,opaque_fragment:ET,packing:bT,premultiplied_alpha_fragment:kT,project_vertex:CT,dithering_fragment:AT,dithering_pars_fragment:RT,roughnessmap_fragment:PT,roughnessmap_pars_fragment:IT,shadowmap_pars_fragment:DT,shadowmap_pars_vertex:LT,shadowmap_vertex:NT,shadowmask_pars_fragment:FT,skinbase_vertex:UT,skinning_pars_vertex:OT,skinning_vertex:BT,skinnormal_vertex:zT,specularmap_fragment:GT,specularmap_pars_fragment:HT,tonemapping_fragment:WT,tonemapping_pars_fragment:VT,transmission_fragment:jT,transmission_pars_fragment:KT,uv_pars_fragment:XT,uv_pars_vertex:YT,uv_vertex:ZT,worldpos_vertex:qT,background_vert:JT,background_frag:$T,backgroundCube_vert:QT,backgroundCube_frag:eE,cube_vert:tE,cube_frag:nE,depth_vert:iE,depth_frag:rE,distanceRGBA_vert:aE,distanceRGBA_frag:oE,equirect_vert:sE,equirect_frag:lE,linedashed_vert:uE,linedashed_frag:cE,meshbasic_vert:hE,meshbasic_frag:dE,meshlambert_vert:fE,meshlambert_frag:pE,meshmatcap_vert:mE,meshmatcap_frag:gE,meshnormal_vert:wE,meshnormal_frag:vE,meshphong_vert:SE,meshphong_frag:yE,meshphysical_vert:_E,meshphysical_frag:xE,meshtoon_vert:ME,meshtoon_frag:TE,points_vert:EE,points_frag:bE,shadow_vert:kE,shadow_frag:CE,sprite_vert:AE,sprite_frag:RE},Ee={common:{diffuse:{value:new Xe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Je},alphaMap:{value:null},alphaMapTransform:{value:new Je},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Je}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Je}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Je}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Je},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Je},normalScale:{value:new Ge(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Je},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Je}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Je}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Je}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Xe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Xe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Je},alphaTest:{value:0},uvTransform:{value:new Je}},sprite:{diffuse:{value:new Xe(16777215)},opacity:{value:1},center:{value:new Ge(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Je},alphaMap:{value:null},alphaMapTransform:{value:new Je},alphaTest:{value:0}}},ni={basic:{uniforms:tn([Ee.common,Ee.specularmap,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.fog]),vertexShader:Ze.meshbasic_vert,fragmentShader:Ze.meshbasic_frag},lambert:{uniforms:tn([Ee.common,Ee.specularmap,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.fog,Ee.lights,{emissive:{value:new Xe(0)}}]),vertexShader:Ze.meshlambert_vert,fragmentShader:Ze.meshlambert_frag},phong:{uniforms:tn([Ee.common,Ee.specularmap,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.fog,Ee.lights,{emissive:{value:new Xe(0)},specular:{value:new Xe(1118481)},shininess:{value:30}}]),vertexShader:Ze.meshphong_vert,fragmentShader:Ze.meshphong_frag},standard:{uniforms:tn([Ee.common,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.roughnessmap,Ee.metalnessmap,Ee.fog,Ee.lights,{emissive:{value:new Xe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ze.meshphysical_vert,fragmentShader:Ze.meshphysical_frag},toon:{uniforms:tn([Ee.common,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.gradientmap,Ee.fog,Ee.lights,{emissive:{value:new Xe(0)}}]),vertexShader:Ze.meshtoon_vert,fragmentShader:Ze.meshtoon_frag},matcap:{uniforms:tn([Ee.common,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.fog,{matcap:{value:null}}]),vertexShader:Ze.meshmatcap_vert,fragmentShader:Ze.meshmatcap_frag},points:{uniforms:tn([Ee.points,Ee.fog]),vertexShader:Ze.points_vert,fragmentShader:Ze.points_frag},dashed:{uniforms:tn([Ee.common,Ee.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ze.linedashed_vert,fragmentShader:Ze.linedashed_frag},depth:{uniforms:tn([Ee.common,Ee.displacementmap]),vertexShader:Ze.depth_vert,fragmentShader:Ze.depth_frag},normal:{uniforms:tn([Ee.common,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,{opacity:{value:1}}]),vertexShader:Ze.meshnormal_vert,fragmentShader:Ze.meshnormal_frag},sprite:{uniforms:tn([Ee.sprite,Ee.fog]),vertexShader:Ze.sprite_vert,fragmentShader:Ze.sprite_frag},background:{uniforms:{uvTransform:{value:new Je},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ze.background_vert,fragmentShader:Ze.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Ze.backgroundCube_vert,fragmentShader:Ze.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ze.cube_vert,fragmentShader:Ze.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ze.equirect_vert,fragmentShader:Ze.equirect_frag},distanceRGBA:{uniforms:tn([Ee.common,Ee.displacementmap,{referencePosition:{value:new ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ze.distanceRGBA_vert,fragmentShader:Ze.distanceRGBA_frag},shadow:{uniforms:tn([Ee.lights,Ee.fog,{color:{value:new Xe(0)},opacity:{value:1}}]),vertexShader:Ze.shadow_vert,fragmentShader:Ze.shadow_frag}};ni.physical={uniforms:tn([ni.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Je},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Je},clearcoatNormalScale:{value:new Ge(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Je},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Je},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Je},sheen:{value:0},sheenColor:{value:new Xe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Je},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Je},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Je},transmissionSamplerSize:{value:new Ge},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Je},attenuationDistance:{value:0},attenuationColor:{value:new Xe(0)},specularColor:{value:new Xe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Je},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Je},anisotropyVector:{value:new Ge},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Je}}]),vertexShader:Ze.meshphysical_vert,fragmentShader:Ze.meshphysical_frag};const tl={r:0,b:0,g:0};function PE(t,e,i,r,a,o,s){const l=new Xe(0);let u=o===!0?0:1,c,d,f=null,p=0,m=null;function S(g,h){let y=!1,_=h.isScene===!0?h.background:null;_&&_.isTexture&&(_=(h.backgroundBlurriness>0?i:e).get(_)),_===null?v(l,u):_&&_.isColor&&(v(_,1),y=!0);const M=t.xr.getEnvironmentBlendMode();M==="additive"?r.buffers.color.setClear(0,0,0,1,s):M==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(t.autoClear||y)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),_&&(_.isCubeTexture||_.mapping===yu)?(d===void 0&&(d=new Nn(new ps(1,1,1),new lr({name:"BackgroundCubeMaterial",uniforms:Ya(ni.backgroundCube.uniforms),vertexShader:ni.backgroundCube.vertexShader,fragmentShader:ni.backgroundCube.fragmentShader,side:mn,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(A,R,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(d)),d.material.uniforms.envMap.value=_,d.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=h.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=h.backgroundIntensity,d.material.toneMapped=ot.getTransfer(_.colorSpace)!==ct,(f!==_||p!==_.version||m!==t.toneMapping)&&(d.material.needsUpdate=!0,f=_,p=_.version,m=t.toneMapping),d.layers.enableAll(),g.unshift(d,d.geometry,d.material,0,0,null)):_&&_.isTexture&&(c===void 0&&(c=new Nn(new Tu(2,2),new lr({name:"BackgroundMaterial",uniforms:Ya(ni.background.uniforms),vertexShader:ni.background.vertexShader,fragmentShader:ni.background.fragmentShader,side:Ci,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(c)),c.material.uniforms.t2D.value=_,c.material.uniforms.backgroundIntensity.value=h.backgroundIntensity,c.material.toneMapped=ot.getTransfer(_.colorSpace)!==ct,_.matrixAutoUpdate===!0&&_.updateMatrix(),c.material.uniforms.uvTransform.value.copy(_.matrix),(f!==_||p!==_.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,f=_,p=_.version,m=t.toneMapping),c.layers.enableAll(),g.unshift(c,c.geometry,c.material,0,0,null))}function v(g,h){g.getRGB(tl,uv(t)),r.buffers.color.setClear(tl.r,tl.g,tl.b,h,s)}return{getClearColor:function(){return l},setClearColor:function(g,h=1){l.set(g),u=h,v(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(g){u=g,v(l,u)},render:S}}function IE(t,e,i,r){const a=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||o!==null,l={},u=g(null);let c=u,d=!1;function f(x,P,U,N,z){let O=!1;if(s){const $=v(N,U,P);c!==$&&(c=$,m(c.object)),O=h(x,N,U,z),O&&y(x,N,U,z)}else{const $=P.wireframe===!0;(c.geometry!==N.id||c.program!==U.id||c.wireframe!==$)&&(c.geometry=N.id,c.program=U.id,c.wireframe=$,O=!0)}z!==null&&i.update(z,t.ELEMENT_ARRAY_BUFFER),(O||d)&&(d=!1,V(x,P,U,N),z!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i.get(z).buffer))}function p(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function m(x){return r.isWebGL2?t.bindVertexArray(x):o.bindVertexArrayOES(x)}function S(x){return r.isWebGL2?t.deleteVertexArray(x):o.deleteVertexArrayOES(x)}function v(x,P,U){const N=U.wireframe===!0;let z=l[x.id];z===void 0&&(z={},l[x.id]=z);let O=z[P.id];O===void 0&&(O={},z[P.id]=O);let $=O[N];return $===void 0&&($=g(p()),O[N]=$),$}function g(x){const P=[],U=[],N=[];for(let z=0;z<a;z++)P[z]=0,U[z]=0,N[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:P,enabledAttributes:U,attributeDivisors:N,object:x,attributes:{},index:null}}function h(x,P,U,N){const z=c.attributes,O=P.attributes;let $=0;const H=U.getAttributes();for(const W in H)if(H[W].location>=0){const q=z[W];let ne=O[W];if(ne===void 0&&(W==="instanceMatrix"&&x.instanceMatrix&&(ne=x.instanceMatrix),W==="instanceColor"&&x.instanceColor&&(ne=x.instanceColor)),q===void 0||q.attribute!==ne||ne&&q.data!==ne.data)return!0;$++}return c.attributesNum!==$||c.index!==N}function y(x,P,U,N){const z={},O=P.attributes;let $=0;const H=U.getAttributes();for(const W in H)if(H[W].location>=0){let q=O[W];q===void 0&&(W==="instanceMatrix"&&x.instanceMatrix&&(q=x.instanceMatrix),W==="instanceColor"&&x.instanceColor&&(q=x.instanceColor));const ne={};ne.attribute=q,q&&q.data&&(ne.data=q.data),z[W]=ne,$++}c.attributes=z,c.attributesNum=$,c.index=N}function _(){const x=c.newAttributes;for(let P=0,U=x.length;P<U;P++)x[P]=0}function M(x){A(x,0)}function A(x,P){const U=c.newAttributes,N=c.enabledAttributes,z=c.attributeDivisors;U[x]=1,N[x]===0&&(t.enableVertexAttribArray(x),N[x]=1),z[x]!==P&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](x,P),z[x]=P)}function R(){const x=c.newAttributes,P=c.enabledAttributes;for(let U=0,N=P.length;U<N;U++)P[U]!==x[U]&&(t.disableVertexAttribArray(U),P[U]=0)}function C(x,P,U,N,z,O,$){$===!0?t.vertexAttribIPointer(x,P,U,z,O):t.vertexAttribPointer(x,P,U,N,z,O)}function V(x,P,U,N){if(r.isWebGL2===!1&&(x.isInstancedMesh||N.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const z=N.attributes,O=U.getAttributes(),$=P.defaultAttributeValues;for(const H in O){const W=O[H];if(W.location>=0){let fe=z[H];if(fe===void 0&&(H==="instanceMatrix"&&x.instanceMatrix&&(fe=x.instanceMatrix),H==="instanceColor"&&x.instanceColor&&(fe=x.instanceColor)),fe!==void 0){const q=fe.normalized,ne=fe.itemSize,se=i.get(fe);if(se===void 0)continue;const Me=se.buffer,we=se.type,Se=se.bytesPerElement,Ie=r.isWebGL2===!0&&(we===t.INT||we===t.UNSIGNED_INT||fe.gpuType===V0);if(fe.isInterleavedBufferAttribute){const ke=fe.data,ie=ke.stride,Qe=fe.offset;if(ke.isInstancedInterleavedBuffer){for(let T=0;T<W.locationSize;T++)A(W.location+T,ke.meshPerAttribute);x.isInstancedMesh!==!0&&N._maxInstanceCount===void 0&&(N._maxInstanceCount=ke.meshPerAttribute*ke.count)}else for(let T=0;T<W.locationSize;T++)M(W.location+T);t.bindBuffer(t.ARRAY_BUFFER,Me);for(let T=0;T<W.locationSize;T++)C(W.location+T,ne/W.locationSize,we,q,ie*Se,(Qe+ne/W.locationSize*T)*Se,Ie)}else{if(fe.isInstancedBufferAttribute){for(let ke=0;ke<W.locationSize;ke++)A(W.location+ke,fe.meshPerAttribute);x.isInstancedMesh!==!0&&N._maxInstanceCount===void 0&&(N._maxInstanceCount=fe.meshPerAttribute*fe.count)}else for(let ke=0;ke<W.locationSize;ke++)M(W.location+ke);t.bindBuffer(t.ARRAY_BUFFER,Me);for(let ke=0;ke<W.locationSize;ke++)C(W.location+ke,ne/W.locationSize,we,q,ne*Se,ne/W.locationSize*ke*Se,Ie)}}else if($!==void 0){const q=$[H];if(q!==void 0)switch(q.length){case 2:t.vertexAttrib2fv(W.location,q);break;case 3:t.vertexAttrib3fv(W.location,q);break;case 4:t.vertexAttrib4fv(W.location,q);break;default:t.vertexAttrib1fv(W.location,q)}}}}R()}function X(){I();for(const x in l){const P=l[x];for(const U in P){const N=P[U];for(const z in N)S(N[z].object),delete N[z];delete P[U]}delete l[x]}}function b(x){if(l[x.id]===void 0)return;const P=l[x.id];for(const U in P){const N=P[U];for(const z in N)S(N[z].object),delete N[z];delete P[U]}delete l[x.id]}function F(x){for(const P in l){const U=l[P];if(U[x.id]===void 0)continue;const N=U[x.id];for(const z in N)S(N[z].object),delete N[z];delete U[x.id]}}function I(){J(),d=!0,c!==u&&(c=u,m(c.object))}function J(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:f,reset:I,resetDefaultState:J,dispose:X,releaseStatesOfGeometry:b,releaseStatesOfProgram:F,initAttributes:_,enableAttribute:M,disableUnusedAttributes:R}}function DE(t,e,i,r){const a=r.isWebGL2;let o;function s(d){o=d}function l(d,f){t.drawArrays(o,d,f),i.update(f,o,1)}function u(d,f,p){if(p===0)return;let m,S;if(a)m=t,S="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),S="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[S](o,d,f,p),i.update(f,o,p)}function c(d,f,p){if(p===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let S=0;S<p;S++)this.render(d[S],f[S]);else{m.multiDrawArraysWEBGL(o,d,0,f,0,p);let S=0;for(let v=0;v<p;v++)S+=f[v];i.update(S,o,1)}}this.setMode=s,this.render=l,this.renderInstances=u,this.renderMultiDraw=c}function LE(t,e,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(C){if(C==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return C==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let l=i.precision!==void 0?i.precision:"highp";const u=o(l);u!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",u,"instead."),l=u);const c=s||e.has("WEBGL_draw_buffers"),d=i.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),S=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),v=t.getParameter(t.MAX_VERTEX_ATTRIBS),g=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),h=t.getParameter(t.MAX_VARYING_VECTORS),y=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),_=p>0,M=s||e.has("OES_texture_float"),A=_&&M,R=s?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:a,getMaxPrecision:o,precision:l,logarithmicDepthBuffer:d,maxTextures:f,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:S,maxAttributes:v,maxVertexUniforms:g,maxVaryings:h,maxFragmentUniforms:y,vertexTextures:_,floatFragmentTextures:M,floatVertexTextures:A,maxSamples:R}}function NE(t){const e=this;let i=null,r=0,a=!1,o=!1;const s=new Gi,l=new Je,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||r!==0||a;return a=p,r=f.length,m},this.beginShadows=function(){o=!0,d(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(f,p){i=d(f,p,0)},this.setState=function(f,p,m){const S=f.clippingPlanes,v=f.clipIntersection,g=f.clipShadows,h=t.get(f);if(!a||S===null||S.length===0||o&&!g)o?d(null):c();else{const y=o?0:r,_=y*4;let M=h.clippingState||null;u.value=M,M=d(S,p,_,m);for(let A=0;A!==_;++A)M[A]=i[A];h.clippingState=M,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=y}};function c(){u.value!==i&&(u.value=i,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(f,p,m,S){const v=f!==null?f.length:0;let g=null;if(v!==0){if(g=u.value,S!==!0||g===null){const h=m+v*4,y=p.matrixWorldInverse;l.getNormalMatrix(y),(g===null||g.length<h)&&(g=new Float32Array(h));for(let _=0,M=m;_!==v;++_,M+=4)s.copy(f[_]).applyMatrix4(y,l),s.normal.toArray(g,M),g[M+3]=s.constant}u.value=g,u.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,g}}function FE(t){let e=new WeakMap;function i(s,l){return l===Oh?s.mapping=ja:l===Bh&&(s.mapping=Ka),s}function r(s){if(s&&s.isTexture){const l=s.mapping;if(l===Oh||l===Bh)if(e.has(s)){const u=e.get(s).texture;return i(u,s.mapping)}else{const u=s.image;if(u&&u.height>0){const c=new Y1(u.height);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",a),i(c.texture,s.mapping)}else return null}}return s}function a(s){const l=s.target;l.removeEventListener("dispose",a);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class UE extends cv{constructor(e=-1,i=1,r=1,a=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=i,this.top=r,this.bottom=a,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,i){return super.copy(e,i),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,i,r,a,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=i,this.view.offsetX=r,this.view.offsetY=a,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),i=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let o=r-e,s=r+e,l=a+i,u=a-i;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,l-=d*this.view.offsetY,u=l-d*this.view.height}this.projectionMatrix.makeOrthographic(o,s,l,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const i=super.toJSON(e);return i.object.zoom=this.zoom,i.object.left=this.left,i.object.right=this.right,i.object.top=this.top,i.object.bottom=this.bottom,i.object.near=this.near,i.object.far=this.far,this.view!==null&&(i.object.view=Object.assign({},this.view)),i}}const ba=4,Tm=[.125,.215,.35,.446,.526,.582],Tr=20,kc=new UE,Em=new Xe;let Cc=null,Ac=0,Rc=0;const xr=(1+Math.sqrt(5))/2,da=1/xr,bm=[new ee(1,1,1),new ee(-1,1,1),new ee(1,1,-1),new ee(-1,1,-1),new ee(0,xr,da),new ee(0,xr,-da),new ee(da,0,xr),new ee(-da,0,xr),new ee(xr,da,0),new ee(-xr,da,0)];class km{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,i=0,r=.1,a=100){Cc=this._renderer.getRenderTarget(),Ac=this._renderer.getActiveCubeFace(),Rc=this._renderer.getActiveMipmapLevel(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,a,o),i>0&&this._blur(o,0,0,i),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,i=null){return this._fromTexture(e,i)}fromCubemap(e,i=null){return this._fromTexture(e,i)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Rm(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Am(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Cc,Ac,Rc),e.scissorTest=!1,nl(e,0,0,e.width,e.height)}_fromTexture(e,i){e.mapping===ja||e.mapping===Ka?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Cc=this._renderer.getRenderTarget(),Ac=this._renderer.getActiveCubeFace(),Rc=this._renderer.getActiveMipmapLevel();const r=i||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),i=4*this._cubeSize,r={magFilter:un,minFilter:un,generateMipmaps:!1,type:is,format:Xn,colorSpace:Ai,depthBuffer:!1},a=Cm(e,i,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==i){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Cm(e,i,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=OE(o)),this._blurMaterial=BE(o,e,i)}return a}_compileMaterial(e){const i=new Nn(this._lodPlanes[0],e);this._renderer.compile(i,kc)}_sceneToCubeUV(e,i,r,a){const l=new _n(90,1,i,r),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,f=d.autoClear,p=d.toneMapping;d.getClearColor(Em),d.toneMapping=rr,d.autoClear=!1;const m=new ov({name:"PMREM.Background",side:mn,depthWrite:!1,depthTest:!1}),S=new Nn(new ps,m);let v=!1;const g=e.background;g?g.isColor&&(m.color.copy(g),e.background=null,v=!0):(m.color.copy(Em),v=!0);for(let h=0;h<6;h++){const y=h%3;y===0?(l.up.set(0,u[h],0),l.lookAt(c[h],0,0)):y===1?(l.up.set(0,0,u[h]),l.lookAt(0,c[h],0)):(l.up.set(0,u[h],0),l.lookAt(0,0,c[h]));const _=this._cubeSize;nl(a,y*_,h>2?_:0,_,_),d.setRenderTarget(a),v&&d.render(S,l),d.render(e,l)}S.geometry.dispose(),S.material.dispose(),d.toneMapping=p,d.autoClear=f,e.background=g}_textureToCubeUV(e,i){const r=this._renderer,a=e.mapping===ja||e.mapping===Ka;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=Rm()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Am());const o=a?this._cubemapMaterial:this._equirectMaterial,s=new Nn(this._lodPlanes[0],o),l=o.uniforms;l.envMap.value=e;const u=this._cubeSize;nl(i,0,0,3*u,2*u),r.setRenderTarget(i),r.render(s,kc)}_applyPMREM(e){const i=this._renderer,r=i.autoClear;i.autoClear=!1;for(let a=1;a<this._lodPlanes.length;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),s=bm[(a-1)%bm.length];this._blur(e,a-1,a,o,s)}i.autoClear=r}_blur(e,i,r,a,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,i,r,a,"latitudinal",o),this._halfBlur(s,e,r,r,a,"longitudinal",o)}_halfBlur(e,i,r,a,o,s,l){const u=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=new Nn(this._lodPlanes[a],c),p=c.uniforms,m=this._sizeLods[r]-1,S=isFinite(o)?Math.PI/(2*m):2*Math.PI/(2*Tr-1),v=o/S,g=isFinite(o)?1+Math.floor(d*v):Tr;g>Tr&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${Tr}`);const h=[];let y=0;for(let C=0;C<Tr;++C){const V=C/v,X=Math.exp(-V*V/2);h.push(X),C===0?y+=X:C<g&&(y+=2*X)}for(let C=0;C<h.length;C++)h[C]=h[C]/y;p.envMap.value=e.texture,p.samples.value=g,p.weights.value=h,p.latitudinal.value=s==="latitudinal",l&&(p.poleAxis.value=l);const{_lodMax:_}=this;p.dTheta.value=S,p.mipInt.value=_-r;const M=this._sizeLods[a],A=3*M*(a>_-ba?a-_+ba:0),R=4*(this._cubeSize-M);nl(i,A,R,3*M,2*M),u.setRenderTarget(i),u.render(f,kc)}}function OE(t){const e=[],i=[],r=[];let a=t;const o=t-ba+1+Tm.length;for(let s=0;s<o;s++){const l=Math.pow(2,a);i.push(l);let u=1/l;s>t-ba?u=Tm[s-t+ba-1]:s===0&&(u=0),r.push(u);const c=1/(l-2),d=-c,f=1+c,p=[d,d,f,d,f,f,d,d,f,f,d,f],m=6,S=6,v=3,g=2,h=1,y=new Float32Array(v*S*m),_=new Float32Array(g*S*m),M=new Float32Array(h*S*m);for(let R=0;R<m;R++){const C=R%3*2/3-1,V=R>2?0:-1,X=[C,V,0,C+2/3,V,0,C+2/3,V+1,0,C,V,0,C+2/3,V+1,0,C,V+1,0];y.set(X,v*S*R),_.set(p,g*S*R);const b=[R,R,R,R,R,R];M.set(b,h*S*R)}const A=new gn;A.setAttribute("position",new qn(y,v)),A.setAttribute("uv",new qn(_,g)),A.setAttribute("faceIndex",new qn(M,h)),e.push(A),a>ba&&a--}return{lodPlanes:e,sizeLods:i,sigmas:r}}function Cm(t,e,i){const r=new Hr(t,e,i);return r.texture.mapping=yu,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function nl(t,e,i,r,a){t.viewport.set(e,i,r,a),t.scissor.set(e,i,r,a)}function BE(t,e,i){const r=new Float32Array(Tr),a=new ee(0,1,0);return new lr({name:"SphericalGaussianBlur",defines:{n:Tr,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/i,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:qd(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ir,depthTest:!1,depthWrite:!1})}function Am(){return new lr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:qd(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ir,depthTest:!1,depthWrite:!1})}function Rm(){return new lr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:qd(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ir,depthTest:!1,depthWrite:!1})}function qd(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function zE(t){let e=new WeakMap,i=null;function r(l){if(l&&l.isTexture){const u=l.mapping,c=u===Oh||u===Bh,d=u===ja||u===Ka;if(c||d)if(l.isRenderTargetTexture&&l.needsPMREMUpdate===!0){l.needsPMREMUpdate=!1;let f=e.get(l);return i===null&&(i=new km(t)),f=c?i.fromEquirectangular(l,f):i.fromCubemap(l,f),e.set(l,f),f.texture}else{if(e.has(l))return e.get(l).texture;{const f=l.image;if(c&&f&&f.height>0||d&&f&&a(f)){i===null&&(i=new km(t));const p=c?i.fromEquirectangular(l):i.fromCubemap(l);return e.set(l,p),l.addEventListener("dispose",o),p.texture}else return null}}}return l}function a(l){let u=0;const c=6;for(let d=0;d<c;d++)l[d]!==void 0&&u++;return u===c}function o(l){const u=l.target;u.removeEventListener("dispose",o);const c=e.get(u);c!==void 0&&(e.delete(u),c.dispose())}function s(){e=new WeakMap,i!==null&&(i.dispose(),i=null)}return{get:r,dispose:s}}function GE(t){const e={};function i(r){if(e[r]!==void 0)return e[r];let a;switch(r){case"WEBGL_depth_texture":a=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=t.getExtension(r)}return e[r]=a,a}return{has:function(r){return i(r)!==null},init:function(r){r.isWebGL2?(i("EXT_color_buffer_float"),i("WEBGL_clip_cull_distance")):(i("WEBGL_depth_texture"),i("OES_texture_float"),i("OES_texture_half_float"),i("OES_texture_half_float_linear"),i("OES_standard_derivatives"),i("OES_element_index_uint"),i("OES_vertex_array_object"),i("ANGLE_instanced_arrays")),i("OES_texture_float_linear"),i("EXT_color_buffer_half_float"),i("WEBGL_multisampled_render_to_texture")},get:function(r){const a=i(r);return a===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),a}}}function HE(t,e,i,r){const a={},o=new WeakMap;function s(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const S in p.attributes)e.remove(p.attributes[S]);for(const S in p.morphAttributes){const v=p.morphAttributes[S];for(let g=0,h=v.length;g<h;g++)e.remove(v[g])}p.removeEventListener("dispose",s),delete a[p.id];const m=o.get(p);m&&(e.remove(m),o.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,i.memory.geometries--}function l(f,p){return a[p.id]===!0||(p.addEventListener("dispose",s),a[p.id]=!0,i.memory.geometries++),p}function u(f){const p=f.attributes;for(const S in p)e.update(p[S],t.ARRAY_BUFFER);const m=f.morphAttributes;for(const S in m){const v=m[S];for(let g=0,h=v.length;g<h;g++)e.update(v[g],t.ARRAY_BUFFER)}}function c(f){const p=[],m=f.index,S=f.attributes.position;let v=0;if(m!==null){const y=m.array;v=m.version;for(let _=0,M=y.length;_<M;_+=3){const A=y[_+0],R=y[_+1],C=y[_+2];p.push(A,R,R,C,C,A)}}else if(S!==void 0){const y=S.array;v=S.version;for(let _=0,M=y.length/3-1;_<M;_+=3){const A=_+0,R=_+1,C=_+2;p.push(A,R,R,C,C,A)}}else return;const g=new(ev(p)?lv:sv)(p,1);g.version=v;const h=o.get(f);h&&e.remove(h),o.set(f,g)}function d(f){const p=o.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&c(f)}else c(f);return o.get(f)}return{get:l,update:u,getWireframeAttribute:d}}function WE(t,e,i,r){const a=r.isWebGL2;let o;function s(m){o=m}let l,u;function c(m){l=m.type,u=m.bytesPerElement}function d(m,S){t.drawElements(o,S,l,m*u),i.update(S,o,1)}function f(m,S,v){if(v===0)return;let g,h;if(a)g=t,h="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[h](o,S,l,m*u,v),i.update(S,o,v)}function p(m,S,v){if(v===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let h=0;h<v;h++)this.render(m[h]/u,S[h]);else{g.multiDrawElementsWEBGL(o,S,0,l,m,0,v);let h=0;for(let y=0;y<v;y++)h+=S[y];i.update(h,o,1)}}this.setMode=s,this.setIndex=c,this.render=d,this.renderInstances=f,this.renderMultiDraw=p}function VE(t){const e={geometries:0,textures:0},i={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,l){switch(i.calls++,s){case t.TRIANGLES:i.triangles+=l*(o/3);break;case t.LINES:i.lines+=l*(o/2);break;case t.LINE_STRIP:i.lines+=l*(o-1);break;case t.LINE_LOOP:i.lines+=l*o;break;case t.POINTS:i.points+=l*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function a(){i.calls=0,i.triangles=0,i.points=0,i.lines=0}return{memory:e,render:i,programs:null,autoReset:!0,reset:a,update:r}}function jE(t,e){return t[0]-e[0]}function KE(t,e){return Math.abs(e[1])-Math.abs(t[1])}function XE(t,e,i){const r={},a=new Float32Array(8),o=new WeakMap,s=new pt,l=[];for(let c=0;c<8;c++)l[c]=[c,0];function u(c,d,f){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const S=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,v=S!==void 0?S.length:0;let g=o.get(d);if(g===void 0||g.count!==v){let P=function(){J.dispose(),o.delete(d),d.removeEventListener("dispose",P)};var m=P;g!==void 0&&g.texture.dispose();const _=d.morphAttributes.position!==void 0,M=d.morphAttributes.normal!==void 0,A=d.morphAttributes.color!==void 0,R=d.morphAttributes.position||[],C=d.morphAttributes.normal||[],V=d.morphAttributes.color||[];let X=0;_===!0&&(X=1),M===!0&&(X=2),A===!0&&(X=3);let b=d.attributes.position.count*X,F=1;b>e.maxTextureSize&&(F=Math.ceil(b/e.maxTextureSize),b=e.maxTextureSize);const I=new Float32Array(b*F*4*v),J=new iv(I,b,F,v);J.type=Si,J.needsUpdate=!0;const x=X*4;for(let U=0;U<v;U++){const N=R[U],z=C[U],O=V[U],$=b*F*4*U;for(let H=0;H<N.count;H++){const W=H*x;_===!0&&(s.fromBufferAttribute(N,H),I[$+W+0]=s.x,I[$+W+1]=s.y,I[$+W+2]=s.z,I[$+W+3]=0),M===!0&&(s.fromBufferAttribute(z,H),I[$+W+4]=s.x,I[$+W+5]=s.y,I[$+W+6]=s.z,I[$+W+7]=0),A===!0&&(s.fromBufferAttribute(O,H),I[$+W+8]=s.x,I[$+W+9]=s.y,I[$+W+10]=s.z,I[$+W+11]=O.itemSize===4?s.w:1)}}g={count:v,texture:J,size:new Ge(b,F)},o.set(d,g),d.addEventListener("dispose",P)}let h=0;for(let _=0;_<p.length;_++)h+=p[_];const y=d.morphTargetsRelative?1:1-h;f.getUniforms().setValue(t,"morphTargetBaseInfluence",y),f.getUniforms().setValue(t,"morphTargetInfluences",p),f.getUniforms().setValue(t,"morphTargetsTexture",g.texture,i),f.getUniforms().setValue(t,"morphTargetsTextureSize",g.size)}else{const S=p===void 0?0:p.length;let v=r[d.id];if(v===void 0||v.length!==S){v=[];for(let M=0;M<S;M++)v[M]=[M,0];r[d.id]=v}for(let M=0;M<S;M++){const A=v[M];A[0]=M,A[1]=p[M]}v.sort(KE);for(let M=0;M<8;M++)M<S&&v[M][1]?(l[M][0]=v[M][0],l[M][1]=v[M][1]):(l[M][0]=Number.MAX_SAFE_INTEGER,l[M][1]=0);l.sort(jE);const g=d.morphAttributes.position,h=d.morphAttributes.normal;let y=0;for(let M=0;M<8;M++){const A=l[M],R=A[0],C=A[1];R!==Number.MAX_SAFE_INTEGER&&C?(g&&d.getAttribute("morphTarget"+M)!==g[R]&&d.setAttribute("morphTarget"+M,g[R]),h&&d.getAttribute("morphNormal"+M)!==h[R]&&d.setAttribute("morphNormal"+M,h[R]),a[M]=C,y+=C):(g&&d.hasAttribute("morphTarget"+M)===!0&&d.deleteAttribute("morphTarget"+M),h&&d.hasAttribute("morphNormal"+M)===!0&&d.deleteAttribute("morphNormal"+M),a[M]=0)}const _=d.morphTargetsRelative?1:1-y;f.getUniforms().setValue(t,"morphTargetBaseInfluence",_),f.getUniforms().setValue(t,"morphTargetInfluences",a)}}return{update:u}}function YE(t,e,i,r){let a=new WeakMap;function o(u){const c=r.render.frame,d=u.geometry,f=e.get(u,d);if(a.get(f)!==c&&(e.update(f),a.set(f,c)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),a.get(u)!==c&&(i.update(u.instanceMatrix,t.ARRAY_BUFFER),u.instanceColor!==null&&i.update(u.instanceColor,t.ARRAY_BUFFER),a.set(u,c))),u.isSkinnedMesh){const p=u.skeleton;a.get(p)!==c&&(p.update(),a.set(p,c))}return f}function s(){a=new WeakMap}function l(u){const c=u.target;c.removeEventListener("dispose",l),i.remove(c.instanceMatrix),c.instanceColor!==null&&i.remove(c.instanceColor)}return{update:o,dispose:s}}class fv extends on{constructor(e,i,r,a,o,s,l,u,c,d){if(d=d!==void 0?d:Lr,d!==Lr&&d!==Xa)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&d===Lr&&(r=Xi),r===void 0&&d===Xa&&(r=Dr),super(null,a,o,s,l,u,d,r,c),this.isDepthTexture=!0,this.image={width:e,height:i},this.magFilter=l!==void 0?l:rn,this.minFilter=u!==void 0?u:rn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const i=super.toJSON(e);return this.compareFunction!==null&&(i.compareFunction=this.compareFunction),i}}const pv=new on,mv=new fv(1,1);mv.compareFunction=Q0;const gv=new iv,wv=new P1,vv=new hv,Pm=[],Im=[],Dm=new Float32Array(16),Lm=new Float32Array(9),Nm=new Float32Array(4);function to(t,e,i){const r=t[0];if(r<=0||r>0)return t;const a=e*i;let o=Pm[a];if(o===void 0&&(o=new Float32Array(a),Pm[a]=o),e!==0){r.toArray(o,0);for(let s=1,l=0;s!==e;++s)l+=i,t[s].toArray(o,l)}return o}function It(t,e){if(t.length!==e.length)return!1;for(let i=0,r=t.length;i<r;i++)if(t[i]!==e[i])return!1;return!0}function Dt(t,e){for(let i=0,r=e.length;i<r;i++)t[i]=e[i]}function Eu(t,e){let i=Im[e];i===void 0&&(i=new Int32Array(e),Im[e]=i);for(let r=0;r!==e;++r)i[r]=t.allocateTextureUnit();return i}function ZE(t,e){const i=this.cache;i[0]!==e&&(t.uniform1f(this.addr,e),i[0]=e)}function qE(t,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(It(i,e))return;t.uniform2fv(this.addr,e),Dt(i,e)}}function JE(t,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else if(e.r!==void 0)(i[0]!==e.r||i[1]!==e.g||i[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),i[0]=e.r,i[1]=e.g,i[2]=e.b);else{if(It(i,e))return;t.uniform3fv(this.addr,e),Dt(i,e)}}function $E(t,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z||i[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(It(i,e))return;t.uniform4fv(this.addr,e),Dt(i,e)}}function QE(t,e){const i=this.cache,r=e.elements;if(r===void 0){if(It(i,e))return;t.uniformMatrix2fv(this.addr,!1,e),Dt(i,e)}else{if(It(i,r))return;Nm.set(r),t.uniformMatrix2fv(this.addr,!1,Nm),Dt(i,r)}}function eb(t,e){const i=this.cache,r=e.elements;if(r===void 0){if(It(i,e))return;t.uniformMatrix3fv(this.addr,!1,e),Dt(i,e)}else{if(It(i,r))return;Lm.set(r),t.uniformMatrix3fv(this.addr,!1,Lm),Dt(i,r)}}function tb(t,e){const i=this.cache,r=e.elements;if(r===void 0){if(It(i,e))return;t.uniformMatrix4fv(this.addr,!1,e),Dt(i,e)}else{if(It(i,r))return;Dm.set(r),t.uniformMatrix4fv(this.addr,!1,Dm),Dt(i,r)}}function nb(t,e){const i=this.cache;i[0]!==e&&(t.uniform1i(this.addr,e),i[0]=e)}function ib(t,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(It(i,e))return;t.uniform2iv(this.addr,e),Dt(i,e)}}function rb(t,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else{if(It(i,e))return;t.uniform3iv(this.addr,e),Dt(i,e)}}function ab(t,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z||i[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(It(i,e))return;t.uniform4iv(this.addr,e),Dt(i,e)}}function ob(t,e){const i=this.cache;i[0]!==e&&(t.uniform1ui(this.addr,e),i[0]=e)}function sb(t,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(It(i,e))return;t.uniform2uiv(this.addr,e),Dt(i,e)}}function lb(t,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else{if(It(i,e))return;t.uniform3uiv(this.addr,e),Dt(i,e)}}function ub(t,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z||i[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(It(i,e))return;t.uniform4uiv(this.addr,e),Dt(i,e)}}function cb(t,e,i){const r=this.cache,a=i.allocateTextureUnit();r[0]!==a&&(t.uniform1i(this.addr,a),r[0]=a);const o=this.type===t.SAMPLER_2D_SHADOW?mv:pv;i.setTexture2D(e||o,a)}function hb(t,e,i){const r=this.cache,a=i.allocateTextureUnit();r[0]!==a&&(t.uniform1i(this.addr,a),r[0]=a),i.setTexture3D(e||wv,a)}function db(t,e,i){const r=this.cache,a=i.allocateTextureUnit();r[0]!==a&&(t.uniform1i(this.addr,a),r[0]=a),i.setTextureCube(e||vv,a)}function fb(t,e,i){const r=this.cache,a=i.allocateTextureUnit();r[0]!==a&&(t.uniform1i(this.addr,a),r[0]=a),i.setTexture2DArray(e||gv,a)}function pb(t){switch(t){case 5126:return ZE;case 35664:return qE;case 35665:return JE;case 35666:return $E;case 35674:return QE;case 35675:return eb;case 35676:return tb;case 5124:case 35670:return nb;case 35667:case 35671:return ib;case 35668:case 35672:return rb;case 35669:case 35673:return ab;case 5125:return ob;case 36294:return sb;case 36295:return lb;case 36296:return ub;case 35678:case 36198:case 36298:case 36306:case 35682:return cb;case 35679:case 36299:case 36307:return hb;case 35680:case 36300:case 36308:case 36293:return db;case 36289:case 36303:case 36311:case 36292:return fb}}function mb(t,e){t.uniform1fv(this.addr,e)}function gb(t,e){const i=to(e,this.size,2);t.uniform2fv(this.addr,i)}function wb(t,e){const i=to(e,this.size,3);t.uniform3fv(this.addr,i)}function vb(t,e){const i=to(e,this.size,4);t.uniform4fv(this.addr,i)}function Sb(t,e){const i=to(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,i)}function yb(t,e){const i=to(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,i)}function _b(t,e){const i=to(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,i)}function xb(t,e){t.uniform1iv(this.addr,e)}function Mb(t,e){t.uniform2iv(this.addr,e)}function Tb(t,e){t.uniform3iv(this.addr,e)}function Eb(t,e){t.uniform4iv(this.addr,e)}function bb(t,e){t.uniform1uiv(this.addr,e)}function kb(t,e){t.uniform2uiv(this.addr,e)}function Cb(t,e){t.uniform3uiv(this.addr,e)}function Ab(t,e){t.uniform4uiv(this.addr,e)}function Rb(t,e,i){const r=this.cache,a=e.length,o=Eu(i,a);It(r,o)||(t.uniform1iv(this.addr,o),Dt(r,o));for(let s=0;s!==a;++s)i.setTexture2D(e[s]||pv,o[s])}function Pb(t,e,i){const r=this.cache,a=e.length,o=Eu(i,a);It(r,o)||(t.uniform1iv(this.addr,o),Dt(r,o));for(let s=0;s!==a;++s)i.setTexture3D(e[s]||wv,o[s])}function Ib(t,e,i){const r=this.cache,a=e.length,o=Eu(i,a);It(r,o)||(t.uniform1iv(this.addr,o),Dt(r,o));for(let s=0;s!==a;++s)i.setTextureCube(e[s]||vv,o[s])}function Db(t,e,i){const r=this.cache,a=e.length,o=Eu(i,a);It(r,o)||(t.uniform1iv(this.addr,o),Dt(r,o));for(let s=0;s!==a;++s)i.setTexture2DArray(e[s]||gv,o[s])}function Lb(t){switch(t){case 5126:return mb;case 35664:return gb;case 35665:return wb;case 35666:return vb;case 35674:return Sb;case 35675:return yb;case 35676:return _b;case 5124:case 35670:return xb;case 35667:case 35671:return Mb;case 35668:case 35672:return Tb;case 35669:case 35673:return Eb;case 5125:return bb;case 36294:return kb;case 36295:return Cb;case 36296:return Ab;case 35678:case 36198:case 36298:case 36306:case 35682:return Rb;case 35679:case 36299:case 36307:return Pb;case 35680:case 36300:case 36308:case 36293:return Ib;case 36289:case 36303:case 36311:case 36292:return Db}}class Nb{constructor(e,i,r){this.id=e,this.addr=r,this.cache=[],this.type=i.type,this.setValue=pb(i.type)}}class Fb{constructor(e,i,r){this.id=e,this.addr=r,this.cache=[],this.type=i.type,this.size=i.size,this.setValue=Lb(i.type)}}class Ub{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,i,r){const a=this.seq;for(let o=0,s=a.length;o!==s;++o){const l=a[o];l.setValue(e,i[l.id],r)}}}const Pc=/(\w+)(\])?(\[|\.)?/g;function Fm(t,e){t.seq.push(e),t.map[e.id]=e}function Ob(t,e,i){const r=t.name,a=r.length;for(Pc.lastIndex=0;;){const o=Pc.exec(r),s=Pc.lastIndex;let l=o[1];const u=o[2]==="]",c=o[3];if(u&&(l=l|0),c===void 0||c==="["&&s+2===a){Fm(i,c===void 0?new Nb(l,t,e):new Fb(l,t,e));break}else{let f=i.map[l];f===void 0&&(f=new Ub(l),Fm(i,f)),i=f}}}class yl{constructor(e,i){this.seq=[],this.map={};const r=e.getProgramParameter(i,e.ACTIVE_UNIFORMS);for(let a=0;a<r;++a){const o=e.getActiveUniform(i,a),s=e.getUniformLocation(i,o.name);Ob(o,s,this)}}setValue(e,i,r,a){const o=this.map[i];o!==void 0&&o.setValue(e,r,a)}setOptional(e,i,r){const a=i[r];a!==void 0&&this.setValue(e,r,a)}static upload(e,i,r,a){for(let o=0,s=i.length;o!==s;++o){const l=i[o],u=r[l.id];u.needsUpdate!==!1&&l.setValue(e,u.value,a)}}static seqWithValue(e,i){const r=[];for(let a=0,o=e.length;a!==o;++a){const s=e[a];s.id in i&&r.push(s)}return r}}function Um(t,e,i){const r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),r}const Bb=37297;let zb=0;function Gb(t,e){const i=t.split(`
`),r=[],a=Math.max(e-6,0),o=Math.min(e+6,i.length);for(let s=a;s<o;s++){const l=s+1;r.push(`${l===e?">":" "} ${l}: ${i[s]}`)}return r.join(`
`)}function Hb(t){const e=ot.getPrimaries(ot.workingColorSpace),i=ot.getPrimaries(t);let r;switch(e===i?r="":e===Jl&&i===ql?r="LinearDisplayP3ToLinearSRGB":e===ql&&i===Jl&&(r="LinearSRGBToLinearDisplayP3"),t){case Ai:case _u:return[r,"LinearTransferOETF"];case Rt:case Xd:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function Om(t,e,i){const r=t.getShaderParameter(e,t.COMPILE_STATUS),a=t.getShaderInfoLog(e).trim();if(r&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const s=parseInt(o[1]);return i.toUpperCase()+`

`+a+`

`+Gb(t.getShaderSource(e),s)}else return a}function Wb(t,e){const i=Hb(e);return`vec4 ${t}( vec4 value ) { return ${i[0]}( ${i[1]}( value ) ); }`}function Vb(t,e){let i;switch(e){case Gx:i="Linear";break;case Hx:i="Reinhard";break;case Wx:i="OptimizedCineon";break;case Vx:i="ACESFilmic";break;case Kx:i="AgX";break;case jx:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),i="Linear"}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function jb(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.alphaToCoverage||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ka).join(`
`)}function Kb(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(ka).join(`
`)}function Xb(t){const e=[];for(const i in t){const r=t[i];r!==!1&&e.push("#define "+i+" "+r)}return e.join(`
`)}function Yb(t,e){const i={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let a=0;a<r;a++){const o=t.getActiveAttrib(e,a),s=o.name;let l=1;o.type===t.FLOAT_MAT2&&(l=2),o.type===t.FLOAT_MAT3&&(l=3),o.type===t.FLOAT_MAT4&&(l=4),i[s]={type:o.type,location:t.getAttribLocation(e,s),locationSize:l}}return i}function ka(t){return t!==""}function Bm(t,e){const i=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,i).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function zm(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Zb=/^[ \t]*#include +<([\w\d./]+)>/gm;function Wh(t){return t.replace(Zb,Jb)}const qb=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Jb(t,e){let i=Ze[e];if(i===void 0){const r=qb.get(e);if(r!==void 0)i=Ze[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return Wh(i)}const $b=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Gm(t){return t.replace($b,Qb)}function Qb(t,e,i,r){let a="";for(let o=parseInt(e);o<parseInt(i);o++)a+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return a}function Hm(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	`;return t.isWebGL2&&(e+=`precision ${t.precision} sampler3D;
		precision ${t.precision} sampler2DArray;
		precision ${t.precision} sampler2DShadow;
		precision ${t.precision} samplerCubeShadow;
		precision ${t.precision} sampler2DArrayShadow;
		precision ${t.precision} isampler2D;
		precision ${t.precision} isampler3D;
		precision ${t.precision} isamplerCube;
		precision ${t.precision} isampler2DArray;
		precision ${t.precision} usampler2D;
		precision ${t.precision} usampler3D;
		precision ${t.precision} usamplerCube;
		precision ${t.precision} usampler2DArray;
		`),t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function ek(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===H0?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===mx?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===pi&&(e="SHADOWMAP_TYPE_VSM"),e}function tk(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case ja:case Ka:e="ENVMAP_TYPE_CUBE";break;case yu:e="ENVMAP_TYPE_CUBE_UV";break}return e}function nk(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Ka:e="ENVMAP_MODE_REFRACTION";break}return e}function ik(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case jd:e="ENVMAP_BLENDING_MULTIPLY";break;case Bx:e="ENVMAP_BLENDING_MIX";break;case zx:e="ENVMAP_BLENDING_ADD";break}return e}function rk(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const i=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,i),7*16)),texelHeight:r,maxMip:i}}function ak(t,e,i,r){const a=t.getContext(),o=i.defines;let s=i.vertexShader,l=i.fragmentShader;const u=ek(i),c=tk(i),d=nk(i),f=ik(i),p=rk(i),m=i.isWebGL2?"":jb(i),S=Kb(i),v=Xb(o),g=a.createProgram();let h,y,_=i.glslVersion?"#version "+i.glslVersion+`
`:"";i.isRawShaderMaterial?(h=["#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,v].filter(ka).join(`
`),h.length>0&&(h+=`
`),y=[m,"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,v].filter(ka).join(`
`),y.length>0&&(y+=`
`)):(h=[Hm(i),"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,v,i.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",i.batching?"#define USE_BATCHING":"",i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+d:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.displacementMap?"#define USE_DISPLACEMENTMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.anisotropy?"#define USE_ANISOTROPY":"",i.anisotropyMap?"#define USE_ANISOTROPYMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaHash?"#define USE_ALPHAHASH":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.mapUv?"#define MAP_UV "+i.mapUv:"",i.alphaMapUv?"#define ALPHAMAP_UV "+i.alphaMapUv:"",i.lightMapUv?"#define LIGHTMAP_UV "+i.lightMapUv:"",i.aoMapUv?"#define AOMAP_UV "+i.aoMapUv:"",i.emissiveMapUv?"#define EMISSIVEMAP_UV "+i.emissiveMapUv:"",i.bumpMapUv?"#define BUMPMAP_UV "+i.bumpMapUv:"",i.normalMapUv?"#define NORMALMAP_UV "+i.normalMapUv:"",i.displacementMapUv?"#define DISPLACEMENTMAP_UV "+i.displacementMapUv:"",i.metalnessMapUv?"#define METALNESSMAP_UV "+i.metalnessMapUv:"",i.roughnessMapUv?"#define ROUGHNESSMAP_UV "+i.roughnessMapUv:"",i.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+i.anisotropyMapUv:"",i.clearcoatMapUv?"#define CLEARCOATMAP_UV "+i.clearcoatMapUv:"",i.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+i.clearcoatNormalMapUv:"",i.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+i.clearcoatRoughnessMapUv:"",i.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+i.iridescenceMapUv:"",i.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+i.iridescenceThicknessMapUv:"",i.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+i.sheenColorMapUv:"",i.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+i.sheenRoughnessMapUv:"",i.specularMapUv?"#define SPECULARMAP_UV "+i.specularMapUv:"",i.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+i.specularColorMapUv:"",i.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+i.specularIntensityMapUv:"",i.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+i.transmissionMapUv:"",i.thicknessMapUv?"#define THICKNESSMAP_UV "+i.thicknessMapUv:"",i.vertexTangents&&i.flatShading===!1?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUv1s?"#define USE_UV1":"",i.vertexUv2s?"#define USE_UV2":"",i.vertexUv3s?"#define USE_UV3":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&i.flatShading===!1?"#define USE_MORPHNORMALS":"",i.morphColors&&i.isWebGL2?"#define USE_MORPHCOLORS":"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+i.morphTextureStride:"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_COUNT "+i.morphTargetsCount:"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+u:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.numLightProbes>0?"#define USE_LIGHT_PROBES":"",i.useLegacyLights?"#define LEGACY_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ka).join(`
`),y=[m,Hm(i),"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,v,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+c:"",i.envMap?"#define "+d:"",i.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.anisotropy?"#define USE_ANISOTROPY":"",i.anisotropyMap?"#define USE_ANISOTROPYMAP":"",i.clearcoat?"#define USE_CLEARCOAT":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescence?"#define USE_IRIDESCENCE":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaTest?"#define USE_ALPHATEST":"",i.alphaHash?"#define USE_ALPHAHASH":"",i.sheen?"#define USE_SHEEN":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.vertexTangents&&i.flatShading===!1?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUv1s?"#define USE_UV1":"",i.vertexUv2s?"#define USE_UV2":"",i.vertexUv3s?"#define USE_UV3":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+u:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.numLightProbes>0?"#define USE_LIGHT_PROBES":"",i.useLegacyLights?"#define LEGACY_LIGHTS":"",i.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==rr?"#define TONE_MAPPING":"",i.toneMapping!==rr?Ze.tonemapping_pars_fragment:"",i.toneMapping!==rr?Vb("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.opaque?"#define OPAQUE":"",Ze.colorspace_pars_fragment,Wb("linearToOutputTexel",i.outputColorSpace),i.useDepthPacking?"#define DEPTH_PACKING "+i.depthPacking:"",`
`].filter(ka).join(`
`)),s=Wh(s),s=Bm(s,i),s=zm(s,i),l=Wh(l),l=Bm(l,i),l=zm(l,i),s=Gm(s),l=Gm(l),i.isWebGL2&&i.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,h=[S,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+h,y=["precision mediump sampler2DArray;","#define varying in",i.glslVersion===rm?"":"layout(location = 0) out highp vec4 pc_fragColor;",i.glslVersion===rm?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const M=_+h+s,A=_+y+l,R=Um(a,a.VERTEX_SHADER,M),C=Um(a,a.FRAGMENT_SHADER,A);a.attachShader(g,R),a.attachShader(g,C),i.index0AttributeName!==void 0?a.bindAttribLocation(g,0,i.index0AttributeName):i.morphTargets===!0&&a.bindAttribLocation(g,0,"position"),a.linkProgram(g);function V(I){if(t.debug.checkShaderErrors){const J=a.getProgramInfoLog(g).trim(),x=a.getShaderInfoLog(R).trim(),P=a.getShaderInfoLog(C).trim();let U=!0,N=!0;if(a.getProgramParameter(g,a.LINK_STATUS)===!1)if(U=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(a,g,R,C);else{const z=Om(a,R,"vertex"),O=Om(a,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(g,a.VALIDATE_STATUS)+`

Material Name: `+I.name+`
Material Type: `+I.type+`

Program Info Log: `+J+`
`+z+`
`+O)}else J!==""?console.warn("THREE.WebGLProgram: Program Info Log:",J):(x===""||P==="")&&(N=!1);N&&(I.diagnostics={runnable:U,programLog:J,vertexShader:{log:x,prefix:h},fragmentShader:{log:P,prefix:y}})}a.deleteShader(R),a.deleteShader(C),X=new yl(a,g),b=Yb(a,g)}let X;this.getUniforms=function(){return X===void 0&&V(this),X};let b;this.getAttributes=function(){return b===void 0&&V(this),b};let F=i.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return F===!1&&(F=a.getProgramParameter(g,Bb)),F},this.destroy=function(){r.releaseStatesOfProgram(this),a.deleteProgram(g),this.program=void 0},this.type=i.shaderType,this.name=i.shaderName,this.id=zb++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=R,this.fragmentShader=C,this}let ok=0;class sk{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.vertexShader,r=e.fragmentShader,a=this._getShaderStage(i),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(a)===!1&&(s.add(a),a.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const i=this.materialCache.get(e);for(const r of i)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const i=this.materialCache;let r=i.get(e);return r===void 0&&(r=new Set,i.set(e,r)),r}_getShaderStage(e){const i=this.shaderCache;let r=i.get(e);return r===void 0&&(r=new lk(e),i.set(e,r)),r}}class lk{constructor(e){this.id=ok++,this.code=e,this.usedTimes=0}}function uk(t,e,i,r,a,o,s){const l=new rv,u=new sk,c=new Set,d=[],f=a.isWebGL2,p=a.logarithmicDepthBuffer,m=a.vertexTextures;let S=a.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(b){return c.add(b),b===0?"uv":`uv${b}`}function h(b,F,I,J,x){const P=J.fog,U=x.geometry,N=b.isMeshStandardMaterial?J.environment:null,z=(b.isMeshStandardMaterial?i:e).get(b.envMap||N),O=z&&z.mapping===yu?z.image.height:null,$=v[b.type];b.precision!==null&&(S=a.getMaxPrecision(b.precision),S!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",S,"instead."));const H=U.morphAttributes.position||U.morphAttributes.normal||U.morphAttributes.color,W=H!==void 0?H.length:0;let fe=0;U.morphAttributes.position!==void 0&&(fe=1),U.morphAttributes.normal!==void 0&&(fe=2),U.morphAttributes.color!==void 0&&(fe=3);let q,ne,se,Me;if($){const et=ni[$];q=et.vertexShader,ne=et.fragmentShader}else q=b.vertexShader,ne=b.fragmentShader,u.update(b),se=u.getVertexShaderID(b),Me=u.getFragmentShaderID(b);const we=t.getRenderTarget(),Se=x.isInstancedMesh===!0,Ie=x.isBatchedMesh===!0,ke=!!b.map,ie=!!b.matcap,Qe=!!z,T=!!b.aoMap,re=!!b.lightMap,Q=!!b.bumpMap,G=!!b.normalMap,D=!!b.displacementMap,E=!!b.emissiveMap,k=!!b.metalnessMap,K=!!b.roughnessMap,Y=b.anisotropy>0,te=b.clearcoat>0,oe=b.iridescence>0,le=b.sheen>0,de=b.transmission>0,_e=Y&&!!b.anisotropyMap,Te=te&&!!b.clearcoatMap,Fe=te&&!!b.clearcoatNormalMap,me=te&&!!b.clearcoatRoughnessMap,je=oe&&!!b.iridescenceMap,He=oe&&!!b.iridescenceThicknessMap,Ae=le&&!!b.sheenColorMap,De=le&&!!b.sheenRoughnessMap,Ce=!!b.specularMap,Be=!!b.specularColorMap,Z=!!b.specularIntensityMap,xe=de&&!!b.transmissionMap,be=de&&!!b.thicknessMap,Ne=!!b.gradientMap,j=!!b.alphaMap,ve=b.alphaTest>0,ge=!!b.alphaHash,Le=!!b.extensions;let Oe=rr;b.toneMapped&&(we===null||we.isXRRenderTarget===!0)&&(Oe=t.toneMapping);const it={isWebGL2:f,shaderID:$,shaderType:b.type,shaderName:b.name,vertexShader:q,fragmentShader:ne,defines:b.defines,customVertexShaderID:se,customFragmentShaderID:Me,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:S,batching:Ie,instancing:Se,instancingColor:Se&&x.instanceColor!==null,supportsVertexTextures:m,outputColorSpace:we===null?t.outputColorSpace:we.isXRRenderTarget===!0?we.texture.colorSpace:Ai,alphaToCoverage:!!b.alphaToCoverage,map:ke,matcap:ie,envMap:Qe,envMapMode:Qe&&z.mapping,envMapCubeUVHeight:O,aoMap:T,lightMap:re,bumpMap:Q,normalMap:G,displacementMap:m&&D,emissiveMap:E,normalMapObjectSpace:G&&b.normalMapType===i1,normalMapTangentSpace:G&&b.normalMapType===$0,metalnessMap:k,roughnessMap:K,anisotropy:Y,anisotropyMap:_e,clearcoat:te,clearcoatMap:Te,clearcoatNormalMap:Fe,clearcoatRoughnessMap:me,iridescence:oe,iridescenceMap:je,iridescenceThicknessMap:He,sheen:le,sheenColorMap:Ae,sheenRoughnessMap:De,specularMap:Ce,specularColorMap:Be,specularIntensityMap:Z,transmission:de,transmissionMap:xe,thicknessMap:be,gradientMap:Ne,opaque:b.transparent===!1&&b.blending===Na&&b.alphaToCoverage===!1,alphaMap:j,alphaTest:ve,alphaHash:ge,combine:b.combine,mapUv:ke&&g(b.map.channel),aoMapUv:T&&g(b.aoMap.channel),lightMapUv:re&&g(b.lightMap.channel),bumpMapUv:Q&&g(b.bumpMap.channel),normalMapUv:G&&g(b.normalMap.channel),displacementMapUv:D&&g(b.displacementMap.channel),emissiveMapUv:E&&g(b.emissiveMap.channel),metalnessMapUv:k&&g(b.metalnessMap.channel),roughnessMapUv:K&&g(b.roughnessMap.channel),anisotropyMapUv:_e&&g(b.anisotropyMap.channel),clearcoatMapUv:Te&&g(b.clearcoatMap.channel),clearcoatNormalMapUv:Fe&&g(b.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:me&&g(b.clearcoatRoughnessMap.channel),iridescenceMapUv:je&&g(b.iridescenceMap.channel),iridescenceThicknessMapUv:He&&g(b.iridescenceThicknessMap.channel),sheenColorMapUv:Ae&&g(b.sheenColorMap.channel),sheenRoughnessMapUv:De&&g(b.sheenRoughnessMap.channel),specularMapUv:Ce&&g(b.specularMap.channel),specularColorMapUv:Be&&g(b.specularColorMap.channel),specularIntensityMapUv:Z&&g(b.specularIntensityMap.channel),transmissionMapUv:xe&&g(b.transmissionMap.channel),thicknessMapUv:be&&g(b.thicknessMap.channel),alphaMapUv:j&&g(b.alphaMap.channel),vertexTangents:!!U.attributes.tangent&&(G||Y),vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!U.attributes.color&&U.attributes.color.itemSize===4,pointsUvs:x.isPoints===!0&&!!U.attributes.uv&&(ke||j),fog:!!P,useFog:b.fog===!0,fogExp2:!!P&&P.isFogExp2,flatShading:b.flatShading===!0,sizeAttenuation:b.sizeAttenuation===!0,logarithmicDepthBuffer:p,skinning:x.isSkinnedMesh===!0,morphTargets:U.morphAttributes.position!==void 0,morphNormals:U.morphAttributes.normal!==void 0,morphColors:U.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:fe,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numSpotLightMaps:F.spotLightMap.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numSpotLightShadowsWithMaps:F.numSpotLightShadowsWithMaps,numLightProbes:F.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:b.dithering,shadowMapEnabled:t.shadowMap.enabled&&I.length>0,shadowMapType:t.shadowMap.type,toneMapping:Oe,useLegacyLights:t._useLegacyLights,decodeVideoTexture:ke&&b.map.isVideoTexture===!0&&ot.getTransfer(b.map.colorSpace)===ct,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===vi,flipSided:b.side===mn,useDepthPacking:b.depthPacking>=0,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionDerivatives:Le&&b.extensions.derivatives===!0,extensionFragDepth:Le&&b.extensions.fragDepth===!0,extensionDrawBuffers:Le&&b.extensions.drawBuffers===!0,extensionShaderTextureLOD:Le&&b.extensions.shaderTextureLOD===!0,extensionClipCullDistance:Le&&b.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:Le&&b.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:b.customProgramCacheKey()};return it.vertexUv1s=c.has(1),it.vertexUv2s=c.has(2),it.vertexUv3s=c.has(3),c.clear(),it}function y(b){const F=[];if(b.shaderID?F.push(b.shaderID):(F.push(b.customVertexShaderID),F.push(b.customFragmentShaderID)),b.defines!==void 0)for(const I in b.defines)F.push(I),F.push(b.defines[I]);return b.isRawShaderMaterial===!1&&(_(F,b),M(F,b),F.push(t.outputColorSpace)),F.push(b.customProgramCacheKey),F.join()}function _(b,F){b.push(F.precision),b.push(F.outputColorSpace),b.push(F.envMapMode),b.push(F.envMapCubeUVHeight),b.push(F.mapUv),b.push(F.alphaMapUv),b.push(F.lightMapUv),b.push(F.aoMapUv),b.push(F.bumpMapUv),b.push(F.normalMapUv),b.push(F.displacementMapUv),b.push(F.emissiveMapUv),b.push(F.metalnessMapUv),b.push(F.roughnessMapUv),b.push(F.anisotropyMapUv),b.push(F.clearcoatMapUv),b.push(F.clearcoatNormalMapUv),b.push(F.clearcoatRoughnessMapUv),b.push(F.iridescenceMapUv),b.push(F.iridescenceThicknessMapUv),b.push(F.sheenColorMapUv),b.push(F.sheenRoughnessMapUv),b.push(F.specularMapUv),b.push(F.specularColorMapUv),b.push(F.specularIntensityMapUv),b.push(F.transmissionMapUv),b.push(F.thicknessMapUv),b.push(F.combine),b.push(F.fogExp2),b.push(F.sizeAttenuation),b.push(F.morphTargetsCount),b.push(F.morphAttributeCount),b.push(F.numDirLights),b.push(F.numPointLights),b.push(F.numSpotLights),b.push(F.numSpotLightMaps),b.push(F.numHemiLights),b.push(F.numRectAreaLights),b.push(F.numDirLightShadows),b.push(F.numPointLightShadows),b.push(F.numSpotLightShadows),b.push(F.numSpotLightShadowsWithMaps),b.push(F.numLightProbes),b.push(F.shadowMapType),b.push(F.toneMapping),b.push(F.numClippingPlanes),b.push(F.numClipIntersection),b.push(F.depthPacking)}function M(b,F){l.disableAll(),F.isWebGL2&&l.enable(0),F.supportsVertexTextures&&l.enable(1),F.instancing&&l.enable(2),F.instancingColor&&l.enable(3),F.matcap&&l.enable(4),F.envMap&&l.enable(5),F.normalMapObjectSpace&&l.enable(6),F.normalMapTangentSpace&&l.enable(7),F.clearcoat&&l.enable(8),F.iridescence&&l.enable(9),F.alphaTest&&l.enable(10),F.vertexColors&&l.enable(11),F.vertexAlphas&&l.enable(12),F.vertexUv1s&&l.enable(13),F.vertexUv2s&&l.enable(14),F.vertexUv3s&&l.enable(15),F.vertexTangents&&l.enable(16),F.anisotropy&&l.enable(17),F.alphaHash&&l.enable(18),F.batching&&l.enable(19),b.push(l.mask),l.disableAll(),F.fog&&l.enable(0),F.useFog&&l.enable(1),F.flatShading&&l.enable(2),F.logarithmicDepthBuffer&&l.enable(3),F.skinning&&l.enable(4),F.morphTargets&&l.enable(5),F.morphNormals&&l.enable(6),F.morphColors&&l.enable(7),F.premultipliedAlpha&&l.enable(8),F.shadowMapEnabled&&l.enable(9),F.useLegacyLights&&l.enable(10),F.doubleSided&&l.enable(11),F.flipSided&&l.enable(12),F.useDepthPacking&&l.enable(13),F.dithering&&l.enable(14),F.transmission&&l.enable(15),F.sheen&&l.enable(16),F.opaque&&l.enable(17),F.pointsUvs&&l.enable(18),F.decodeVideoTexture&&l.enable(19),F.alphaToCoverage&&l.enable(20),b.push(l.mask)}function A(b){const F=v[b.type];let I;if(F){const J=ni[F];I=V1.clone(J.uniforms)}else I=b.uniforms;return I}function R(b,F){let I;for(let J=0,x=d.length;J<x;J++){const P=d[J];if(P.cacheKey===F){I=P,++I.usedTimes;break}}return I===void 0&&(I=new ak(t,F,b,o),d.push(I)),I}function C(b){if(--b.usedTimes===0){const F=d.indexOf(b);d[F]=d[d.length-1],d.pop(),b.destroy()}}function V(b){u.remove(b)}function X(){u.dispose()}return{getParameters:h,getProgramCacheKey:y,getUniforms:A,acquireProgram:R,releaseProgram:C,releaseShaderCache:V,programs:d,dispose:X}}function ck(){let t=new WeakMap;function e(o){let s=t.get(o);return s===void 0&&(s={},t.set(o,s)),s}function i(o){t.delete(o)}function r(o,s,l){t.get(o)[s]=l}function a(){t=new WeakMap}return{get:e,remove:i,update:r,dispose:a}}function hk(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Wm(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Vm(){const t=[];let e=0;const i=[],r=[],a=[];function o(){e=0,i.length=0,r.length=0,a.length=0}function s(f,p,m,S,v,g){let h=t[e];return h===void 0?(h={id:f.id,object:f,geometry:p,material:m,groupOrder:S,renderOrder:f.renderOrder,z:v,group:g},t[e]=h):(h.id=f.id,h.object=f,h.geometry=p,h.material=m,h.groupOrder=S,h.renderOrder=f.renderOrder,h.z=v,h.group=g),e++,h}function l(f,p,m,S,v,g){const h=s(f,p,m,S,v,g);m.transmission>0?r.push(h):m.transparent===!0?a.push(h):i.push(h)}function u(f,p,m,S,v,g){const h=s(f,p,m,S,v,g);m.transmission>0?r.unshift(h):m.transparent===!0?a.unshift(h):i.unshift(h)}function c(f,p){i.length>1&&i.sort(f||hk),r.length>1&&r.sort(p||Wm),a.length>1&&a.sort(p||Wm)}function d(){for(let f=e,p=t.length;f<p;f++){const m=t[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:i,transmissive:r,transparent:a,init:o,push:l,unshift:u,finish:d,sort:c}}function dk(){let t=new WeakMap;function e(r,a){const o=t.get(r);let s;return o===void 0?(s=new Vm,t.set(r,[s])):a>=o.length?(s=new Vm,o.push(s)):s=o[a],s}function i(){t=new WeakMap}return{get:e,dispose:i}}function fk(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let i;switch(e.type){case"DirectionalLight":i={direction:new ee,color:new Xe};break;case"SpotLight":i={position:new ee,direction:new ee,color:new Xe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new ee,color:new Xe,distance:0,decay:0};break;case"HemisphereLight":i={direction:new ee,skyColor:new Xe,groundColor:new Xe};break;case"RectAreaLight":i={color:new Xe,position:new ee,halfWidth:new ee,halfHeight:new ee};break}return t[e.id]=i,i}}}function pk(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let i;switch(e.type){case"DirectionalLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge};break;case"SpotLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge};break;case"PointLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=i,i}}}let mk=0;function gk(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function wk(t,e){const i=new fk,r=pk(),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)a.probe.push(new ee);const o=new ee,s=new _t,l=new _t;function u(d,f){let p=0,m=0,S=0;for(let I=0;I<9;I++)a.probe[I].set(0,0,0);let v=0,g=0,h=0,y=0,_=0,M=0,A=0,R=0,C=0,V=0,X=0;d.sort(gk);const b=f===!0?Math.PI:1;for(let I=0,J=d.length;I<J;I++){const x=d[I],P=x.color,U=x.intensity,N=x.distance,z=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)p+=P.r*U*b,m+=P.g*U*b,S+=P.b*U*b;else if(x.isLightProbe){for(let O=0;O<9;O++)a.probe[O].addScaledVector(x.sh.coefficients[O],U);X++}else if(x.isDirectionalLight){const O=i.get(x);if(O.color.copy(x.color).multiplyScalar(x.intensity*b),x.castShadow){const $=x.shadow,H=r.get(x);H.shadowBias=$.bias,H.shadowNormalBias=$.normalBias,H.shadowRadius=$.radius,H.shadowMapSize=$.mapSize,a.directionalShadow[v]=H,a.directionalShadowMap[v]=z,a.directionalShadowMatrix[v]=x.shadow.matrix,M++}a.directional[v]=O,v++}else if(x.isSpotLight){const O=i.get(x);O.position.setFromMatrixPosition(x.matrixWorld),O.color.copy(P).multiplyScalar(U*b),O.distance=N,O.coneCos=Math.cos(x.angle),O.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),O.decay=x.decay,a.spot[h]=O;const $=x.shadow;if(x.map&&(a.spotLightMap[C]=x.map,C++,$.updateMatrices(x),x.castShadow&&V++),a.spotLightMatrix[h]=$.matrix,x.castShadow){const H=r.get(x);H.shadowBias=$.bias,H.shadowNormalBias=$.normalBias,H.shadowRadius=$.radius,H.shadowMapSize=$.mapSize,a.spotShadow[h]=H,a.spotShadowMap[h]=z,R++}h++}else if(x.isRectAreaLight){const O=i.get(x);O.color.copy(P).multiplyScalar(U),O.halfWidth.set(x.width*.5,0,0),O.halfHeight.set(0,x.height*.5,0),a.rectArea[y]=O,y++}else if(x.isPointLight){const O=i.get(x);if(O.color.copy(x.color).multiplyScalar(x.intensity*b),O.distance=x.distance,O.decay=x.decay,x.castShadow){const $=x.shadow,H=r.get(x);H.shadowBias=$.bias,H.shadowNormalBias=$.normalBias,H.shadowRadius=$.radius,H.shadowMapSize=$.mapSize,H.shadowCameraNear=$.camera.near,H.shadowCameraFar=$.camera.far,a.pointShadow[g]=H,a.pointShadowMap[g]=z,a.pointShadowMatrix[g]=x.shadow.matrix,A++}a.point[g]=O,g++}else if(x.isHemisphereLight){const O=i.get(x);O.skyColor.copy(x.color).multiplyScalar(U*b),O.groundColor.copy(x.groundColor).multiplyScalar(U*b),a.hemi[_]=O,_++}}y>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(a.rectAreaLTC1=Ee.LTC_FLOAT_1,a.rectAreaLTC2=Ee.LTC_FLOAT_2):(a.rectAreaLTC1=Ee.LTC_HALF_1,a.rectAreaLTC2=Ee.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(a.rectAreaLTC1=Ee.LTC_FLOAT_1,a.rectAreaLTC2=Ee.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(a.rectAreaLTC1=Ee.LTC_HALF_1,a.rectAreaLTC2=Ee.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),a.ambient[0]=p,a.ambient[1]=m,a.ambient[2]=S;const F=a.hash;(F.directionalLength!==v||F.pointLength!==g||F.spotLength!==h||F.rectAreaLength!==y||F.hemiLength!==_||F.numDirectionalShadows!==M||F.numPointShadows!==A||F.numSpotShadows!==R||F.numSpotMaps!==C||F.numLightProbes!==X)&&(a.directional.length=v,a.spot.length=h,a.rectArea.length=y,a.point.length=g,a.hemi.length=_,a.directionalShadow.length=M,a.directionalShadowMap.length=M,a.pointShadow.length=A,a.pointShadowMap.length=A,a.spotShadow.length=R,a.spotShadowMap.length=R,a.directionalShadowMatrix.length=M,a.pointShadowMatrix.length=A,a.spotLightMatrix.length=R+C-V,a.spotLightMap.length=C,a.numSpotLightShadowsWithMaps=V,a.numLightProbes=X,F.directionalLength=v,F.pointLength=g,F.spotLength=h,F.rectAreaLength=y,F.hemiLength=_,F.numDirectionalShadows=M,F.numPointShadows=A,F.numSpotShadows=R,F.numSpotMaps=C,F.numLightProbes=X,a.version=mk++)}function c(d,f){let p=0,m=0,S=0,v=0,g=0;const h=f.matrixWorldInverse;for(let y=0,_=d.length;y<_;y++){const M=d[y];if(M.isDirectionalLight){const A=a.directional[p];A.direction.setFromMatrixPosition(M.matrixWorld),o.setFromMatrixPosition(M.target.matrixWorld),A.direction.sub(o),A.direction.transformDirection(h),p++}else if(M.isSpotLight){const A=a.spot[S];A.position.setFromMatrixPosition(M.matrixWorld),A.position.applyMatrix4(h),A.direction.setFromMatrixPosition(M.matrixWorld),o.setFromMatrixPosition(M.target.matrixWorld),A.direction.sub(o),A.direction.transformDirection(h),S++}else if(M.isRectAreaLight){const A=a.rectArea[v];A.position.setFromMatrixPosition(M.matrixWorld),A.position.applyMatrix4(h),l.identity(),s.copy(M.matrixWorld),s.premultiply(h),l.extractRotation(s),A.halfWidth.set(M.width*.5,0,0),A.halfHeight.set(0,M.height*.5,0),A.halfWidth.applyMatrix4(l),A.halfHeight.applyMatrix4(l),v++}else if(M.isPointLight){const A=a.point[m];A.position.setFromMatrixPosition(M.matrixWorld),A.position.applyMatrix4(h),m++}else if(M.isHemisphereLight){const A=a.hemi[g];A.direction.setFromMatrixPosition(M.matrixWorld),A.direction.transformDirection(h),g++}}}return{setup:u,setupView:c,state:a}}function jm(t,e){const i=new wk(t,e),r=[],a=[];function o(){r.length=0,a.length=0}function s(f){r.push(f)}function l(f){a.push(f)}function u(f){i.setup(r,f)}function c(f){i.setupView(r,f)}return{init:o,state:{lightsArray:r,shadowsArray:a,lights:i},setupLights:u,setupLightsView:c,pushLight:s,pushShadow:l}}function vk(t,e){let i=new WeakMap;function r(o,s=0){const l=i.get(o);let u;return l===void 0?(u=new jm(t,e),i.set(o,[u])):s>=l.length?(u=new jm(t,e),l.push(u)):u=l[s],u}function a(){i=new WeakMap}return{get:r,dispose:a}}class Sk extends Ri{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=t1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class yk extends Ri{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const _k=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,xk=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Mk(t,e,i){let r=new Zd;const a=new Ge,o=new Ge,s=new pt,l=new Sk({depthPacking:n1}),u=new yk,c={},d=i.maxTextureSize,f={[Ci]:mn,[mn]:Ci,[vi]:vi},p=new lr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ge},radius:{value:4}},vertexShader:_k,fragmentShader:xk}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const S=new gn;S.setAttribute("position",new qn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Nn(S,p),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=H0;let h=this.type;this.render=function(R,C,V){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||R.length===0)return;const X=t.getRenderTarget(),b=t.getActiveCubeFace(),F=t.getActiveMipmapLevel(),I=t.state;I.setBlending(ir),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);const J=h!==pi&&this.type===pi,x=h===pi&&this.type!==pi;for(let P=0,U=R.length;P<U;P++){const N=R[P],z=N.shadow;if(z===void 0){console.warn("THREE.WebGLShadowMap:",N,"has no shadow.");continue}if(z.autoUpdate===!1&&z.needsUpdate===!1)continue;a.copy(z.mapSize);const O=z.getFrameExtents();if(a.multiply(O),o.copy(z.mapSize),(a.x>d||a.y>d)&&(a.x>d&&(o.x=Math.floor(d/O.x),a.x=o.x*O.x,z.mapSize.x=o.x),a.y>d&&(o.y=Math.floor(d/O.y),a.y=o.y*O.y,z.mapSize.y=o.y)),z.map===null||J===!0||x===!0){const H=this.type!==pi?{minFilter:rn,magFilter:rn}:{};z.map!==null&&z.map.dispose(),z.map=new Hr(a.x,a.y,H),z.map.texture.name=N.name+".shadowMap",z.camera.updateProjectionMatrix()}t.setRenderTarget(z.map),t.clear();const $=z.getViewportCount();for(let H=0;H<$;H++){const W=z.getViewport(H);s.set(o.x*W.x,o.y*W.y,o.x*W.z,o.y*W.w),I.viewport(s),z.updateMatrices(N,H),r=z.getFrustum(),M(C,V,z.camera,N,this.type)}z.isPointLightShadow!==!0&&this.type===pi&&y(z,V),z.needsUpdate=!1}h=this.type,g.needsUpdate=!1,t.setRenderTarget(X,b,F)};function y(R,C){const V=e.update(v);p.defines.VSM_SAMPLES!==R.blurSamples&&(p.defines.VSM_SAMPLES=R.blurSamples,m.defines.VSM_SAMPLES=R.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),R.mapPass===null&&(R.mapPass=new Hr(a.x,a.y)),p.uniforms.shadow_pass.value=R.map.texture,p.uniforms.resolution.value=R.mapSize,p.uniforms.radius.value=R.radius,t.setRenderTarget(R.mapPass),t.clear(),t.renderBufferDirect(C,null,V,p,v,null),m.uniforms.shadow_pass.value=R.mapPass.texture,m.uniforms.resolution.value=R.mapSize,m.uniforms.radius.value=R.radius,t.setRenderTarget(R.map),t.clear(),t.renderBufferDirect(C,null,V,m,v,null)}function _(R,C,V,X){let b=null;const F=V.isPointLight===!0?R.customDistanceMaterial:R.customDepthMaterial;if(F!==void 0)b=F;else if(b=V.isPointLight===!0?u:l,t.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const I=b.uuid,J=C.uuid;let x=c[I];x===void 0&&(x={},c[I]=x);let P=x[J];P===void 0&&(P=b.clone(),x[J]=P,C.addEventListener("dispose",A)),b=P}if(b.visible=C.visible,b.wireframe=C.wireframe,X===pi?b.side=C.shadowSide!==null?C.shadowSide:C.side:b.side=C.shadowSide!==null?C.shadowSide:f[C.side],b.alphaMap=C.alphaMap,b.alphaTest=C.alphaTest,b.map=C.map,b.clipShadows=C.clipShadows,b.clippingPlanes=C.clippingPlanes,b.clipIntersection=C.clipIntersection,b.displacementMap=C.displacementMap,b.displacementScale=C.displacementScale,b.displacementBias=C.displacementBias,b.wireframeLinewidth=C.wireframeLinewidth,b.linewidth=C.linewidth,V.isPointLight===!0&&b.isMeshDistanceMaterial===!0){const I=t.properties.get(b);I.light=V}return b}function M(R,C,V,X,b){if(R.visible===!1)return;if(R.layers.test(C.layers)&&(R.isMesh||R.isLine||R.isPoints)&&(R.castShadow||R.receiveShadow&&b===pi)&&(!R.frustumCulled||r.intersectsObject(R))){R.modelViewMatrix.multiplyMatrices(V.matrixWorldInverse,R.matrixWorld);const J=e.update(R),x=R.material;if(Array.isArray(x)){const P=J.groups;for(let U=0,N=P.length;U<N;U++){const z=P[U],O=x[z.materialIndex];if(O&&O.visible){const $=_(R,O,X,b);R.onBeforeShadow(t,R,C,V,J,$,z),t.renderBufferDirect(V,null,J,$,R,z),R.onAfterShadow(t,R,C,V,J,$,z)}}}else if(x.visible){const P=_(R,x,X,b);R.onBeforeShadow(t,R,C,V,J,P,null),t.renderBufferDirect(V,null,J,P,R,null),R.onAfterShadow(t,R,C,V,J,P,null)}}const I=R.children;for(let J=0,x=I.length;J<x;J++)M(I[J],C,V,X,b)}function A(R){R.target.removeEventListener("dispose",A);for(const V in c){const X=c[V],b=R.target.uuid;b in X&&(X[b].dispose(),delete X[b])}}}function Tk(t,e,i){const r=i.isWebGL2;function a(){let j=!1;const ve=new pt;let ge=null;const Le=new pt(0,0,0,0);return{setMask:function(Oe){ge!==Oe&&!j&&(t.colorMask(Oe,Oe,Oe,Oe),ge=Oe)},setLocked:function(Oe){j=Oe},setClear:function(Oe,it,et,st,Bt){Bt===!0&&(Oe*=st,it*=st,et*=st),ve.set(Oe,it,et,st),Le.equals(ve)===!1&&(t.clearColor(Oe,it,et,st),Le.copy(ve))},reset:function(){j=!1,ge=null,Le.set(-1,0,0,0)}}}function o(){let j=!1,ve=null,ge=null,Le=null;return{setTest:function(Oe){Oe?Se(t.DEPTH_TEST):Ie(t.DEPTH_TEST)},setMask:function(Oe){ve!==Oe&&!j&&(t.depthMask(Oe),ve=Oe)},setFunc:function(Oe){if(ge!==Oe){switch(Oe){case Ix:t.depthFunc(t.NEVER);break;case Dx:t.depthFunc(t.ALWAYS);break;case Lx:t.depthFunc(t.LESS);break;case Xl:t.depthFunc(t.LEQUAL);break;case Nx:t.depthFunc(t.EQUAL);break;case Fx:t.depthFunc(t.GEQUAL);break;case Ux:t.depthFunc(t.GREATER);break;case Ox:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}ge=Oe}},setLocked:function(Oe){j=Oe},setClear:function(Oe){Le!==Oe&&(t.clearDepth(Oe),Le=Oe)},reset:function(){j=!1,ve=null,ge=null,Le=null}}}function s(){let j=!1,ve=null,ge=null,Le=null,Oe=null,it=null,et=null,st=null,Bt=null;return{setTest:function(rt){j||(rt?Se(t.STENCIL_TEST):Ie(t.STENCIL_TEST))},setMask:function(rt){ve!==rt&&!j&&(t.stencilMask(rt),ve=rt)},setFunc:function(rt,xt,Qt){(ge!==rt||Le!==xt||Oe!==Qt)&&(t.stencilFunc(rt,xt,Qt),ge=rt,Le=xt,Oe=Qt)},setOp:function(rt,xt,Qt){(it!==rt||et!==xt||st!==Qt)&&(t.stencilOp(rt,xt,Qt),it=rt,et=xt,st=Qt)},setLocked:function(rt){j=rt},setClear:function(rt){Bt!==rt&&(t.clearStencil(rt),Bt=rt)},reset:function(){j=!1,ve=null,ge=null,Le=null,Oe=null,it=null,et=null,st=null,Bt=null}}}const l=new a,u=new o,c=new s,d=new WeakMap,f=new WeakMap;let p={},m={},S=new WeakMap,v=[],g=null,h=!1,y=null,_=null,M=null,A=null,R=null,C=null,V=null,X=new Xe(0,0,0),b=0,F=!1,I=null,J=null,x=null,P=null,U=null;const N=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let z=!1,O=0;const $=t.getParameter(t.VERSION);$.indexOf("WebGL")!==-1?(O=parseFloat(/^WebGL (\d)/.exec($)[1]),z=O>=1):$.indexOf("OpenGL ES")!==-1&&(O=parseFloat(/^OpenGL ES (\d)/.exec($)[1]),z=O>=2);let H=null,W={};const fe=t.getParameter(t.SCISSOR_BOX),q=t.getParameter(t.VIEWPORT),ne=new pt().fromArray(fe),se=new pt().fromArray(q);function Me(j,ve,ge,Le){const Oe=new Uint8Array(4),it=t.createTexture();t.bindTexture(j,it),t.texParameteri(j,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(j,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let et=0;et<ge;et++)r&&(j===t.TEXTURE_3D||j===t.TEXTURE_2D_ARRAY)?t.texImage3D(ve,0,t.RGBA,1,1,Le,0,t.RGBA,t.UNSIGNED_BYTE,Oe):t.texImage2D(ve+et,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Oe);return it}const we={};we[t.TEXTURE_2D]=Me(t.TEXTURE_2D,t.TEXTURE_2D,1),we[t.TEXTURE_CUBE_MAP]=Me(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(we[t.TEXTURE_2D_ARRAY]=Me(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),we[t.TEXTURE_3D]=Me(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),l.setClear(0,0,0,1),u.setClear(1),c.setClear(0),Se(t.DEPTH_TEST),u.setFunc(Xl),D(!1),E(Tp),Se(t.CULL_FACE),Q(ir);function Se(j){p[j]!==!0&&(t.enable(j),p[j]=!0)}function Ie(j){p[j]!==!1&&(t.disable(j),p[j]=!1)}function ke(j,ve){return m[j]!==ve?(t.bindFramebuffer(j,ve),m[j]=ve,r&&(j===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=ve),j===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=ve)),!0):!1}function ie(j,ve){let ge=v,Le=!1;if(j)if(ge=S.get(ve),ge===void 0&&(ge=[],S.set(ve,ge)),j.isWebGLMultipleRenderTargets){const Oe=j.texture;if(ge.length!==Oe.length||ge[0]!==t.COLOR_ATTACHMENT0){for(let it=0,et=Oe.length;it<et;it++)ge[it]=t.COLOR_ATTACHMENT0+it;ge.length=Oe.length,Le=!0}}else ge[0]!==t.COLOR_ATTACHMENT0&&(ge[0]=t.COLOR_ATTACHMENT0,Le=!0);else ge[0]!==t.BACK&&(ge[0]=t.BACK,Le=!0);Le&&(i.isWebGL2?t.drawBuffers(ge):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ge))}function Qe(j){return g!==j?(t.useProgram(j),g=j,!0):!1}const T={[Mr]:t.FUNC_ADD,[wx]:t.FUNC_SUBTRACT,[vx]:t.FUNC_REVERSE_SUBTRACT};if(r)T[Cp]=t.MIN,T[Ap]=t.MAX;else{const j=e.get("EXT_blend_minmax");j!==null&&(T[Cp]=j.MIN_EXT,T[Ap]=j.MAX_EXT)}const re={[Sx]:t.ZERO,[yx]:t.ONE,[_x]:t.SRC_COLOR,[Fh]:t.SRC_ALPHA,[kx]:t.SRC_ALPHA_SATURATE,[Ex]:t.DST_COLOR,[Mx]:t.DST_ALPHA,[xx]:t.ONE_MINUS_SRC_COLOR,[Uh]:t.ONE_MINUS_SRC_ALPHA,[bx]:t.ONE_MINUS_DST_COLOR,[Tx]:t.ONE_MINUS_DST_ALPHA,[Cx]:t.CONSTANT_COLOR,[Ax]:t.ONE_MINUS_CONSTANT_COLOR,[Rx]:t.CONSTANT_ALPHA,[Px]:t.ONE_MINUS_CONSTANT_ALPHA};function Q(j,ve,ge,Le,Oe,it,et,st,Bt,rt){if(j===ir){h===!0&&(Ie(t.BLEND),h=!1);return}if(h===!1&&(Se(t.BLEND),h=!0),j!==gx){if(j!==y||rt!==F){if((_!==Mr||R!==Mr)&&(t.blendEquation(t.FUNC_ADD),_=Mr,R=Mr),rt)switch(j){case Na:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Ep:t.blendFunc(t.ONE,t.ONE);break;case bp:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case kp:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",j);break}else switch(j){case Na:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Ep:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case bp:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case kp:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",j);break}M=null,A=null,C=null,V=null,X.set(0,0,0),b=0,y=j,F=rt}return}Oe=Oe||ve,it=it||ge,et=et||Le,(ve!==_||Oe!==R)&&(t.blendEquationSeparate(T[ve],T[Oe]),_=ve,R=Oe),(ge!==M||Le!==A||it!==C||et!==V)&&(t.blendFuncSeparate(re[ge],re[Le],re[it],re[et]),M=ge,A=Le,C=it,V=et),(st.equals(X)===!1||Bt!==b)&&(t.blendColor(st.r,st.g,st.b,Bt),X.copy(st),b=Bt),y=j,F=!1}function G(j,ve){j.side===vi?Ie(t.CULL_FACE):Se(t.CULL_FACE);let ge=j.side===mn;ve&&(ge=!ge),D(ge),j.blending===Na&&j.transparent===!1?Q(ir):Q(j.blending,j.blendEquation,j.blendSrc,j.blendDst,j.blendEquationAlpha,j.blendSrcAlpha,j.blendDstAlpha,j.blendColor,j.blendAlpha,j.premultipliedAlpha),u.setFunc(j.depthFunc),u.setTest(j.depthTest),u.setMask(j.depthWrite),l.setMask(j.colorWrite);const Le=j.stencilWrite;c.setTest(Le),Le&&(c.setMask(j.stencilWriteMask),c.setFunc(j.stencilFunc,j.stencilRef,j.stencilFuncMask),c.setOp(j.stencilFail,j.stencilZFail,j.stencilZPass)),K(j.polygonOffset,j.polygonOffsetFactor,j.polygonOffsetUnits),j.alphaToCoverage===!0?Se(t.SAMPLE_ALPHA_TO_COVERAGE):Ie(t.SAMPLE_ALPHA_TO_COVERAGE)}function D(j){I!==j&&(j?t.frontFace(t.CW):t.frontFace(t.CCW),I=j)}function E(j){j!==fx?(Se(t.CULL_FACE),j!==J&&(j===Tp?t.cullFace(t.BACK):j===px?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ie(t.CULL_FACE),J=j}function k(j){j!==x&&(z&&t.lineWidth(j),x=j)}function K(j,ve,ge){j?(Se(t.POLYGON_OFFSET_FILL),(P!==ve||U!==ge)&&(t.polygonOffset(ve,ge),P=ve,U=ge)):Ie(t.POLYGON_OFFSET_FILL)}function Y(j){j?Se(t.SCISSOR_TEST):Ie(t.SCISSOR_TEST)}function te(j){j===void 0&&(j=t.TEXTURE0+N-1),H!==j&&(t.activeTexture(j),H=j)}function oe(j,ve,ge){ge===void 0&&(H===null?ge=t.TEXTURE0+N-1:ge=H);let Le=W[ge];Le===void 0&&(Le={type:void 0,texture:void 0},W[ge]=Le),(Le.type!==j||Le.texture!==ve)&&(H!==ge&&(t.activeTexture(ge),H=ge),t.bindTexture(j,ve||we[j]),Le.type=j,Le.texture=ve)}function le(){const j=W[H];j!==void 0&&j.type!==void 0&&(t.bindTexture(j.type,null),j.type=void 0,j.texture=void 0)}function de(){try{t.compressedTexImage2D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function _e(){try{t.compressedTexImage3D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Te(){try{t.texSubImage2D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Fe(){try{t.texSubImage3D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function me(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function je(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function He(){try{t.texStorage2D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Ae(){try{t.texStorage3D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function De(){try{t.texImage2D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Ce(){try{t.texImage3D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Be(j){ne.equals(j)===!1&&(t.scissor(j.x,j.y,j.z,j.w),ne.copy(j))}function Z(j){se.equals(j)===!1&&(t.viewport(j.x,j.y,j.z,j.w),se.copy(j))}function xe(j,ve){let ge=f.get(ve);ge===void 0&&(ge=new WeakMap,f.set(ve,ge));let Le=ge.get(j);Le===void 0&&(Le=t.getUniformBlockIndex(ve,j.name),ge.set(j,Le))}function be(j,ve){const Le=f.get(ve).get(j);d.get(ve)!==Le&&(t.uniformBlockBinding(ve,Le,j.__bindingPointIndex),d.set(ve,Le))}function Ne(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},H=null,W={},m={},S=new WeakMap,v=[],g=null,h=!1,y=null,_=null,M=null,A=null,R=null,C=null,V=null,X=new Xe(0,0,0),b=0,F=!1,I=null,J=null,x=null,P=null,U=null,ne.set(0,0,t.canvas.width,t.canvas.height),se.set(0,0,t.canvas.width,t.canvas.height),l.reset(),u.reset(),c.reset()}return{buffers:{color:l,depth:u,stencil:c},enable:Se,disable:Ie,bindFramebuffer:ke,drawBuffers:ie,useProgram:Qe,setBlending:Q,setMaterial:G,setFlipSided:D,setCullFace:E,setLineWidth:k,setPolygonOffset:K,setScissorTest:Y,activeTexture:te,bindTexture:oe,unbindTexture:le,compressedTexImage2D:de,compressedTexImage3D:_e,texImage2D:De,texImage3D:Ce,updateUBOMapping:xe,uniformBlockBinding:be,texStorage2D:He,texStorage3D:Ae,texSubImage2D:Te,texSubImage3D:Fe,compressedTexSubImage2D:me,compressedTexSubImage3D:je,scissor:Be,viewport:Z,reset:Ne}}function Ek(t,e,i,r,a,o,s){const l=a.isWebGL2,u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new WeakMap;let f;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(E,k){return m?new OffscreenCanvas(E,k):as("canvas")}function v(E,k,K,Y){let te=1;if((E.width>Y||E.height>Y)&&(te=Y/Math.max(E.width,E.height)),te<1||k===!0)if(typeof HTMLImageElement<"u"&&E instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&E instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&E instanceof ImageBitmap){const oe=k?Ql:Math.floor,le=oe(te*E.width),de=oe(te*E.height);f===void 0&&(f=S(le,de));const _e=K?S(le,de):f;return _e.width=le,_e.height=de,_e.getContext("2d").drawImage(E,0,0,le,de),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+E.width+"x"+E.height+") to ("+le+"x"+de+")."),_e}else return"data"in E&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+E.width+"x"+E.height+")."),E;return E}function g(E){return Hh(E.width)&&Hh(E.height)}function h(E){return l?!1:E.wrapS!==Kn||E.wrapT!==Kn||E.minFilter!==rn&&E.minFilter!==un}function y(E,k){return E.generateMipmaps&&k&&E.minFilter!==rn&&E.minFilter!==un}function _(E){t.generateMipmap(E)}function M(E,k,K,Y,te=!1){if(l===!1)return k;if(E!==null){if(t[E]!==void 0)return t[E];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+E+"'")}let oe=k;if(k===t.RED&&(K===t.FLOAT&&(oe=t.R32F),K===t.HALF_FLOAT&&(oe=t.R16F),K===t.UNSIGNED_BYTE&&(oe=t.R8)),k===t.RED_INTEGER&&(K===t.UNSIGNED_BYTE&&(oe=t.R8UI),K===t.UNSIGNED_SHORT&&(oe=t.R16UI),K===t.UNSIGNED_INT&&(oe=t.R32UI),K===t.BYTE&&(oe=t.R8I),K===t.SHORT&&(oe=t.R16I),K===t.INT&&(oe=t.R32I)),k===t.RG&&(K===t.FLOAT&&(oe=t.RG32F),K===t.HALF_FLOAT&&(oe=t.RG16F),K===t.UNSIGNED_BYTE&&(oe=t.RG8)),k===t.RGBA){const le=te?Zl:ot.getTransfer(Y);K===t.FLOAT&&(oe=t.RGBA32F),K===t.HALF_FLOAT&&(oe=t.RGBA16F),K===t.UNSIGNED_BYTE&&(oe=le===ct?t.SRGB8_ALPHA8:t.RGBA8),K===t.UNSIGNED_SHORT_4_4_4_4&&(oe=t.RGBA4),K===t.UNSIGNED_SHORT_5_5_5_1&&(oe=t.RGB5_A1)}return(oe===t.R16F||oe===t.R32F||oe===t.RG16F||oe===t.RG32F||oe===t.RGBA16F||oe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),oe}function A(E,k,K){return y(E,K)===!0||E.isFramebufferTexture&&E.minFilter!==rn&&E.minFilter!==un?Math.log2(Math.max(k.width,k.height))+1:E.mipmaps!==void 0&&E.mipmaps.length>0?E.mipmaps.length:E.isCompressedTexture&&Array.isArray(E.image)?k.mipmaps.length:1}function R(E){return E===rn||E===Rp||E===fo?t.NEAREST:t.LINEAR}function C(E){const k=E.target;k.removeEventListener("dispose",C),X(k),k.isVideoTexture&&d.delete(k)}function V(E){const k=E.target;k.removeEventListener("dispose",V),F(k)}function X(E){const k=r.get(E);if(k.__webglInit===void 0)return;const K=E.source,Y=p.get(K);if(Y){const te=Y[k.__cacheKey];te.usedTimes--,te.usedTimes===0&&b(E),Object.keys(Y).length===0&&p.delete(K)}r.remove(E)}function b(E){const k=r.get(E);t.deleteTexture(k.__webglTexture);const K=E.source,Y=p.get(K);delete Y[k.__cacheKey],s.memory.textures--}function F(E){const k=E.texture,K=r.get(E),Y=r.get(k);if(Y.__webglTexture!==void 0&&(t.deleteTexture(Y.__webglTexture),s.memory.textures--),E.depthTexture&&E.depthTexture.dispose(),E.isWebGLCubeRenderTarget)for(let te=0;te<6;te++){if(Array.isArray(K.__webglFramebuffer[te]))for(let oe=0;oe<K.__webglFramebuffer[te].length;oe++)t.deleteFramebuffer(K.__webglFramebuffer[te][oe]);else t.deleteFramebuffer(K.__webglFramebuffer[te]);K.__webglDepthbuffer&&t.deleteRenderbuffer(K.__webglDepthbuffer[te])}else{if(Array.isArray(K.__webglFramebuffer))for(let te=0;te<K.__webglFramebuffer.length;te++)t.deleteFramebuffer(K.__webglFramebuffer[te]);else t.deleteFramebuffer(K.__webglFramebuffer);if(K.__webglDepthbuffer&&t.deleteRenderbuffer(K.__webglDepthbuffer),K.__webglMultisampledFramebuffer&&t.deleteFramebuffer(K.__webglMultisampledFramebuffer),K.__webglColorRenderbuffer)for(let te=0;te<K.__webglColorRenderbuffer.length;te++)K.__webglColorRenderbuffer[te]&&t.deleteRenderbuffer(K.__webglColorRenderbuffer[te]);K.__webglDepthRenderbuffer&&t.deleteRenderbuffer(K.__webglDepthRenderbuffer)}if(E.isWebGLMultipleRenderTargets)for(let te=0,oe=k.length;te<oe;te++){const le=r.get(k[te]);le.__webglTexture&&(t.deleteTexture(le.__webglTexture),s.memory.textures--),r.remove(k[te])}r.remove(k),r.remove(E)}let I=0;function J(){I=0}function x(){const E=I;return E>=a.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+E+" texture units while this GPU supports only "+a.maxTextures),I+=1,E}function P(E){const k=[];return k.push(E.wrapS),k.push(E.wrapT),k.push(E.wrapR||0),k.push(E.magFilter),k.push(E.minFilter),k.push(E.anisotropy),k.push(E.internalFormat),k.push(E.format),k.push(E.type),k.push(E.generateMipmaps),k.push(E.premultiplyAlpha),k.push(E.flipY),k.push(E.unpackAlignment),k.push(E.colorSpace),k.join()}function U(E,k){const K=r.get(E);if(E.isVideoTexture&&G(E),E.isRenderTargetTexture===!1&&E.version>0&&K.__version!==E.version){const Y=E.image;if(Y===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Y.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ne(K,E,k);return}}i.bindTexture(t.TEXTURE_2D,K.__webglTexture,t.TEXTURE0+k)}function N(E,k){const K=r.get(E);if(E.version>0&&K.__version!==E.version){ne(K,E,k);return}i.bindTexture(t.TEXTURE_2D_ARRAY,K.__webglTexture,t.TEXTURE0+k)}function z(E,k){const K=r.get(E);if(E.version>0&&K.__version!==E.version){ne(K,E,k);return}i.bindTexture(t.TEXTURE_3D,K.__webglTexture,t.TEXTURE0+k)}function O(E,k){const K=r.get(E);if(E.version>0&&K.__version!==E.version){se(K,E,k);return}i.bindTexture(t.TEXTURE_CUBE_MAP,K.__webglTexture,t.TEXTURE0+k)}const $={[Yl]:t.REPEAT,[Kn]:t.CLAMP_TO_EDGE,[zh]:t.MIRRORED_REPEAT},H={[rn]:t.NEAREST,[Rp]:t.NEAREST_MIPMAP_NEAREST,[fo]:t.NEAREST_MIPMAP_LINEAR,[un]:t.LINEAR,[rc]:t.LINEAR_MIPMAP_NEAREST,[Rr]:t.LINEAR_MIPMAP_LINEAR},W={[r1]:t.NEVER,[c1]:t.ALWAYS,[a1]:t.LESS,[Q0]:t.LEQUAL,[o1]:t.EQUAL,[u1]:t.GEQUAL,[s1]:t.GREATER,[l1]:t.NOTEQUAL};function fe(E,k,K){if(k.type===Si&&e.has("OES_texture_float_linear")===!1&&(k.magFilter===un||k.magFilter===rc||k.magFilter===fo||k.magFilter===Rr||k.minFilter===un||k.minFilter===rc||k.minFilter===fo||k.minFilter===Rr)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),K?(t.texParameteri(E,t.TEXTURE_WRAP_S,$[k.wrapS]),t.texParameteri(E,t.TEXTURE_WRAP_T,$[k.wrapT]),(E===t.TEXTURE_3D||E===t.TEXTURE_2D_ARRAY)&&t.texParameteri(E,t.TEXTURE_WRAP_R,$[k.wrapR]),t.texParameteri(E,t.TEXTURE_MAG_FILTER,H[k.magFilter]),t.texParameteri(E,t.TEXTURE_MIN_FILTER,H[k.minFilter])):(t.texParameteri(E,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(E,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(E===t.TEXTURE_3D||E===t.TEXTURE_2D_ARRAY)&&t.texParameteri(E,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(k.wrapS!==Kn||k.wrapT!==Kn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(E,t.TEXTURE_MAG_FILTER,R(k.magFilter)),t.texParameteri(E,t.TEXTURE_MIN_FILTER,R(k.minFilter)),k.minFilter!==rn&&k.minFilter!==un&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),k.compareFunction&&(t.texParameteri(E,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(E,t.TEXTURE_COMPARE_FUNC,W[k.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Y=e.get("EXT_texture_filter_anisotropic");if(k.magFilter===rn||k.minFilter!==fo&&k.minFilter!==Rr||k.type===Si&&e.has("OES_texture_float_linear")===!1||l===!1&&k.type===is&&e.has("OES_texture_half_float_linear")===!1)return;(k.anisotropy>1||r.get(k).__currentAnisotropy)&&(t.texParameterf(E,Y.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,a.getMaxAnisotropy())),r.get(k).__currentAnisotropy=k.anisotropy)}}function q(E,k){let K=!1;E.__webglInit===void 0&&(E.__webglInit=!0,k.addEventListener("dispose",C));const Y=k.source;let te=p.get(Y);te===void 0&&(te={},p.set(Y,te));const oe=P(k);if(oe!==E.__cacheKey){te[oe]===void 0&&(te[oe]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,K=!0),te[oe].usedTimes++;const le=te[E.__cacheKey];le!==void 0&&(te[E.__cacheKey].usedTimes--,le.usedTimes===0&&b(k)),E.__cacheKey=oe,E.__webglTexture=te[oe].texture}return K}function ne(E,k,K){let Y=t.TEXTURE_2D;(k.isDataArrayTexture||k.isCompressedArrayTexture)&&(Y=t.TEXTURE_2D_ARRAY),k.isData3DTexture&&(Y=t.TEXTURE_3D);const te=q(E,k),oe=k.source;i.bindTexture(Y,E.__webglTexture,t.TEXTURE0+K);const le=r.get(oe);if(oe.version!==le.__version||te===!0){i.activeTexture(t.TEXTURE0+K);const de=ot.getPrimaries(ot.workingColorSpace),_e=k.colorSpace===Dn?null:ot.getPrimaries(k.colorSpace),Te=k.colorSpace===Dn||de===_e?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,k.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,k.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Te);const Fe=h(k)&&g(k.image)===!1;let me=v(k.image,Fe,!1,a.maxTextureSize);me=D(k,me);const je=g(me)||l,He=o.convert(k.format,k.colorSpace);let Ae=o.convert(k.type),De=M(k.internalFormat,He,Ae,k.colorSpace,k.isVideoTexture);fe(Y,k,je);let Ce;const Be=k.mipmaps,Z=l&&k.isVideoTexture!==!0&&De!==q0,xe=le.__version===void 0||te===!0,be=oe.dataReady,Ne=A(k,me,je);if(k.isDepthTexture)De=t.DEPTH_COMPONENT,l?k.type===Si?De=t.DEPTH_COMPONENT32F:k.type===Xi?De=t.DEPTH_COMPONENT24:k.type===Dr?De=t.DEPTH24_STENCIL8:De=t.DEPTH_COMPONENT16:k.type===Si&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),k.format===Lr&&De===t.DEPTH_COMPONENT&&k.type!==Kd&&k.type!==Xi&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),k.type=Xi,Ae=o.convert(k.type)),k.format===Xa&&De===t.DEPTH_COMPONENT&&(De=t.DEPTH_STENCIL,k.type!==Dr&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),k.type=Dr,Ae=o.convert(k.type))),xe&&(Z?i.texStorage2D(t.TEXTURE_2D,1,De,me.width,me.height):i.texImage2D(t.TEXTURE_2D,0,De,me.width,me.height,0,He,Ae,null));else if(k.isDataTexture)if(Be.length>0&&je){Z&&xe&&i.texStorage2D(t.TEXTURE_2D,Ne,De,Be[0].width,Be[0].height);for(let j=0,ve=Be.length;j<ve;j++)Ce=Be[j],Z?be&&i.texSubImage2D(t.TEXTURE_2D,j,0,0,Ce.width,Ce.height,He,Ae,Ce.data):i.texImage2D(t.TEXTURE_2D,j,De,Ce.width,Ce.height,0,He,Ae,Ce.data);k.generateMipmaps=!1}else Z?(xe&&i.texStorage2D(t.TEXTURE_2D,Ne,De,me.width,me.height),be&&i.texSubImage2D(t.TEXTURE_2D,0,0,0,me.width,me.height,He,Ae,me.data)):i.texImage2D(t.TEXTURE_2D,0,De,me.width,me.height,0,He,Ae,me.data);else if(k.isCompressedTexture)if(k.isCompressedArrayTexture){Z&&xe&&i.texStorage3D(t.TEXTURE_2D_ARRAY,Ne,De,Be[0].width,Be[0].height,me.depth);for(let j=0,ve=Be.length;j<ve;j++)Ce=Be[j],k.format!==Xn?He!==null?Z?be&&i.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,j,0,0,0,Ce.width,Ce.height,me.depth,He,Ce.data,0,0):i.compressedTexImage3D(t.TEXTURE_2D_ARRAY,j,De,Ce.width,Ce.height,me.depth,0,Ce.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Z?be&&i.texSubImage3D(t.TEXTURE_2D_ARRAY,j,0,0,0,Ce.width,Ce.height,me.depth,He,Ae,Ce.data):i.texImage3D(t.TEXTURE_2D_ARRAY,j,De,Ce.width,Ce.height,me.depth,0,He,Ae,Ce.data)}else{Z&&xe&&i.texStorage2D(t.TEXTURE_2D,Ne,De,Be[0].width,Be[0].height);for(let j=0,ve=Be.length;j<ve;j++)Ce=Be[j],k.format!==Xn?He!==null?Z?be&&i.compressedTexSubImage2D(t.TEXTURE_2D,j,0,0,Ce.width,Ce.height,He,Ce.data):i.compressedTexImage2D(t.TEXTURE_2D,j,De,Ce.width,Ce.height,0,Ce.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Z?be&&i.texSubImage2D(t.TEXTURE_2D,j,0,0,Ce.width,Ce.height,He,Ae,Ce.data):i.texImage2D(t.TEXTURE_2D,j,De,Ce.width,Ce.height,0,He,Ae,Ce.data)}else if(k.isDataArrayTexture)Z?(xe&&i.texStorage3D(t.TEXTURE_2D_ARRAY,Ne,De,me.width,me.height,me.depth),be&&i.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,me.width,me.height,me.depth,He,Ae,me.data)):i.texImage3D(t.TEXTURE_2D_ARRAY,0,De,me.width,me.height,me.depth,0,He,Ae,me.data);else if(k.isData3DTexture)Z?(xe&&i.texStorage3D(t.TEXTURE_3D,Ne,De,me.width,me.height,me.depth),be&&i.texSubImage3D(t.TEXTURE_3D,0,0,0,0,me.width,me.height,me.depth,He,Ae,me.data)):i.texImage3D(t.TEXTURE_3D,0,De,me.width,me.height,me.depth,0,He,Ae,me.data);else if(k.isFramebufferTexture){if(xe)if(Z)i.texStorage2D(t.TEXTURE_2D,Ne,De,me.width,me.height);else{let j=me.width,ve=me.height;for(let ge=0;ge<Ne;ge++)i.texImage2D(t.TEXTURE_2D,ge,De,j,ve,0,He,Ae,null),j>>=1,ve>>=1}}else if(Be.length>0&&je){Z&&xe&&i.texStorage2D(t.TEXTURE_2D,Ne,De,Be[0].width,Be[0].height);for(let j=0,ve=Be.length;j<ve;j++)Ce=Be[j],Z?be&&i.texSubImage2D(t.TEXTURE_2D,j,0,0,He,Ae,Ce):i.texImage2D(t.TEXTURE_2D,j,De,He,Ae,Ce);k.generateMipmaps=!1}else Z?(xe&&i.texStorage2D(t.TEXTURE_2D,Ne,De,me.width,me.height),be&&i.texSubImage2D(t.TEXTURE_2D,0,0,0,He,Ae,me)):i.texImage2D(t.TEXTURE_2D,0,De,He,Ae,me);y(k,je)&&_(Y),le.__version=oe.version,k.onUpdate&&k.onUpdate(k)}E.__version=k.version}function se(E,k,K){if(k.image.length!==6)return;const Y=q(E,k),te=k.source;i.bindTexture(t.TEXTURE_CUBE_MAP,E.__webglTexture,t.TEXTURE0+K);const oe=r.get(te);if(te.version!==oe.__version||Y===!0){i.activeTexture(t.TEXTURE0+K);const le=ot.getPrimaries(ot.workingColorSpace),de=k.colorSpace===Dn?null:ot.getPrimaries(k.colorSpace),_e=k.colorSpace===Dn||le===de?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,k.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,k.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,_e);const Te=k.isCompressedTexture||k.image[0].isCompressedTexture,Fe=k.image[0]&&k.image[0].isDataTexture,me=[];for(let j=0;j<6;j++)!Te&&!Fe?me[j]=v(k.image[j],!1,!0,a.maxCubemapSize):me[j]=Fe?k.image[j].image:k.image[j],me[j]=D(k,me[j]);const je=me[0],He=g(je)||l,Ae=o.convert(k.format,k.colorSpace),De=o.convert(k.type),Ce=M(k.internalFormat,Ae,De,k.colorSpace),Be=l&&k.isVideoTexture!==!0,Z=oe.__version===void 0||Y===!0,xe=te.dataReady;let be=A(k,je,He);fe(t.TEXTURE_CUBE_MAP,k,He);let Ne;if(Te){Be&&Z&&i.texStorage2D(t.TEXTURE_CUBE_MAP,be,Ce,je.width,je.height);for(let j=0;j<6;j++){Ne=me[j].mipmaps;for(let ve=0;ve<Ne.length;ve++){const ge=Ne[ve];k.format!==Xn?Ae!==null?Be?xe&&i.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+j,ve,0,0,ge.width,ge.height,Ae,ge.data):i.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+j,ve,Ce,ge.width,ge.height,0,ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Be?xe&&i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+j,ve,0,0,ge.width,ge.height,Ae,De,ge.data):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+j,ve,Ce,ge.width,ge.height,0,Ae,De,ge.data)}}}else{Ne=k.mipmaps,Be&&Z&&(Ne.length>0&&be++,i.texStorage2D(t.TEXTURE_CUBE_MAP,be,Ce,me[0].width,me[0].height));for(let j=0;j<6;j++)if(Fe){Be?xe&&i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+j,0,0,0,me[j].width,me[j].height,Ae,De,me[j].data):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+j,0,Ce,me[j].width,me[j].height,0,Ae,De,me[j].data);for(let ve=0;ve<Ne.length;ve++){const Le=Ne[ve].image[j].image;Be?xe&&i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+j,ve+1,0,0,Le.width,Le.height,Ae,De,Le.data):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+j,ve+1,Ce,Le.width,Le.height,0,Ae,De,Le.data)}}else{Be?xe&&i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+j,0,0,0,Ae,De,me[j]):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+j,0,Ce,Ae,De,me[j]);for(let ve=0;ve<Ne.length;ve++){const ge=Ne[ve];Be?xe&&i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+j,ve+1,0,0,Ae,De,ge.image[j]):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+j,ve+1,Ce,Ae,De,ge.image[j])}}}y(k,He)&&_(t.TEXTURE_CUBE_MAP),oe.__version=te.version,k.onUpdate&&k.onUpdate(k)}E.__version=k.version}function Me(E,k,K,Y,te,oe){const le=o.convert(K.format,K.colorSpace),de=o.convert(K.type),_e=M(K.internalFormat,le,de,K.colorSpace);if(!r.get(k).__hasExternalTextures){const Fe=Math.max(1,k.width>>oe),me=Math.max(1,k.height>>oe);te===t.TEXTURE_3D||te===t.TEXTURE_2D_ARRAY?i.texImage3D(te,oe,_e,Fe,me,k.depth,0,le,de,null):i.texImage2D(te,oe,_e,Fe,me,0,le,de,null)}i.bindFramebuffer(t.FRAMEBUFFER,E),Q(k)?u.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Y,te,r.get(K).__webglTexture,0,re(k)):(te===t.TEXTURE_2D||te>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&te<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Y,te,r.get(K).__webglTexture,oe),i.bindFramebuffer(t.FRAMEBUFFER,null)}function we(E,k,K){if(t.bindRenderbuffer(t.RENDERBUFFER,E),k.depthBuffer&&!k.stencilBuffer){let Y=l===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(K||Q(k)){const te=k.depthTexture;te&&te.isDepthTexture&&(te.type===Si?Y=t.DEPTH_COMPONENT32F:te.type===Xi&&(Y=t.DEPTH_COMPONENT24));const oe=re(k);Q(k)?u.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,oe,Y,k.width,k.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,oe,Y,k.width,k.height)}else t.renderbufferStorage(t.RENDERBUFFER,Y,k.width,k.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,E)}else if(k.depthBuffer&&k.stencilBuffer){const Y=re(k);K&&Q(k)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Y,t.DEPTH24_STENCIL8,k.width,k.height):Q(k)?u.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Y,t.DEPTH24_STENCIL8,k.width,k.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,k.width,k.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,E)}else{const Y=k.isWebGLMultipleRenderTargets===!0?k.texture:[k.texture];for(let te=0;te<Y.length;te++){const oe=Y[te],le=o.convert(oe.format,oe.colorSpace),de=o.convert(oe.type),_e=M(oe.internalFormat,le,de,oe.colorSpace),Te=re(k);K&&Q(k)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Te,_e,k.width,k.height):Q(k)?u.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Te,_e,k.width,k.height):t.renderbufferStorage(t.RENDERBUFFER,_e,k.width,k.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Se(E,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(i.bindFramebuffer(t.FRAMEBUFFER,E),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),U(k.depthTexture,0);const Y=r.get(k.depthTexture).__webglTexture,te=re(k);if(k.depthTexture.format===Lr)Q(k)?u.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Y,0,te):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Y,0);else if(k.depthTexture.format===Xa)Q(k)?u.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Y,0,te):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Y,0);else throw new Error("Unknown depthTexture format")}function Ie(E){const k=r.get(E),K=E.isWebGLCubeRenderTarget===!0;if(E.depthTexture&&!k.__autoAllocateDepthBuffer){if(K)throw new Error("target.depthTexture not supported in Cube render targets");Se(k.__webglFramebuffer,E)}else if(K){k.__webglDepthbuffer=[];for(let Y=0;Y<6;Y++)i.bindFramebuffer(t.FRAMEBUFFER,k.__webglFramebuffer[Y]),k.__webglDepthbuffer[Y]=t.createRenderbuffer(),we(k.__webglDepthbuffer[Y],E,!1)}else i.bindFramebuffer(t.FRAMEBUFFER,k.__webglFramebuffer),k.__webglDepthbuffer=t.createRenderbuffer(),we(k.__webglDepthbuffer,E,!1);i.bindFramebuffer(t.FRAMEBUFFER,null)}function ke(E,k,K){const Y=r.get(E);k!==void 0&&Me(Y.__webglFramebuffer,E,E.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),K!==void 0&&Ie(E)}function ie(E){const k=E.texture,K=r.get(E),Y=r.get(k);E.addEventListener("dispose",V),E.isWebGLMultipleRenderTargets!==!0&&(Y.__webglTexture===void 0&&(Y.__webglTexture=t.createTexture()),Y.__version=k.version,s.memory.textures++);const te=E.isWebGLCubeRenderTarget===!0,oe=E.isWebGLMultipleRenderTargets===!0,le=g(E)||l;if(te){K.__webglFramebuffer=[];for(let de=0;de<6;de++)if(l&&k.mipmaps&&k.mipmaps.length>0){K.__webglFramebuffer[de]=[];for(let _e=0;_e<k.mipmaps.length;_e++)K.__webglFramebuffer[de][_e]=t.createFramebuffer()}else K.__webglFramebuffer[de]=t.createFramebuffer()}else{if(l&&k.mipmaps&&k.mipmaps.length>0){K.__webglFramebuffer=[];for(let de=0;de<k.mipmaps.length;de++)K.__webglFramebuffer[de]=t.createFramebuffer()}else K.__webglFramebuffer=t.createFramebuffer();if(oe)if(a.drawBuffers){const de=E.texture;for(let _e=0,Te=de.length;_e<Te;_e++){const Fe=r.get(de[_e]);Fe.__webglTexture===void 0&&(Fe.__webglTexture=t.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&E.samples>0&&Q(E)===!1){const de=oe?k:[k];K.__webglMultisampledFramebuffer=t.createFramebuffer(),K.__webglColorRenderbuffer=[],i.bindFramebuffer(t.FRAMEBUFFER,K.__webglMultisampledFramebuffer);for(let _e=0;_e<de.length;_e++){const Te=de[_e];K.__webglColorRenderbuffer[_e]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,K.__webglColorRenderbuffer[_e]);const Fe=o.convert(Te.format,Te.colorSpace),me=o.convert(Te.type),je=M(Te.internalFormat,Fe,me,Te.colorSpace,E.isXRRenderTarget===!0),He=re(E);t.renderbufferStorageMultisample(t.RENDERBUFFER,He,je,E.width,E.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+_e,t.RENDERBUFFER,K.__webglColorRenderbuffer[_e])}t.bindRenderbuffer(t.RENDERBUFFER,null),E.depthBuffer&&(K.__webglDepthRenderbuffer=t.createRenderbuffer(),we(K.__webglDepthRenderbuffer,E,!0)),i.bindFramebuffer(t.FRAMEBUFFER,null)}}if(te){i.bindTexture(t.TEXTURE_CUBE_MAP,Y.__webglTexture),fe(t.TEXTURE_CUBE_MAP,k,le);for(let de=0;de<6;de++)if(l&&k.mipmaps&&k.mipmaps.length>0)for(let _e=0;_e<k.mipmaps.length;_e++)Me(K.__webglFramebuffer[de][_e],E,k,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+de,_e);else Me(K.__webglFramebuffer[de],E,k,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+de,0);y(k,le)&&_(t.TEXTURE_CUBE_MAP),i.unbindTexture()}else if(oe){const de=E.texture;for(let _e=0,Te=de.length;_e<Te;_e++){const Fe=de[_e],me=r.get(Fe);i.bindTexture(t.TEXTURE_2D,me.__webglTexture),fe(t.TEXTURE_2D,Fe,le),Me(K.__webglFramebuffer,E,Fe,t.COLOR_ATTACHMENT0+_e,t.TEXTURE_2D,0),y(Fe,le)&&_(t.TEXTURE_2D)}i.unbindTexture()}else{let de=t.TEXTURE_2D;if((E.isWebGL3DRenderTarget||E.isWebGLArrayRenderTarget)&&(l?de=E.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),i.bindTexture(de,Y.__webglTexture),fe(de,k,le),l&&k.mipmaps&&k.mipmaps.length>0)for(let _e=0;_e<k.mipmaps.length;_e++)Me(K.__webglFramebuffer[_e],E,k,t.COLOR_ATTACHMENT0,de,_e);else Me(K.__webglFramebuffer,E,k,t.COLOR_ATTACHMENT0,de,0);y(k,le)&&_(de),i.unbindTexture()}E.depthBuffer&&Ie(E)}function Qe(E){const k=g(E)||l,K=E.isWebGLMultipleRenderTargets===!0?E.texture:[E.texture];for(let Y=0,te=K.length;Y<te;Y++){const oe=K[Y];if(y(oe,k)){const le=E.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,de=r.get(oe).__webglTexture;i.bindTexture(le,de),_(le),i.unbindTexture()}}}function T(E){if(l&&E.samples>0&&Q(E)===!1){const k=E.isWebGLMultipleRenderTargets?E.texture:[E.texture],K=E.width,Y=E.height;let te=t.COLOR_BUFFER_BIT;const oe=[],le=E.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,de=r.get(E),_e=E.isWebGLMultipleRenderTargets===!0;if(_e)for(let Te=0;Te<k.length;Te++)i.bindFramebuffer(t.FRAMEBUFFER,de.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Te,t.RENDERBUFFER,null),i.bindFramebuffer(t.FRAMEBUFFER,de.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Te,t.TEXTURE_2D,null,0);i.bindFramebuffer(t.READ_FRAMEBUFFER,de.__webglMultisampledFramebuffer),i.bindFramebuffer(t.DRAW_FRAMEBUFFER,de.__webglFramebuffer);for(let Te=0;Te<k.length;Te++){oe.push(t.COLOR_ATTACHMENT0+Te),E.depthBuffer&&oe.push(le);const Fe=de.__ignoreDepthValues!==void 0?de.__ignoreDepthValues:!1;if(Fe===!1&&(E.depthBuffer&&(te|=t.DEPTH_BUFFER_BIT),E.stencilBuffer&&(te|=t.STENCIL_BUFFER_BIT)),_e&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,de.__webglColorRenderbuffer[Te]),Fe===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[le]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[le])),_e){const me=r.get(k[Te]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,me,0)}t.blitFramebuffer(0,0,K,Y,0,0,K,Y,te,t.NEAREST),c&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,oe)}if(i.bindFramebuffer(t.READ_FRAMEBUFFER,null),i.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),_e)for(let Te=0;Te<k.length;Te++){i.bindFramebuffer(t.FRAMEBUFFER,de.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Te,t.RENDERBUFFER,de.__webglColorRenderbuffer[Te]);const Fe=r.get(k[Te]).__webglTexture;i.bindFramebuffer(t.FRAMEBUFFER,de.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Te,t.TEXTURE_2D,Fe,0)}i.bindFramebuffer(t.DRAW_FRAMEBUFFER,de.__webglMultisampledFramebuffer)}}function re(E){return Math.min(a.maxSamples,E.samples)}function Q(E){const k=r.get(E);return l&&E.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function G(E){const k=s.render.frame;d.get(E)!==k&&(d.set(E,k),E.update())}function D(E,k){const K=E.colorSpace,Y=E.format,te=E.type;return E.isCompressedTexture===!0||E.isVideoTexture===!0||E.format===Gh||K!==Ai&&K!==Dn&&(ot.getTransfer(K)===ct?l===!1?e.has("EXT_sRGB")===!0&&Y===Xn?(E.format=Gh,E.minFilter=un,E.generateMipmaps=!1):k=tv.sRGBToLinear(k):(Y!==Xn||te!==ar)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",K)),k}this.allocateTextureUnit=x,this.resetTextureUnits=J,this.setTexture2D=U,this.setTexture2DArray=N,this.setTexture3D=z,this.setTextureCube=O,this.rebindTextures=ke,this.setupRenderTarget=ie,this.updateRenderTargetMipmap=Qe,this.updateMultisampleRenderTarget=T,this.setupDepthRenderbuffer=Ie,this.setupFrameBufferTexture=Me,this.useMultisampledRTT=Q}function bk(t,e,i){const r=i.isWebGL2;function a(o,s=Dn){let l;const u=ot.getTransfer(s);if(o===ar)return t.UNSIGNED_BYTE;if(o===j0)return t.UNSIGNED_SHORT_4_4_4_4;if(o===K0)return t.UNSIGNED_SHORT_5_5_5_1;if(o===Xx)return t.BYTE;if(o===Yx)return t.SHORT;if(o===Kd)return t.UNSIGNED_SHORT;if(o===V0)return t.INT;if(o===Xi)return t.UNSIGNED_INT;if(o===Si)return t.FLOAT;if(o===is)return r?t.HALF_FLOAT:(l=e.get("OES_texture_half_float"),l!==null?l.HALF_FLOAT_OES:null);if(o===Zx)return t.ALPHA;if(o===Xn)return t.RGBA;if(o===qx)return t.LUMINANCE;if(o===Jx)return t.LUMINANCE_ALPHA;if(o===Lr)return t.DEPTH_COMPONENT;if(o===Xa)return t.DEPTH_STENCIL;if(o===Gh)return l=e.get("EXT_sRGB"),l!==null?l.SRGB_ALPHA_EXT:null;if(o===$x)return t.RED;if(o===X0)return t.RED_INTEGER;if(o===Qx)return t.RG;if(o===Y0)return t.RG_INTEGER;if(o===Z0)return t.RGBA_INTEGER;if(o===ac||o===oc||o===sc||o===lc)if(u===ct)if(l=e.get("WEBGL_compressed_texture_s3tc_srgb"),l!==null){if(o===ac)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===oc)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===sc)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===lc)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(l=e.get("WEBGL_compressed_texture_s3tc"),l!==null){if(o===ac)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===oc)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===sc)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===lc)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===Pp||o===Ip||o===Dp||o===Lp)if(l=e.get("WEBGL_compressed_texture_pvrtc"),l!==null){if(o===Pp)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===Ip)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===Dp)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===Lp)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===q0)return l=e.get("WEBGL_compressed_texture_etc1"),l!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===Np||o===Fp)if(l=e.get("WEBGL_compressed_texture_etc"),l!==null){if(o===Np)return u===ct?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(o===Fp)return u===ct?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===Up||o===Op||o===Bp||o===zp||o===Gp||o===Hp||o===Wp||o===Vp||o===jp||o===Kp||o===Xp||o===Yp||o===Zp||o===qp)if(l=e.get("WEBGL_compressed_texture_astc"),l!==null){if(o===Up)return u===ct?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===Op)return u===ct?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===Bp)return u===ct?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===zp)return u===ct?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===Gp)return u===ct?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===Hp)return u===ct?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===Wp)return u===ct?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===Vp)return u===ct?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===jp)return u===ct?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===Kp)return u===ct?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===Xp)return u===ct?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===Yp)return u===ct?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===Zp)return u===ct?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===qp)return u===ct?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===uc||o===Jp||o===$p)if(l=e.get("EXT_texture_compression_bptc"),l!==null){if(o===uc)return u===ct?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(o===Jp)return l.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(o===$p)return l.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(o===e1||o===Qp||o===em||o===tm)if(l=e.get("EXT_texture_compression_rgtc"),l!==null){if(o===uc)return l.COMPRESSED_RED_RGTC1_EXT;if(o===Qp)return l.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===em)return l.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===tm)return l.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===Dr?r?t.UNSIGNED_INT_24_8:(l=e.get("WEBGL_depth_texture"),l!==null?l.UNSIGNED_INT_24_8_WEBGL:null):t[o]!==void 0?t[o]:null}return{convert:a}}class kk extends _n{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ca extends Jt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Ck={type:"move"};class Ic{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ca,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ca,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ee),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ca,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ee),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const i=this._hand;if(i)for(const r of e.hand.values())this._getHandJoint(i,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,i,r){let a=null,o=null,s=null;const l=this._targetRay,u=this._grip,c=this._hand;if(e&&i.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const v of e.hand.values()){const g=i.getJointPose(v,r),h=this._getHandJoint(c,v);g!==null&&(h.matrix.fromArray(g.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,h.jointRadius=g.radius),h.visible=g!==null}const d=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],p=d.position.distanceTo(f.position),m=.02,S=.005;c.inputState.pinching&&p>m+S?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-S&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(o=i.getPose(e.gripSpace,r),o!==null&&(u.matrix.fromArray(o.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,o.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(o.linearVelocity)):u.hasLinearVelocity=!1,o.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(o.angularVelocity)):u.hasAngularVelocity=!1));l!==null&&(a=i.getPose(e.targetRaySpace,r),a===null&&o!==null&&(a=o),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(Ck)))}return l!==null&&(l.visible=a!==null),u!==null&&(u.visible=o!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,i){if(e.joints[i.jointName]===void 0){const r=new Ca;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[i.jointName]=r,e.add(r)}return e.joints[i.jointName]}}const Ak=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Rk=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Pk{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,i,r){if(this.texture===null){const a=new on,o=e.properties.get(a);o.__webglTexture=i.texture,(i.depthNear!=r.depthNear||i.depthFar!=r.depthFar)&&(this.depthNear=i.depthNear,this.depthFar=i.depthFar),this.texture=a}}render(e,i){if(this.texture!==null){if(this.mesh===null){const r=i.cameras[0].viewport,a=new lr({extensions:{fragDepth:!0},vertexShader:Ak,fragmentShader:Rk,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new Nn(new Tu(20,20),a)}e.render(this.mesh,i)}}reset(){this.texture=null,this.mesh=null}}class Ik extends Xr{constructor(e,i){super();const r=this;let a=null,o=1,s=null,l="local-floor",u=1,c=null,d=null,f=null,p=null,m=null,S=null;const v=new Pk,g=i.getContextAttributes();let h=null,y=null;const _=[],M=[],A=new Ge;let R=null;const C=new _n;C.layers.enable(1),C.viewport=new pt;const V=new _n;V.layers.enable(2),V.viewport=new pt;const X=[C,V],b=new kk;b.layers.enable(1),b.layers.enable(2);let F=null,I=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(q){let ne=_[q];return ne===void 0&&(ne=new Ic,_[q]=ne),ne.getTargetRaySpace()},this.getControllerGrip=function(q){let ne=_[q];return ne===void 0&&(ne=new Ic,_[q]=ne),ne.getGripSpace()},this.getHand=function(q){let ne=_[q];return ne===void 0&&(ne=new Ic,_[q]=ne),ne.getHandSpace()};function J(q){const ne=M.indexOf(q.inputSource);if(ne===-1)return;const se=_[ne];se!==void 0&&(se.update(q.inputSource,q.frame,c||s),se.dispatchEvent({type:q.type,data:q.inputSource}))}function x(){a.removeEventListener("select",J),a.removeEventListener("selectstart",J),a.removeEventListener("selectend",J),a.removeEventListener("squeeze",J),a.removeEventListener("squeezestart",J),a.removeEventListener("squeezeend",J),a.removeEventListener("end",x),a.removeEventListener("inputsourceschange",P);for(let q=0;q<_.length;q++){const ne=M[q];ne!==null&&(M[q]=null,_[q].disconnect(ne))}F=null,I=null,v.reset(),e.setRenderTarget(h),m=null,p=null,f=null,a=null,y=null,fe.stop(),r.isPresenting=!1,e.setPixelRatio(R),e.setSize(A.width,A.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(q){o=q,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(q){l=q,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(q){c=q},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f},this.getFrame=function(){return S},this.getSession=function(){return a},this.setSession=async function(q){if(a=q,a!==null){if(h=e.getRenderTarget(),a.addEventListener("select",J),a.addEventListener("selectstart",J),a.addEventListener("selectend",J),a.addEventListener("squeeze",J),a.addEventListener("squeezestart",J),a.addEventListener("squeezeend",J),a.addEventListener("end",x),a.addEventListener("inputsourceschange",P),g.xrCompatible!==!0&&await i.makeXRCompatible(),R=e.getPixelRatio(),e.getSize(A),a.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ne={antialias:a.renderState.layers===void 0?g.antialias:!0,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:o};m=new XRWebGLLayer(a,i,ne),a.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),y=new Hr(m.framebufferWidth,m.framebufferHeight,{format:Xn,type:ar,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil})}else{let ne=null,se=null,Me=null;g.depth&&(Me=g.stencil?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24,ne=g.stencil?Xa:Lr,se=g.stencil?Dr:Xi);const we={colorFormat:i.RGBA8,depthFormat:Me,scaleFactor:o};f=new XRWebGLBinding(a,i),p=f.createProjectionLayer(we),a.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),y=new Hr(p.textureWidth,p.textureHeight,{format:Xn,type:ar,depthTexture:new fv(p.textureWidth,p.textureHeight,se,void 0,void 0,void 0,void 0,void 0,void 0,ne),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0});const Se=e.properties.get(y);Se.__ignoreDepthValues=p.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(u),c=null,s=await a.requestReferenceSpace(l),fe.setContext(a),fe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode};function P(q){for(let ne=0;ne<q.removed.length;ne++){const se=q.removed[ne],Me=M.indexOf(se);Me>=0&&(M[Me]=null,_[Me].disconnect(se))}for(let ne=0;ne<q.added.length;ne++){const se=q.added[ne];let Me=M.indexOf(se);if(Me===-1){for(let Se=0;Se<_.length;Se++)if(Se>=M.length){M.push(se),Me=Se;break}else if(M[Se]===null){M[Se]=se,Me=Se;break}if(Me===-1)break}const we=_[Me];we&&we.connect(se)}}const U=new ee,N=new ee;function z(q,ne,se){U.setFromMatrixPosition(ne.matrixWorld),N.setFromMatrixPosition(se.matrixWorld);const Me=U.distanceTo(N),we=ne.projectionMatrix.elements,Se=se.projectionMatrix.elements,Ie=we[14]/(we[10]-1),ke=we[14]/(we[10]+1),ie=(we[9]+1)/we[5],Qe=(we[9]-1)/we[5],T=(we[8]-1)/we[0],re=(Se[8]+1)/Se[0],Q=Ie*T,G=Ie*re,D=Me/(-T+re),E=D*-T;ne.matrixWorld.decompose(q.position,q.quaternion,q.scale),q.translateX(E),q.translateZ(D),q.matrixWorld.compose(q.position,q.quaternion,q.scale),q.matrixWorldInverse.copy(q.matrixWorld).invert();const k=Ie+D,K=ke+D,Y=Q-E,te=G+(Me-E),oe=ie*ke/K*k,le=Qe*ke/K*k;q.projectionMatrix.makePerspective(Y,te,oe,le,k,K),q.projectionMatrixInverse.copy(q.projectionMatrix).invert()}function O(q,ne){ne===null?q.matrixWorld.copy(q.matrix):q.matrixWorld.multiplyMatrices(ne.matrixWorld,q.matrix),q.matrixWorldInverse.copy(q.matrixWorld).invert()}this.updateCamera=function(q){if(a===null)return;v.texture!==null&&(q.near=v.depthNear,q.far=v.depthFar),b.near=V.near=C.near=q.near,b.far=V.far=C.far=q.far,(F!==b.near||I!==b.far)&&(a.updateRenderState({depthNear:b.near,depthFar:b.far}),F=b.near,I=b.far,C.near=F,C.far=I,V.near=F,V.far=I,C.updateProjectionMatrix(),V.updateProjectionMatrix(),q.updateProjectionMatrix());const ne=q.parent,se=b.cameras;O(b,ne);for(let Me=0;Me<se.length;Me++)O(se[Me],ne);se.length===2?z(b,C,V):b.projectionMatrix.copy(C.projectionMatrix),$(q,b,ne)};function $(q,ne,se){se===null?q.matrix.copy(ne.matrixWorld):(q.matrix.copy(se.matrixWorld),q.matrix.invert(),q.matrix.multiply(ne.matrixWorld)),q.matrix.decompose(q.position,q.quaternion,q.scale),q.updateMatrixWorld(!0),q.projectionMatrix.copy(ne.projectionMatrix),q.projectionMatrixInverse.copy(ne.projectionMatrixInverse),q.isPerspectiveCamera&&(q.fov=rs*2*Math.atan(1/q.projectionMatrix.elements[5]),q.zoom=1)}this.getCamera=function(){return b},this.getFoveation=function(){if(!(p===null&&m===null))return u},this.setFoveation=function(q){u=q,p!==null&&(p.fixedFoveation=q),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=q)},this.hasDepthSensing=function(){return v.texture!==null};let H=null;function W(q,ne){if(d=ne.getViewerPose(c||s),S=ne,d!==null){const se=d.views;m!==null&&(e.setRenderTargetFramebuffer(y,m.framebuffer),e.setRenderTarget(y));let Me=!1;se.length!==b.cameras.length&&(b.cameras.length=0,Me=!0);for(let Se=0;Se<se.length;Se++){const Ie=se[Se];let ke=null;if(m!==null)ke=m.getViewport(Ie);else{const Qe=f.getViewSubImage(p,Ie);ke=Qe.viewport,Se===0&&(e.setRenderTargetTextures(y,Qe.colorTexture,p.ignoreDepthValues?void 0:Qe.depthStencilTexture),e.setRenderTarget(y))}let ie=X[Se];ie===void 0&&(ie=new _n,ie.layers.enable(Se),ie.viewport=new pt,X[Se]=ie),ie.matrix.fromArray(Ie.transform.matrix),ie.matrix.decompose(ie.position,ie.quaternion,ie.scale),ie.projectionMatrix.fromArray(Ie.projectionMatrix),ie.projectionMatrixInverse.copy(ie.projectionMatrix).invert(),ie.viewport.set(ke.x,ke.y,ke.width,ke.height),Se===0&&(b.matrix.copy(ie.matrix),b.matrix.decompose(b.position,b.quaternion,b.scale)),Me===!0&&b.cameras.push(ie)}const we=a.enabledFeatures;if(we&&we.includes("depth-sensing")){const Se=f.getDepthInformation(se[0]);Se&&Se.isValid&&Se.texture&&v.init(e,Se,a.renderState)}}for(let se=0;se<_.length;se++){const Me=M[se],we=_[se];Me!==null&&we!==void 0&&we.update(Me,ne,c||s)}v.render(e,b),H&&H(q,ne),ne.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ne}),S=null}const fe=new dv;fe.setAnimationLoop(W),this.setAnimationLoop=function(q){H=q},this.dispose=function(){}}}function Dk(t,e){function i(g,h){g.matrixAutoUpdate===!0&&g.updateMatrix(),h.value.copy(g.matrix)}function r(g,h){h.color.getRGB(g.fogColor.value,uv(t)),h.isFog?(g.fogNear.value=h.near,g.fogFar.value=h.far):h.isFogExp2&&(g.fogDensity.value=h.density)}function a(g,h,y,_,M){h.isMeshBasicMaterial||h.isMeshLambertMaterial?o(g,h):h.isMeshToonMaterial?(o(g,h),f(g,h)):h.isMeshPhongMaterial?(o(g,h),d(g,h)):h.isMeshStandardMaterial?(o(g,h),p(g,h),h.isMeshPhysicalMaterial&&m(g,h,M)):h.isMeshMatcapMaterial?(o(g,h),S(g,h)):h.isMeshDepthMaterial?o(g,h):h.isMeshDistanceMaterial?(o(g,h),v(g,h)):h.isMeshNormalMaterial?o(g,h):h.isLineBasicMaterial?(s(g,h),h.isLineDashedMaterial&&l(g,h)):h.isPointsMaterial?u(g,h,y,_):h.isSpriteMaterial?c(g,h):h.isShadowMaterial?(g.color.value.copy(h.color),g.opacity.value=h.opacity):h.isShaderMaterial&&(h.uniformsNeedUpdate=!1)}function o(g,h){g.opacity.value=h.opacity,h.color&&g.diffuse.value.copy(h.color),h.emissive&&g.emissive.value.copy(h.emissive).multiplyScalar(h.emissiveIntensity),h.map&&(g.map.value=h.map,i(h.map,g.mapTransform)),h.alphaMap&&(g.alphaMap.value=h.alphaMap,i(h.alphaMap,g.alphaMapTransform)),h.bumpMap&&(g.bumpMap.value=h.bumpMap,i(h.bumpMap,g.bumpMapTransform),g.bumpScale.value=h.bumpScale,h.side===mn&&(g.bumpScale.value*=-1)),h.normalMap&&(g.normalMap.value=h.normalMap,i(h.normalMap,g.normalMapTransform),g.normalScale.value.copy(h.normalScale),h.side===mn&&g.normalScale.value.negate()),h.displacementMap&&(g.displacementMap.value=h.displacementMap,i(h.displacementMap,g.displacementMapTransform),g.displacementScale.value=h.displacementScale,g.displacementBias.value=h.displacementBias),h.emissiveMap&&(g.emissiveMap.value=h.emissiveMap,i(h.emissiveMap,g.emissiveMapTransform)),h.specularMap&&(g.specularMap.value=h.specularMap,i(h.specularMap,g.specularMapTransform)),h.alphaTest>0&&(g.alphaTest.value=h.alphaTest);const y=e.get(h).envMap;if(y&&(g.envMap.value=y,g.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=h.reflectivity,g.ior.value=h.ior,g.refractionRatio.value=h.refractionRatio),h.lightMap){g.lightMap.value=h.lightMap;const _=t._useLegacyLights===!0?Math.PI:1;g.lightMapIntensity.value=h.lightMapIntensity*_,i(h.lightMap,g.lightMapTransform)}h.aoMap&&(g.aoMap.value=h.aoMap,g.aoMapIntensity.value=h.aoMapIntensity,i(h.aoMap,g.aoMapTransform))}function s(g,h){g.diffuse.value.copy(h.color),g.opacity.value=h.opacity,h.map&&(g.map.value=h.map,i(h.map,g.mapTransform))}function l(g,h){g.dashSize.value=h.dashSize,g.totalSize.value=h.dashSize+h.gapSize,g.scale.value=h.scale}function u(g,h,y,_){g.diffuse.value.copy(h.color),g.opacity.value=h.opacity,g.size.value=h.size*y,g.scale.value=_*.5,h.map&&(g.map.value=h.map,i(h.map,g.uvTransform)),h.alphaMap&&(g.alphaMap.value=h.alphaMap,i(h.alphaMap,g.alphaMapTransform)),h.alphaTest>0&&(g.alphaTest.value=h.alphaTest)}function c(g,h){g.diffuse.value.copy(h.color),g.opacity.value=h.opacity,g.rotation.value=h.rotation,h.map&&(g.map.value=h.map,i(h.map,g.mapTransform)),h.alphaMap&&(g.alphaMap.value=h.alphaMap,i(h.alphaMap,g.alphaMapTransform)),h.alphaTest>0&&(g.alphaTest.value=h.alphaTest)}function d(g,h){g.specular.value.copy(h.specular),g.shininess.value=Math.max(h.shininess,1e-4)}function f(g,h){h.gradientMap&&(g.gradientMap.value=h.gradientMap)}function p(g,h){g.metalness.value=h.metalness,h.metalnessMap&&(g.metalnessMap.value=h.metalnessMap,i(h.metalnessMap,g.metalnessMapTransform)),g.roughness.value=h.roughness,h.roughnessMap&&(g.roughnessMap.value=h.roughnessMap,i(h.roughnessMap,g.roughnessMapTransform)),e.get(h).envMap&&(g.envMapIntensity.value=h.envMapIntensity)}function m(g,h,y){g.ior.value=h.ior,h.sheen>0&&(g.sheenColor.value.copy(h.sheenColor).multiplyScalar(h.sheen),g.sheenRoughness.value=h.sheenRoughness,h.sheenColorMap&&(g.sheenColorMap.value=h.sheenColorMap,i(h.sheenColorMap,g.sheenColorMapTransform)),h.sheenRoughnessMap&&(g.sheenRoughnessMap.value=h.sheenRoughnessMap,i(h.sheenRoughnessMap,g.sheenRoughnessMapTransform))),h.clearcoat>0&&(g.clearcoat.value=h.clearcoat,g.clearcoatRoughness.value=h.clearcoatRoughness,h.clearcoatMap&&(g.clearcoatMap.value=h.clearcoatMap,i(h.clearcoatMap,g.clearcoatMapTransform)),h.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=h.clearcoatRoughnessMap,i(h.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),h.clearcoatNormalMap&&(g.clearcoatNormalMap.value=h.clearcoatNormalMap,i(h.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(h.clearcoatNormalScale),h.side===mn&&g.clearcoatNormalScale.value.negate())),h.iridescence>0&&(g.iridescence.value=h.iridescence,g.iridescenceIOR.value=h.iridescenceIOR,g.iridescenceThicknessMinimum.value=h.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=h.iridescenceThicknessRange[1],h.iridescenceMap&&(g.iridescenceMap.value=h.iridescenceMap,i(h.iridescenceMap,g.iridescenceMapTransform)),h.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=h.iridescenceThicknessMap,i(h.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),h.transmission>0&&(g.transmission.value=h.transmission,g.transmissionSamplerMap.value=y.texture,g.transmissionSamplerSize.value.set(y.width,y.height),h.transmissionMap&&(g.transmissionMap.value=h.transmissionMap,i(h.transmissionMap,g.transmissionMapTransform)),g.thickness.value=h.thickness,h.thicknessMap&&(g.thicknessMap.value=h.thicknessMap,i(h.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=h.attenuationDistance,g.attenuationColor.value.copy(h.attenuationColor)),h.anisotropy>0&&(g.anisotropyVector.value.set(h.anisotropy*Math.cos(h.anisotropyRotation),h.anisotropy*Math.sin(h.anisotropyRotation)),h.anisotropyMap&&(g.anisotropyMap.value=h.anisotropyMap,i(h.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=h.specularIntensity,g.specularColor.value.copy(h.specularColor),h.specularColorMap&&(g.specularColorMap.value=h.specularColorMap,i(h.specularColorMap,g.specularColorMapTransform)),h.specularIntensityMap&&(g.specularIntensityMap.value=h.specularIntensityMap,i(h.specularIntensityMap,g.specularIntensityMapTransform))}function S(g,h){h.matcap&&(g.matcap.value=h.matcap)}function v(g,h){const y=e.get(h).light;g.referencePosition.value.setFromMatrixPosition(y.matrixWorld),g.nearDistance.value=y.shadow.camera.near,g.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:a}}function Lk(t,e,i,r){let a={},o={},s=[];const l=i.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function u(y,_){const M=_.program;r.uniformBlockBinding(y,M)}function c(y,_){let M=a[y.id];M===void 0&&(S(y),M=d(y),a[y.id]=M,y.addEventListener("dispose",g));const A=_.program;r.updateUBOMapping(y,A);const R=e.render.frame;o[y.id]!==R&&(p(y),o[y.id]=R)}function d(y){const _=f();y.__bindingPointIndex=_;const M=t.createBuffer(),A=y.__size,R=y.usage;return t.bindBuffer(t.UNIFORM_BUFFER,M),t.bufferData(t.UNIFORM_BUFFER,A,R),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,M),M}function f(){for(let y=0;y<l;y++)if(s.indexOf(y)===-1)return s.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(y){const _=a[y.id],M=y.uniforms,A=y.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let R=0,C=M.length;R<C;R++){const V=Array.isArray(M[R])?M[R]:[M[R]];for(let X=0,b=V.length;X<b;X++){const F=V[X];if(m(F,R,X,A)===!0){const I=F.__offset,J=Array.isArray(F.value)?F.value:[F.value];let x=0;for(let P=0;P<J.length;P++){const U=J[P],N=v(U);typeof U=="number"||typeof U=="boolean"?(F.__data[0]=U,t.bufferSubData(t.UNIFORM_BUFFER,I+x,F.__data)):U.isMatrix3?(F.__data[0]=U.elements[0],F.__data[1]=U.elements[1],F.__data[2]=U.elements[2],F.__data[3]=0,F.__data[4]=U.elements[3],F.__data[5]=U.elements[4],F.__data[6]=U.elements[5],F.__data[7]=0,F.__data[8]=U.elements[6],F.__data[9]=U.elements[7],F.__data[10]=U.elements[8],F.__data[11]=0):(U.toArray(F.__data,x),x+=N.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,I,F.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(y,_,M,A){const R=y.value,C=_+"_"+M;if(A[C]===void 0)return typeof R=="number"||typeof R=="boolean"?A[C]=R:A[C]=R.clone(),!0;{const V=A[C];if(typeof R=="number"||typeof R=="boolean"){if(V!==R)return A[C]=R,!0}else if(V.equals(R)===!1)return V.copy(R),!0}return!1}function S(y){const _=y.uniforms;let M=0;const A=16;for(let C=0,V=_.length;C<V;C++){const X=Array.isArray(_[C])?_[C]:[_[C]];for(let b=0,F=X.length;b<F;b++){const I=X[b],J=Array.isArray(I.value)?I.value:[I.value];for(let x=0,P=J.length;x<P;x++){const U=J[x],N=v(U),z=M%A;z!==0&&A-z<N.boundary&&(M+=A-z),I.__data=new Float32Array(N.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=M,M+=N.storage}}}const R=M%A;return R>0&&(M+=A-R),y.__size=M,y.__cache={},this}function v(y){const _={boundary:0,storage:0};return typeof y=="number"||typeof y=="boolean"?(_.boundary=4,_.storage=4):y.isVector2?(_.boundary=8,_.storage=8):y.isVector3||y.isColor?(_.boundary=16,_.storage=12):y.isVector4?(_.boundary=16,_.storage=16):y.isMatrix3?(_.boundary=48,_.storage=48):y.isMatrix4?(_.boundary=64,_.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),_}function g(y){const _=y.target;_.removeEventListener("dispose",g);const M=s.indexOf(_.__bindingPointIndex);s.splice(M,1),t.deleteBuffer(a[_.id]),delete a[_.id],delete o[_.id]}function h(){for(const y in a)t.deleteBuffer(a[y]);s=[],a={},o={}}return{bind:u,update:c,dispose:h}}class Sv{constructor(e={}){const{canvas:i=b1(),context:r=null,depth:a=!0,stencil:o=!0,alpha:s=!1,antialias:l=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=s;const m=new Uint32Array(4),S=new Int32Array(4);let v=null,g=null;const h=[],y=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Rt,this._useLegacyLights=!1,this.toneMapping=rr,this.toneMappingExposure=1;const _=this;let M=!1,A=0,R=0,C=null,V=-1,X=null;const b=new pt,F=new pt;let I=null;const J=new Xe(0);let x=0,P=i.width,U=i.height,N=1,z=null,O=null;const $=new pt(0,0,P,U),H=new pt(0,0,P,U);let W=!1;const fe=new Zd;let q=!1,ne=!1,se=null;const Me=new _t,we=new Ge,Se=new ee,Ie={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ke(){return C===null?N:1}let ie=r;function Qe(B,ae){for(let ce=0;ce<B.length;ce++){const he=B[ce],ue=i.getContext(he,ae);if(ue!==null)return ue}return null}try{const B={alpha:!0,depth:a,stencil:o,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:f};if("setAttribute"in i&&i.setAttribute("data-engine",`three.js r${Vd}`),i.addEventListener("webglcontextlost",Ne,!1),i.addEventListener("webglcontextrestored",j,!1),i.addEventListener("webglcontextcreationerror",ve,!1),ie===null){const ae=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&ae.shift(),ie=Qe(ae,B),ie===null)throw Qe(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&ie instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),ie.getShaderPrecisionFormat===void 0&&(ie.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(B){throw console.error("THREE.WebGLRenderer: "+B.message),B}let T,re,Q,G,D,E,k,K,Y,te,oe,le,de,_e,Te,Fe,me,je,He,Ae,De,Ce,Be,Z;function xe(){T=new GE(ie),re=new LE(ie,T,e),T.init(re),Ce=new bk(ie,T,re),Q=new Tk(ie,T,re),G=new VE(ie),D=new ck,E=new Ek(ie,T,Q,D,re,Ce,G),k=new FE(_),K=new zE(_),Y=new J1(ie,re),Be=new IE(ie,T,Y,re),te=new HE(ie,Y,G,Be),oe=new YE(ie,te,Y,G),He=new XE(ie,re,E),Fe=new NE(D),le=new uk(_,k,K,T,re,Be,Fe),de=new Dk(_,D),_e=new dk,Te=new vk(T,re),je=new PE(_,k,K,Q,oe,p,u),me=new Mk(_,oe,re),Z=new Lk(ie,G,re,Q),Ae=new DE(ie,T,G,re),De=new WE(ie,T,G,re),G.programs=le.programs,_.capabilities=re,_.extensions=T,_.properties=D,_.renderLists=_e,_.shadowMap=me,_.state=Q,_.info=G}xe();const be=new Ik(_,ie);this.xr=be,this.getContext=function(){return ie},this.getContextAttributes=function(){return ie.getContextAttributes()},this.forceContextLoss=function(){const B=T.get("WEBGL_lose_context");B&&B.loseContext()},this.forceContextRestore=function(){const B=T.get("WEBGL_lose_context");B&&B.restoreContext()},this.getPixelRatio=function(){return N},this.setPixelRatio=function(B){B!==void 0&&(N=B,this.setSize(P,U,!1))},this.getSize=function(B){return B.set(P,U)},this.setSize=function(B,ae,ce=!0){if(be.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}P=B,U=ae,i.width=Math.floor(B*N),i.height=Math.floor(ae*N),ce===!0&&(i.style.width=B+"px",i.style.height=ae+"px"),this.setViewport(0,0,B,ae)},this.getDrawingBufferSize=function(B){return B.set(P*N,U*N).floor()},this.setDrawingBufferSize=function(B,ae,ce){P=B,U=ae,N=ce,i.width=Math.floor(B*ce),i.height=Math.floor(ae*ce),this.setViewport(0,0,B,ae)},this.getCurrentViewport=function(B){return B.copy(b)},this.getViewport=function(B){return B.copy($)},this.setViewport=function(B,ae,ce,he){B.isVector4?$.set(B.x,B.y,B.z,B.w):$.set(B,ae,ce,he),Q.viewport(b.copy($).multiplyScalar(N).floor())},this.getScissor=function(B){return B.copy(H)},this.setScissor=function(B,ae,ce,he){B.isVector4?H.set(B.x,B.y,B.z,B.w):H.set(B,ae,ce,he),Q.scissor(F.copy(H).multiplyScalar(N).floor())},this.getScissorTest=function(){return W},this.setScissorTest=function(B){Q.setScissorTest(W=B)},this.setOpaqueSort=function(B){z=B},this.setTransparentSort=function(B){O=B},this.getClearColor=function(B){return B.copy(je.getClearColor())},this.setClearColor=function(){je.setClearColor.apply(je,arguments)},this.getClearAlpha=function(){return je.getClearAlpha()},this.setClearAlpha=function(){je.setClearAlpha.apply(je,arguments)},this.clear=function(B=!0,ae=!0,ce=!0){let he=0;if(B){let ue=!1;if(C!==null){const Re=C.texture.format;ue=Re===Z0||Re===Y0||Re===X0}if(ue){const Re=C.texture.type,Ue=Re===ar||Re===Xi||Re===Kd||Re===Dr||Re===j0||Re===K0,ze=je.getClearColor(),We=je.getClearAlpha(),qe=ze.r,Ke=ze.g,Ye=ze.b;Ue?(m[0]=qe,m[1]=Ke,m[2]=Ye,m[3]=We,ie.clearBufferuiv(ie.COLOR,0,m)):(S[0]=qe,S[1]=Ke,S[2]=Ye,S[3]=We,ie.clearBufferiv(ie.COLOR,0,S))}else he|=ie.COLOR_BUFFER_BIT}ae&&(he|=ie.DEPTH_BUFFER_BIT),ce&&(he|=ie.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ie.clear(he)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Ne,!1),i.removeEventListener("webglcontextrestored",j,!1),i.removeEventListener("webglcontextcreationerror",ve,!1),_e.dispose(),Te.dispose(),D.dispose(),k.dispose(),K.dispose(),oe.dispose(),Be.dispose(),Z.dispose(),le.dispose(),be.dispose(),be.removeEventListener("sessionstart",Bt),be.removeEventListener("sessionend",rt),se&&(se.dispose(),se=null),xt.stop()};function Ne(B){B.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function j(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const B=G.autoReset,ae=me.enabled,ce=me.autoUpdate,he=me.needsUpdate,ue=me.type;xe(),G.autoReset=B,me.enabled=ae,me.autoUpdate=ce,me.needsUpdate=he,me.type=ue}function ve(B){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",B.statusMessage)}function ge(B){const ae=B.target;ae.removeEventListener("dispose",ge),Le(ae)}function Le(B){Oe(B),D.remove(B)}function Oe(B){const ae=D.get(B).programs;ae!==void 0&&(ae.forEach(function(ce){le.releaseProgram(ce)}),B.isShaderMaterial&&le.releaseShaderCache(B))}this.renderBufferDirect=function(B,ae,ce,he,ue,Re){ae===null&&(ae=Ie);const Ue=ue.isMesh&&ue.matrixWorld.determinant()<0,ze=Rv(B,ae,ce,he,ue);Q.setMaterial(he,Ue);let We=ce.index,qe=1;if(he.wireframe===!0){if(We=te.getWireframeAttribute(ce),We===void 0)return;qe=2}const Ke=ce.drawRange,Ye=ce.attributes.position;let Mt=Ke.start*qe,wn=(Ke.start+Ke.count)*qe;Re!==null&&(Mt=Math.max(Mt,Re.start*qe),wn=Math.min(wn,(Re.start+Re.count)*qe)),We!==null?(Mt=Math.max(Mt,0),wn=Math.min(wn,We.count)):Ye!=null&&(Mt=Math.max(Mt,0),wn=Math.min(wn,Ye.count));const Lt=wn-Mt;if(Lt<0||Lt===1/0)return;Be.setup(ue,he,ze,ce,We);let si,mt=Ae;if(We!==null&&(si=Y.get(We),mt=De,mt.setIndex(si)),ue.isMesh)he.wireframe===!0?(Q.setLineWidth(he.wireframeLinewidth*ke()),mt.setMode(ie.LINES)):mt.setMode(ie.TRIANGLES);else if(ue.isLine){let $e=he.linewidth;$e===void 0&&($e=1),Q.setLineWidth($e*ke()),ue.isLineSegments?mt.setMode(ie.LINES):ue.isLineLoop?mt.setMode(ie.LINE_LOOP):mt.setMode(ie.LINE_STRIP)}else ue.isPoints?mt.setMode(ie.POINTS):ue.isSprite&&mt.setMode(ie.TRIANGLES);if(ue.isBatchedMesh)mt.renderMultiDraw(ue._multiDrawStarts,ue._multiDrawCounts,ue._multiDrawCount);else if(ue.isInstancedMesh)mt.renderInstances(Mt,Lt,ue.count);else if(ce.isInstancedBufferGeometry){const $e=ce._maxInstanceCount!==void 0?ce._maxInstanceCount:1/0,bu=Math.min(ce.instanceCount,$e);mt.renderInstances(Mt,Lt,bu)}else mt.render(Mt,Lt)};function it(B,ae,ce){B.transparent===!0&&B.side===vi&&B.forceSinglePass===!1?(B.side=mn,B.needsUpdate=!0,gs(B,ae,ce),B.side=Ci,B.needsUpdate=!0,gs(B,ae,ce),B.side=vi):gs(B,ae,ce)}this.compile=function(B,ae,ce=null){ce===null&&(ce=B),g=Te.get(ce),g.init(),y.push(g),ce.traverseVisible(function(ue){ue.isLight&&ue.layers.test(ae.layers)&&(g.pushLight(ue),ue.castShadow&&g.pushShadow(ue))}),B!==ce&&B.traverseVisible(function(ue){ue.isLight&&ue.layers.test(ae.layers)&&(g.pushLight(ue),ue.castShadow&&g.pushShadow(ue))}),g.setupLights(_._useLegacyLights);const he=new Set;return B.traverse(function(ue){const Re=ue.material;if(Re)if(Array.isArray(Re))for(let Ue=0;Ue<Re.length;Ue++){const ze=Re[Ue];it(ze,ce,ue),he.add(ze)}else it(Re,ce,ue),he.add(Re)}),y.pop(),g=null,he},this.compileAsync=function(B,ae,ce=null){const he=this.compile(B,ae,ce);return new Promise(ue=>{function Re(){if(he.forEach(function(Ue){D.get(Ue).currentProgram.isReady()&&he.delete(Ue)}),he.size===0){ue(B);return}setTimeout(Re,10)}T.get("KHR_parallel_shader_compile")!==null?Re():setTimeout(Re,10)})};let et=null;function st(B){et&&et(B)}function Bt(){xt.stop()}function rt(){xt.start()}const xt=new dv;xt.setAnimationLoop(st),typeof self<"u"&&xt.setContext(self),this.setAnimationLoop=function(B){et=B,be.setAnimationLoop(B),B===null?xt.stop():xt.start()},be.addEventListener("sessionstart",Bt),be.addEventListener("sessionend",rt),this.render=function(B,ae){if(ae!==void 0&&ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;B.matrixWorldAutoUpdate===!0&&B.updateMatrixWorld(),ae.parent===null&&ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),be.enabled===!0&&be.isPresenting===!0&&(be.cameraAutoUpdate===!0&&be.updateCamera(ae),ae=be.getCamera()),B.isScene===!0&&B.onBeforeRender(_,B,ae,C),g=Te.get(B,y.length),g.init(),y.push(g),Me.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),fe.setFromProjectionMatrix(Me),ne=this.localClippingEnabled,q=Fe.init(this.clippingPlanes,ne),v=_e.get(B,h.length),v.init(),h.push(v),Qt(B,ae,0,_.sortObjects),v.finish(),_.sortObjects===!0&&v.sort(z,O),this.info.render.frame++,q===!0&&Fe.beginShadows();const ce=g.state.shadowsArray;if(me.render(ce,B,ae),q===!0&&Fe.endShadows(),this.info.autoReset===!0&&this.info.reset(),(be.enabled===!1||be.isPresenting===!1||be.hasDepthSensing()===!1)&&je.render(v,B),g.setupLights(_._useLegacyLights),ae.isArrayCamera){const he=ae.cameras;for(let ue=0,Re=he.length;ue<Re;ue++){const Ue=he[ue];ef(v,B,Ue,Ue.viewport)}}else ef(v,B,ae);C!==null&&(E.updateMultisampleRenderTarget(C),E.updateRenderTargetMipmap(C)),B.isScene===!0&&B.onAfterRender(_,B,ae),Be.resetDefaultState(),V=-1,X=null,y.pop(),y.length>0?g=y[y.length-1]:g=null,h.pop(),h.length>0?v=h[h.length-1]:v=null};function Qt(B,ae,ce,he){if(B.visible===!1)return;if(B.layers.test(ae.layers)){if(B.isGroup)ce=B.renderOrder;else if(B.isLOD)B.autoUpdate===!0&&B.update(ae);else if(B.isLight)g.pushLight(B),B.castShadow&&g.pushShadow(B);else if(B.isSprite){if(!B.frustumCulled||fe.intersectsSprite(B)){he&&Se.setFromMatrixPosition(B.matrixWorld).applyMatrix4(Me);const Ue=oe.update(B),ze=B.material;ze.visible&&v.push(B,Ue,ze,ce,Se.z,null)}}else if((B.isMesh||B.isLine||B.isPoints)&&(!B.frustumCulled||fe.intersectsObject(B))){const Ue=oe.update(B),ze=B.material;if(he&&(B.boundingSphere!==void 0?(B.boundingSphere===null&&B.computeBoundingSphere(),Se.copy(B.boundingSphere.center)):(Ue.boundingSphere===null&&Ue.computeBoundingSphere(),Se.copy(Ue.boundingSphere.center)),Se.applyMatrix4(B.matrixWorld).applyMatrix4(Me)),Array.isArray(ze)){const We=Ue.groups;for(let qe=0,Ke=We.length;qe<Ke;qe++){const Ye=We[qe],Mt=ze[Ye.materialIndex];Mt&&Mt.visible&&v.push(B,Ue,Mt,ce,Se.z,Ye)}}else ze.visible&&v.push(B,Ue,ze,ce,Se.z,null)}}const Re=B.children;for(let Ue=0,ze=Re.length;Ue<ze;Ue++)Qt(Re[Ue],ae,ce,he)}function ef(B,ae,ce,he){const ue=B.opaque,Re=B.transmissive,Ue=B.transparent;g.setupLightsView(ce),q===!0&&Fe.setGlobalState(_.clippingPlanes,ce),Re.length>0&&Av(ue,Re,ae,ce),he&&Q.viewport(b.copy(he)),ue.length>0&&ms(ue,ae,ce),Re.length>0&&ms(Re,ae,ce),Ue.length>0&&ms(Ue,ae,ce),Q.buffers.depth.setTest(!0),Q.buffers.depth.setMask(!0),Q.buffers.color.setMask(!0),Q.setPolygonOffset(!1)}function Av(B,ae,ce,he){if((ce.isScene===!0?ce.overrideMaterial:null)!==null)return;const Re=re.isWebGL2;se===null&&(se=new Hr(1,1,{generateMipmaps:!0,type:T.has("EXT_color_buffer_half_float")?is:ar,minFilter:Rr,samples:Re?4:0})),_.getDrawingBufferSize(we),Re?se.setSize(we.x,we.y):se.setSize(Ql(we.x),Ql(we.y));const Ue=_.getRenderTarget();_.setRenderTarget(se),_.getClearColor(J),x=_.getClearAlpha(),x<1&&_.setClearColor(16777215,.5),_.clear();const ze=_.toneMapping;_.toneMapping=rr,ms(B,ce,he),E.updateMultisampleRenderTarget(se),E.updateRenderTargetMipmap(se);let We=!1;for(let qe=0,Ke=ae.length;qe<Ke;qe++){const Ye=ae[qe],Mt=Ye.object,wn=Ye.geometry,Lt=Ye.material,si=Ye.group;if(Lt.side===vi&&Mt.layers.test(he.layers)){const mt=Lt.side;Lt.side=mn,Lt.needsUpdate=!0,tf(Mt,ce,he,wn,Lt,si),Lt.side=mt,Lt.needsUpdate=!0,We=!0}}We===!0&&(E.updateMultisampleRenderTarget(se),E.updateRenderTargetMipmap(se)),_.setRenderTarget(Ue),_.setClearColor(J,x),_.toneMapping=ze}function ms(B,ae,ce){const he=ae.isScene===!0?ae.overrideMaterial:null;for(let ue=0,Re=B.length;ue<Re;ue++){const Ue=B[ue],ze=Ue.object,We=Ue.geometry,qe=he===null?Ue.material:he,Ke=Ue.group;ze.layers.test(ce.layers)&&tf(ze,ae,ce,We,qe,Ke)}}function tf(B,ae,ce,he,ue,Re){B.onBeforeRender(_,ae,ce,he,ue,Re),B.modelViewMatrix.multiplyMatrices(ce.matrixWorldInverse,B.matrixWorld),B.normalMatrix.getNormalMatrix(B.modelViewMatrix),ue.onBeforeRender(_,ae,ce,he,B,Re),ue.transparent===!0&&ue.side===vi&&ue.forceSinglePass===!1?(ue.side=mn,ue.needsUpdate=!0,_.renderBufferDirect(ce,ae,he,ue,B,Re),ue.side=Ci,ue.needsUpdate=!0,_.renderBufferDirect(ce,ae,he,ue,B,Re),ue.side=vi):_.renderBufferDirect(ce,ae,he,ue,B,Re),B.onAfterRender(_,ae,ce,he,ue,Re)}function gs(B,ae,ce){ae.isScene!==!0&&(ae=Ie);const he=D.get(B),ue=g.state.lights,Re=g.state.shadowsArray,Ue=ue.state.version,ze=le.getParameters(B,ue.state,Re,ae,ce),We=le.getProgramCacheKey(ze);let qe=he.programs;he.environment=B.isMeshStandardMaterial?ae.environment:null,he.fog=ae.fog,he.envMap=(B.isMeshStandardMaterial?K:k).get(B.envMap||he.environment),qe===void 0&&(B.addEventListener("dispose",ge),qe=new Map,he.programs=qe);let Ke=qe.get(We);if(Ke!==void 0){if(he.currentProgram===Ke&&he.lightsStateVersion===Ue)return rf(B,ze),Ke}else ze.uniforms=le.getUniforms(B),B.onBuild(ce,ze,_),B.onBeforeCompile(ze,_),Ke=le.acquireProgram(ze,We),qe.set(We,Ke),he.uniforms=ze.uniforms;const Ye=he.uniforms;return(!B.isShaderMaterial&&!B.isRawShaderMaterial||B.clipping===!0)&&(Ye.clippingPlanes=Fe.uniform),rf(B,ze),he.needsLights=Iv(B),he.lightsStateVersion=Ue,he.needsLights&&(Ye.ambientLightColor.value=ue.state.ambient,Ye.lightProbe.value=ue.state.probe,Ye.directionalLights.value=ue.state.directional,Ye.directionalLightShadows.value=ue.state.directionalShadow,Ye.spotLights.value=ue.state.spot,Ye.spotLightShadows.value=ue.state.spotShadow,Ye.rectAreaLights.value=ue.state.rectArea,Ye.ltc_1.value=ue.state.rectAreaLTC1,Ye.ltc_2.value=ue.state.rectAreaLTC2,Ye.pointLights.value=ue.state.point,Ye.pointLightShadows.value=ue.state.pointShadow,Ye.hemisphereLights.value=ue.state.hemi,Ye.directionalShadowMap.value=ue.state.directionalShadowMap,Ye.directionalShadowMatrix.value=ue.state.directionalShadowMatrix,Ye.spotShadowMap.value=ue.state.spotShadowMap,Ye.spotLightMatrix.value=ue.state.spotLightMatrix,Ye.spotLightMap.value=ue.state.spotLightMap,Ye.pointShadowMap.value=ue.state.pointShadowMap,Ye.pointShadowMatrix.value=ue.state.pointShadowMatrix),he.currentProgram=Ke,he.uniformsList=null,Ke}function nf(B){if(B.uniformsList===null){const ae=B.currentProgram.getUniforms();B.uniformsList=yl.seqWithValue(ae.seq,B.uniforms)}return B.uniformsList}function rf(B,ae){const ce=D.get(B);ce.outputColorSpace=ae.outputColorSpace,ce.batching=ae.batching,ce.instancing=ae.instancing,ce.instancingColor=ae.instancingColor,ce.skinning=ae.skinning,ce.morphTargets=ae.morphTargets,ce.morphNormals=ae.morphNormals,ce.morphColors=ae.morphColors,ce.morphTargetsCount=ae.morphTargetsCount,ce.numClippingPlanes=ae.numClippingPlanes,ce.numIntersection=ae.numClipIntersection,ce.vertexAlphas=ae.vertexAlphas,ce.vertexTangents=ae.vertexTangents,ce.toneMapping=ae.toneMapping}function Rv(B,ae,ce,he,ue){ae.isScene!==!0&&(ae=Ie),E.resetTextureUnits();const Re=ae.fog,Ue=he.isMeshStandardMaterial?ae.environment:null,ze=C===null?_.outputColorSpace:C.isXRRenderTarget===!0?C.texture.colorSpace:Ai,We=(he.isMeshStandardMaterial?K:k).get(he.envMap||Ue),qe=he.vertexColors===!0&&!!ce.attributes.color&&ce.attributes.color.itemSize===4,Ke=!!ce.attributes.tangent&&(!!he.normalMap||he.anisotropy>0),Ye=!!ce.morphAttributes.position,Mt=!!ce.morphAttributes.normal,wn=!!ce.morphAttributes.color;let Lt=rr;he.toneMapped&&(C===null||C.isXRRenderTarget===!0)&&(Lt=_.toneMapping);const si=ce.morphAttributes.position||ce.morphAttributes.normal||ce.morphAttributes.color,mt=si!==void 0?si.length:0,$e=D.get(he),bu=g.state.lights;if(q===!0&&(ne===!0||B!==X)){const kn=B===X&&he.id===V;Fe.setState(he,B,kn)}let St=!1;he.version===$e.__version?($e.needsLights&&$e.lightsStateVersion!==bu.state.version||$e.outputColorSpace!==ze||ue.isBatchedMesh&&$e.batching===!1||!ue.isBatchedMesh&&$e.batching===!0||ue.isInstancedMesh&&$e.instancing===!1||!ue.isInstancedMesh&&$e.instancing===!0||ue.isSkinnedMesh&&$e.skinning===!1||!ue.isSkinnedMesh&&$e.skinning===!0||ue.isInstancedMesh&&$e.instancingColor===!0&&ue.instanceColor===null||ue.isInstancedMesh&&$e.instancingColor===!1&&ue.instanceColor!==null||$e.envMap!==We||he.fog===!0&&$e.fog!==Re||$e.numClippingPlanes!==void 0&&($e.numClippingPlanes!==Fe.numPlanes||$e.numIntersection!==Fe.numIntersection)||$e.vertexAlphas!==qe||$e.vertexTangents!==Ke||$e.morphTargets!==Ye||$e.morphNormals!==Mt||$e.morphColors!==wn||$e.toneMapping!==Lt||re.isWebGL2===!0&&$e.morphTargetsCount!==mt)&&(St=!0):(St=!0,$e.__version=he.version);let fr=$e.currentProgram;St===!0&&(fr=gs(he,ae,ue));let af=!1,io=!1,ku=!1;const Wt=fr.getUniforms(),pr=$e.uniforms;if(Q.useProgram(fr.program)&&(af=!0,io=!0,ku=!0),he.id!==V&&(V=he.id,io=!0),af||X!==B){Wt.setValue(ie,"projectionMatrix",B.projectionMatrix),Wt.setValue(ie,"viewMatrix",B.matrixWorldInverse);const kn=Wt.map.cameraPosition;kn!==void 0&&kn.setValue(ie,Se.setFromMatrixPosition(B.matrixWorld)),re.logarithmicDepthBuffer&&Wt.setValue(ie,"logDepthBufFC",2/(Math.log(B.far+1)/Math.LN2)),(he.isMeshPhongMaterial||he.isMeshToonMaterial||he.isMeshLambertMaterial||he.isMeshBasicMaterial||he.isMeshStandardMaterial||he.isShaderMaterial)&&Wt.setValue(ie,"isOrthographic",B.isOrthographicCamera===!0),X!==B&&(X=B,io=!0,ku=!0)}if(ue.isSkinnedMesh){Wt.setOptional(ie,ue,"bindMatrix"),Wt.setOptional(ie,ue,"bindMatrixInverse");const kn=ue.skeleton;kn&&(re.floatVertexTextures?(kn.boneTexture===null&&kn.computeBoneTexture(),Wt.setValue(ie,"boneTexture",kn.boneTexture,E)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}ue.isBatchedMesh&&(Wt.setOptional(ie,ue,"batchingTexture"),Wt.setValue(ie,"batchingTexture",ue._matricesTexture,E));const Cu=ce.morphAttributes;if((Cu.position!==void 0||Cu.normal!==void 0||Cu.color!==void 0&&re.isWebGL2===!0)&&He.update(ue,ce,fr),(io||$e.receiveShadow!==ue.receiveShadow)&&($e.receiveShadow=ue.receiveShadow,Wt.setValue(ie,"receiveShadow",ue.receiveShadow)),he.isMeshGouraudMaterial&&he.envMap!==null&&(pr.envMap.value=We,pr.flipEnvMap.value=We.isCubeTexture&&We.isRenderTargetTexture===!1?-1:1),io&&(Wt.setValue(ie,"toneMappingExposure",_.toneMappingExposure),$e.needsLights&&Pv(pr,ku),Re&&he.fog===!0&&de.refreshFogUniforms(pr,Re),de.refreshMaterialUniforms(pr,he,N,U,se),yl.upload(ie,nf($e),pr,E)),he.isShaderMaterial&&he.uniformsNeedUpdate===!0&&(yl.upload(ie,nf($e),pr,E),he.uniformsNeedUpdate=!1),he.isSpriteMaterial&&Wt.setValue(ie,"center",ue.center),Wt.setValue(ie,"modelViewMatrix",ue.modelViewMatrix),Wt.setValue(ie,"normalMatrix",ue.normalMatrix),Wt.setValue(ie,"modelMatrix",ue.matrixWorld),he.isShaderMaterial||he.isRawShaderMaterial){const kn=he.uniformsGroups;for(let Au=0,Dv=kn.length;Au<Dv;Au++)if(re.isWebGL2){const of=kn[Au];Z.update(of,fr),Z.bind(of,fr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return fr}function Pv(B,ae){B.ambientLightColor.needsUpdate=ae,B.lightProbe.needsUpdate=ae,B.directionalLights.needsUpdate=ae,B.directionalLightShadows.needsUpdate=ae,B.pointLights.needsUpdate=ae,B.pointLightShadows.needsUpdate=ae,B.spotLights.needsUpdate=ae,B.spotLightShadows.needsUpdate=ae,B.rectAreaLights.needsUpdate=ae,B.hemisphereLights.needsUpdate=ae}function Iv(B){return B.isMeshLambertMaterial||B.isMeshToonMaterial||B.isMeshPhongMaterial||B.isMeshStandardMaterial||B.isShadowMaterial||B.isShaderMaterial&&B.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return R},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(B,ae,ce){D.get(B.texture).__webglTexture=ae,D.get(B.depthTexture).__webglTexture=ce;const he=D.get(B);he.__hasExternalTextures=!0,he.__hasExternalTextures&&(he.__autoAllocateDepthBuffer=ce===void 0,he.__autoAllocateDepthBuffer||T.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),he.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(B,ae){const ce=D.get(B);ce.__webglFramebuffer=ae,ce.__useDefaultFramebuffer=ae===void 0},this.setRenderTarget=function(B,ae=0,ce=0){C=B,A=ae,R=ce;let he=!0,ue=null,Re=!1,Ue=!1;if(B){const We=D.get(B);We.__useDefaultFramebuffer!==void 0?(Q.bindFramebuffer(ie.FRAMEBUFFER,null),he=!1):We.__webglFramebuffer===void 0?E.setupRenderTarget(B):We.__hasExternalTextures&&E.rebindTextures(B,D.get(B.texture).__webglTexture,D.get(B.depthTexture).__webglTexture);const qe=B.texture;(qe.isData3DTexture||qe.isDataArrayTexture||qe.isCompressedArrayTexture)&&(Ue=!0);const Ke=D.get(B).__webglFramebuffer;B.isWebGLCubeRenderTarget?(Array.isArray(Ke[ae])?ue=Ke[ae][ce]:ue=Ke[ae],Re=!0):re.isWebGL2&&B.samples>0&&E.useMultisampledRTT(B)===!1?ue=D.get(B).__webglMultisampledFramebuffer:Array.isArray(Ke)?ue=Ke[ce]:ue=Ke,b.copy(B.viewport),F.copy(B.scissor),I=B.scissorTest}else b.copy($).multiplyScalar(N).floor(),F.copy(H).multiplyScalar(N).floor(),I=W;if(Q.bindFramebuffer(ie.FRAMEBUFFER,ue)&&re.drawBuffers&&he&&Q.drawBuffers(B,ue),Q.viewport(b),Q.scissor(F),Q.setScissorTest(I),Re){const We=D.get(B.texture);ie.framebufferTexture2D(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_CUBE_MAP_POSITIVE_X+ae,We.__webglTexture,ce)}else if(Ue){const We=D.get(B.texture),qe=ae||0;ie.framebufferTextureLayer(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,We.__webglTexture,ce||0,qe)}V=-1},this.readRenderTargetPixels=function(B,ae,ce,he,ue,Re,Ue){if(!(B&&B.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ze=D.get(B).__webglFramebuffer;if(B.isWebGLCubeRenderTarget&&Ue!==void 0&&(ze=ze[Ue]),ze){Q.bindFramebuffer(ie.FRAMEBUFFER,ze);try{const We=B.texture,qe=We.format,Ke=We.type;if(qe!==Xn&&Ce.convert(qe)!==ie.getParameter(ie.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ye=Ke===is&&(T.has("EXT_color_buffer_half_float")||re.isWebGL2&&T.has("EXT_color_buffer_float"));if(Ke!==ar&&Ce.convert(Ke)!==ie.getParameter(ie.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ke===Si&&(re.isWebGL2||T.has("OES_texture_float")||T.has("WEBGL_color_buffer_float")))&&!Ye){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ae>=0&&ae<=B.width-he&&ce>=0&&ce<=B.height-ue&&ie.readPixels(ae,ce,he,ue,Ce.convert(qe),Ce.convert(Ke),Re)}finally{const We=C!==null?D.get(C).__webglFramebuffer:null;Q.bindFramebuffer(ie.FRAMEBUFFER,We)}}},this.copyFramebufferToTexture=function(B,ae,ce=0){const he=Math.pow(2,-ce),ue=Math.floor(ae.image.width*he),Re=Math.floor(ae.image.height*he);E.setTexture2D(ae,0),ie.copyTexSubImage2D(ie.TEXTURE_2D,ce,0,0,B.x,B.y,ue,Re),Q.unbindTexture()},this.copyTextureToTexture=function(B,ae,ce,he=0){const ue=ae.image.width,Re=ae.image.height,Ue=Ce.convert(ce.format),ze=Ce.convert(ce.type);E.setTexture2D(ce,0),ie.pixelStorei(ie.UNPACK_FLIP_Y_WEBGL,ce.flipY),ie.pixelStorei(ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ce.premultiplyAlpha),ie.pixelStorei(ie.UNPACK_ALIGNMENT,ce.unpackAlignment),ae.isDataTexture?ie.texSubImage2D(ie.TEXTURE_2D,he,B.x,B.y,ue,Re,Ue,ze,ae.image.data):ae.isCompressedTexture?ie.compressedTexSubImage2D(ie.TEXTURE_2D,he,B.x,B.y,ae.mipmaps[0].width,ae.mipmaps[0].height,Ue,ae.mipmaps[0].data):ie.texSubImage2D(ie.TEXTURE_2D,he,B.x,B.y,Ue,ze,ae.image),he===0&&ce.generateMipmaps&&ie.generateMipmap(ie.TEXTURE_2D),Q.unbindTexture()},this.copyTextureToTexture3D=function(B,ae,ce,he,ue=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Re=B.max.x-B.min.x+1,Ue=B.max.y-B.min.y+1,ze=B.max.z-B.min.z+1,We=Ce.convert(he.format),qe=Ce.convert(he.type);let Ke;if(he.isData3DTexture)E.setTexture3D(he,0),Ke=ie.TEXTURE_3D;else if(he.isDataArrayTexture||he.isCompressedArrayTexture)E.setTexture2DArray(he,0),Ke=ie.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ie.pixelStorei(ie.UNPACK_FLIP_Y_WEBGL,he.flipY),ie.pixelStorei(ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,he.premultiplyAlpha),ie.pixelStorei(ie.UNPACK_ALIGNMENT,he.unpackAlignment);const Ye=ie.getParameter(ie.UNPACK_ROW_LENGTH),Mt=ie.getParameter(ie.UNPACK_IMAGE_HEIGHT),wn=ie.getParameter(ie.UNPACK_SKIP_PIXELS),Lt=ie.getParameter(ie.UNPACK_SKIP_ROWS),si=ie.getParameter(ie.UNPACK_SKIP_IMAGES),mt=ce.isCompressedTexture?ce.mipmaps[ue]:ce.image;ie.pixelStorei(ie.UNPACK_ROW_LENGTH,mt.width),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,mt.height),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,B.min.x),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,B.min.y),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,B.min.z),ce.isDataTexture||ce.isData3DTexture?ie.texSubImage3D(Ke,ue,ae.x,ae.y,ae.z,Re,Ue,ze,We,qe,mt.data):ce.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ie.compressedTexSubImage3D(Ke,ue,ae.x,ae.y,ae.z,Re,Ue,ze,We,mt.data)):ie.texSubImage3D(Ke,ue,ae.x,ae.y,ae.z,Re,Ue,ze,We,qe,mt),ie.pixelStorei(ie.UNPACK_ROW_LENGTH,Ye),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,Mt),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,wn),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,Lt),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,si),ue===0&&he.generateMipmaps&&ie.generateMipmap(Ke),Q.unbindTexture()},this.initTexture=function(B){B.isCubeTexture?E.setTextureCube(B,0):B.isData3DTexture?E.setTexture3D(B,0):B.isDataArrayTexture||B.isCompressedArrayTexture?E.setTexture2DArray(B,0):E.setTexture2D(B,0),Q.unbindTexture()},this.resetState=function(){A=0,R=0,C=null,Q.reset(),Be.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return xi}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const i=this.getContext();i.drawingBufferColorSpace=e===Xd?"display-p3":"srgb",i.unpackColorSpace=ot.workingColorSpace===_u?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Rt?Nr:J0}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Nr?Rt:Ai}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class Nk extends Sv{}Nk.prototype.isWebGL1Renderer=!0;class Fk extends Jt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,i){return super.copy(e,i),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const i=super.toJSON(e);return this.fog!==null&&(i.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(i.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(i.object.backgroundIntensity=this.backgroundIntensity),i}}class Fr extends Ri{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Xe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Km=new ee,Xm=new ee,Ym=new _t,Dc=new xu,il=new fs;class Uk extends Jt{constructor(e=new gn,i=new Fr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=i,this.updateMorphTargets()}copy(e,i){return super.copy(e,i),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const i=e.attributes.position,r=[0];for(let a=1,o=i.count;a<o;a++)Km.fromBufferAttribute(i,a-1),Xm.fromBufferAttribute(i,a),r[a]=r[a-1],r[a]+=Km.distanceTo(Xm);e.setAttribute("lineDistance",new bt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,i){const r=this.geometry,a=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),il.copy(r.boundingSphere),il.applyMatrix4(a),il.radius+=o,e.ray.intersectsSphere(il)===!1)return;Ym.copy(a).invert(),Dc.copy(e.ray).applyMatrix4(Ym);const l=o/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,c=new ee,d=new ee,f=new ee,p=new ee,m=this.isLineSegments?2:1,S=r.index,g=r.attributes.position;if(S!==null){const h=Math.max(0,s.start),y=Math.min(S.count,s.start+s.count);for(let _=h,M=y-1;_<M;_+=m){const A=S.getX(_),R=S.getX(_+1);if(c.fromBufferAttribute(g,A),d.fromBufferAttribute(g,R),Dc.distanceSqToSegment(c,d,p,f)>u)continue;p.applyMatrix4(this.matrixWorld);const V=e.ray.origin.distanceTo(p);V<e.near||V>e.far||i.push({distance:V,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const h=Math.max(0,s.start),y=Math.min(g.count,s.start+s.count);for(let _=h,M=y-1;_<M;_+=m){if(c.fromBufferAttribute(g,_),d.fromBufferAttribute(g,_+1),Dc.distanceSqToSegment(c,d,p,f)>u)continue;p.applyMatrix4(this.matrixWorld);const R=e.ray.origin.distanceTo(p);R<e.near||R>e.far||i.push({distance:R,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const i=this.geometry.morphAttributes,r=Object.keys(i);if(r.length>0){const a=i[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=a.length;o<s;o++){const l=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}}const Zm=new ee,qm=new ee;class os extends Uk{constructor(e,i){super(e,i),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const i=e.attributes.position,r=[];for(let a=0,o=i.count;a<o;a+=2)Zm.fromBufferAttribute(i,a),qm.fromBufferAttribute(i,a+1),r[a]=a===0?0:r[a-1],r[a+1]=r[a]+Zm.distanceTo(qm);e.setAttribute("lineDistance",new bt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class bo extends Ri{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Xe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Jm=new _t,Vh=new xu,rl=new fs,al=new ee;class Lc extends Jt{constructor(e=new gn,i=new bo){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=i,this.updateMorphTargets()}copy(e,i){return super.copy(e,i),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,i){const r=this.geometry,a=this.matrixWorld,o=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),rl.copy(r.boundingSphere),rl.applyMatrix4(a),rl.radius+=o,e.ray.intersectsSphere(rl)===!1)return;Jm.copy(a).invert(),Vh.copy(e.ray).applyMatrix4(Jm);const l=o/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,c=r.index,f=r.attributes.position;if(c!==null){const p=Math.max(0,s.start),m=Math.min(c.count,s.start+s.count);for(let S=p,v=m;S<v;S++){const g=c.getX(S);al.fromBufferAttribute(f,g),$m(al,g,u,a,e,i,this)}}else{const p=Math.max(0,s.start),m=Math.min(f.count,s.start+s.count);for(let S=p,v=m;S<v;S++)al.fromBufferAttribute(f,S),$m(al,S,u,a,e,i,this)}}updateMorphTargets(){const i=this.geometry.morphAttributes,r=Object.keys(i);if(r.length>0){const a=i[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=a.length;o<s;o++){const l=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}}function $m(t,e,i,r,a,o,s){const l=Vh.distanceSqToPoint(t);if(l<i){const u=new ee;Vh.closestPointToPoint(t,u),u.applyMatrix4(r);const c=a.ray.origin.distanceTo(u);if(c<a.near||c>a.far)return;o.push({distance:c,distanceToRay:Math.sqrt(l),point:u,index:e,face:null,object:s})}}class Jd extends Ri{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Xe(16777215),this.specular=new Xe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$0,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=jd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}const eu={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class yv{constructor(e,i,r){const a=this;let o=!1,s=0,l=0,u;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=i,this.onError=r,this.itemStart=function(d){l++,o===!1&&a.onStart!==void 0&&a.onStart(d,s,l),o=!0},this.itemEnd=function(d){s++,a.onProgress!==void 0&&a.onProgress(d,s,l),s===l&&(o=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(d){a.onError!==void 0&&a.onError(d)},this.resolveURL=function(d){return u?u(d):d},this.setURLModifier=function(d){return u=d,this},this.addHandler=function(d,f){return c.push(d,f),this},this.removeHandler=function(d){const f=c.indexOf(d);return f!==-1&&c.splice(f,2),this},this.getHandler=function(d){for(let f=0,p=c.length;f<p;f+=2){const m=c[f],S=c[f+1];if(m.global&&(m.lastIndex=0),m.test(d))return S}return null}}}const _v=new yv;class no{constructor(e){this.manager=e!==void 0?e:_v,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,i){const r=this;return new Promise(function(a,o){r.load(e,a,i,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}no.DEFAULT_MATERIAL_NAME="__DEFAULT";const fi={};class Ok extends Error{constructor(e,i){super(e),this.response=i}}class $d extends no{constructor(e){super(e)}load(e,i,r,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=eu.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{i&&i(o),this.manager.itemEnd(e)},0),o;if(fi[e]!==void 0){fi[e].push({onLoad:i,onProgress:r,onError:a});return}fi[e]=[],fi[e].push({onLoad:i,onProgress:r,onError:a});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,u=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=fi[e],f=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,S=m!==0;let v=0;const g=new ReadableStream({start(h){y();function y(){f.read().then(({done:_,value:M})=>{if(_)h.close();else{v+=M.byteLength;const A=new ProgressEvent("progress",{lengthComputable:S,loaded:v,total:m});for(let R=0,C=d.length;R<C;R++){const V=d[R];V.onProgress&&V.onProgress(A)}h.enqueue(M),y()}})}}});return new Response(g)}else throw new Ok(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(u){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,l));case"json":return c.json();default:if(l===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(l),p=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(S=>m.decode(S))}}}).then(c=>{eu.add(e,c);const d=fi[e];delete fi[e];for(let f=0,p=d.length;f<p;f++){const m=d[f];m.onLoad&&m.onLoad(c)}}).catch(c=>{const d=fi[e];if(d===void 0)throw this.manager.itemError(e),c;delete fi[e];for(let f=0,p=d.length;f<p;f++){const m=d[f];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Bk extends no{constructor(e){super(e)}load(e,i,r,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=eu.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){i&&i(s),o.manager.itemEnd(e)},0),s;const l=as("img");function u(){d(),eu.add(e,this),i&&i(this),o.manager.itemEnd(e)}function c(f){d(),a&&a(f),o.manager.itemError(e),o.manager.itemEnd(e)}function d(){l.removeEventListener("load",u,!1),l.removeEventListener("error",c,!1)}return l.addEventListener("load",u,!1),l.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),o.manager.itemStart(e),l.src=e,l}}class xv extends no{constructor(e){super(e)}load(e,i,r,a){const o=new on,s=new Bk(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(l){o.image=l,o.needsUpdate=!0,i!==void 0&&i(o)},r,a),o}}class Mv extends Jt{constructor(e,i=1){super(),this.isLight=!0,this.type="Light",this.color=new Xe(e),this.intensity=i}dispose(){}copy(e,i){return super.copy(e,i),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const i=super.toJSON(e);return i.object.color=this.color.getHex(),i.object.intensity=this.intensity,this.groundColor!==void 0&&(i.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(i.object.distance=this.distance),this.angle!==void 0&&(i.object.angle=this.angle),this.decay!==void 0&&(i.object.decay=this.decay),this.penumbra!==void 0&&(i.object.penumbra=this.penumbra),this.shadow!==void 0&&(i.object.shadow=this.shadow.toJSON()),i}}const Nc=new _t,Qm=new ee,eg=new ee;class zk{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ge(512,512),this.map=null,this.mapPass=null,this.matrix=new _t,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Zd,this._frameExtents=new Ge(1,1),this._viewportCount=1,this._viewports=[new pt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const i=this.camera,r=this.matrix;Qm.setFromMatrixPosition(e.matrixWorld),i.position.copy(Qm),eg.setFromMatrixPosition(e.target.matrixWorld),i.lookAt(eg),i.updateMatrixWorld(),Nc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Nc),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(Nc)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const tg=new _t,vo=new ee,Fc=new ee;class Gk extends zk{constructor(){super(new _n(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ge(4,2),this._viewportCount=6,this._viewports=[new pt(2,1,1,1),new pt(0,1,1,1),new pt(3,1,1,1),new pt(1,1,1,1),new pt(3,0,1,1),new pt(1,0,1,1)],this._cubeDirections=[new ee(1,0,0),new ee(-1,0,0),new ee(0,0,1),new ee(0,0,-1),new ee(0,1,0),new ee(0,-1,0)],this._cubeUps=[new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,0,1),new ee(0,0,-1)]}updateMatrices(e,i=0){const r=this.camera,a=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),vo.setFromMatrixPosition(e.matrixWorld),r.position.copy(vo),Fc.copy(r.position),Fc.add(this._cubeDirections[i]),r.up.copy(this._cubeUps[i]),r.lookAt(Fc),r.updateMatrixWorld(),a.makeTranslation(-vo.x,-vo.y,-vo.z),tg.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(tg)}}class Hk extends Mv{constructor(e,i,r=0,a=2){super(e,i),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=a,this.shadow=new Gk}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,i){return super.copy(e,i),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Wk extends Mv{constructor(e,i){super(e,i),this.isAmbientLight=!0,this.type="AmbientLight"}}class Vk{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let i="";for(let r=0,a=e.length;r<a;r++)i+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(i))}catch{return i}}static extractUrlBase(e){const i=e.lastIndexOf("/");return i===-1?"./":e.slice(0,i+1)}static resolveURL(e,i){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(i)&&/^\//.test(e)&&(i=i.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:i+e)}}class jk{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=ng(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const i=ng();e=(i-this.oldTime)/1e3,this.oldTime=i,this.elapsedTime+=e}return e}}function ng(){return(typeof performance>"u"?Date:performance).now()}class ig{constructor(e=1,i=0,r=0){return this.radius=e,this.phi=i,this.theta=r,this}set(e,i,r){return this.radius=e,this.phi=i,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,i,r){return this.radius=Math.sqrt(e*e+i*i+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(qt(i/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Kk extends os{constructor(e=10,i=10,r=4473924,a=8947848){r=new Xe(r),a=new Xe(a);const o=i/2,s=e/i,l=e/2,u=[],c=[];for(let p=0,m=0,S=-l;p<=i;p++,S+=s){u.push(-l,0,S,l,0,S),u.push(S,0,-l,S,0,l);const v=p===o?r:a;v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3}const d=new gn;d.setAttribute("position",new bt(u,3)),d.setAttribute("color",new bt(c,3));const f=new Fr({vertexColors:!0,toneMapped:!1});super(d,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Xk extends os{constructor(e=1){const i=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new gn;a.setAttribute("position",new bt(i,3)),a.setAttribute("color",new bt(r,3));const o=new Fr({vertexColors:!0,toneMapped:!1});super(a,o),this.type="AxesHelper"}setColors(e,i,r){const a=new Xe,o=this.geometry.attributes.color.array;return a.set(e),a.toArray(o,0),a.toArray(o,3),a.set(i),a.toArray(o,6),a.toArray(o,9),a.set(r),a.toArray(o,12),a.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Vd}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Vd);const rg={type:"change"},Uc={type:"start"},ag={type:"end"},ol=new xu,og=new Gi,Yk=Math.cos(70*E1.DEG2RAD);class Zk extends Xr{constructor(e,i){super(),this.object=e,this.domElement=i,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new ee,this.cursor=new ee,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Zr.ROTATE,MIDDLE:Zr.DOLLY,RIGHT:Zr.PAN},this.touches={ONE:qr.ROTATE,TWO:qr.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Z){Z.addEventListener("keydown",Te),this._domElementKeyEvents=Z},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",Te),this._domElementKeyEvents=null},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(rg),r.update(),o=a.NONE},this.update=function(){const Z=new ee,xe=new Wr().setFromUnitVectors(e.up,new ee(0,1,0)),be=xe.clone().invert(),Ne=new ee,j=new Wr,ve=new ee,ge=2*Math.PI;return function(Oe=null){const it=r.object.position;Z.copy(it).sub(r.target),Z.applyQuaternion(xe),l.setFromVector3(Z),r.autoRotate&&o===a.NONE&&I(b(Oe)),r.enableDamping?(l.theta+=u.theta*r.dampingFactor,l.phi+=u.phi*r.dampingFactor):(l.theta+=u.theta,l.phi+=u.phi);let et=r.minAzimuthAngle,st=r.maxAzimuthAngle;isFinite(et)&&isFinite(st)&&(et<-Math.PI?et+=ge:et>Math.PI&&(et-=ge),st<-Math.PI?st+=ge:st>Math.PI&&(st-=ge),et<=st?l.theta=Math.max(et,Math.min(st,l.theta)):l.theta=l.theta>(et+st)/2?Math.max(et,l.theta):Math.min(st,l.theta)),l.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,l.phi)),l.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(d,r.dampingFactor):r.target.add(d),r.target.sub(r.cursor),r.target.clampLength(r.minTargetRadius,r.maxTargetRadius),r.target.add(r.cursor),r.zoomToCursor&&R||r.object.isOrthographicCamera?l.radius=$(l.radius):l.radius=$(l.radius*c),Z.setFromSpherical(l),Z.applyQuaternion(be),it.copy(r.target).add(Z),r.object.lookAt(r.target),r.enableDamping===!0?(u.theta*=1-r.dampingFactor,u.phi*=1-r.dampingFactor,d.multiplyScalar(1-r.dampingFactor)):(u.set(0,0,0),d.set(0,0,0));let Bt=!1;if(r.zoomToCursor&&R){let rt=null;if(r.object.isPerspectiveCamera){const xt=Z.length();rt=$(xt*c);const Qt=xt-rt;r.object.position.addScaledVector(M,Qt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const xt=new ee(A.x,A.y,0);xt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/c)),r.object.updateProjectionMatrix(),Bt=!0;const Qt=new ee(A.x,A.y,0);Qt.unproject(r.object),r.object.position.sub(Qt).add(xt),r.object.updateMatrixWorld(),rt=Z.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;rt!==null&&(this.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(rt).add(r.object.position):(ol.origin.copy(r.object.position),ol.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(ol.direction))<Yk?e.lookAt(r.target):(og.setFromNormalAndCoplanarPoint(r.object.up,r.target),ol.intersectPlane(og,r.target))))}else r.object.isOrthographicCamera&&(Bt=c!==1,Bt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/c)),r.object.updateProjectionMatrix()));return c=1,R=!1,Bt||Ne.distanceToSquared(r.object.position)>s||8*(1-j.dot(r.object.quaternion))>s||ve.distanceToSquared(r.target)>0?(r.dispatchEvent(rg),Ne.copy(r.object.position),j.copy(r.object.quaternion),ve.copy(r.target),!0):!1}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",je),r.domElement.removeEventListener("pointerdown",E),r.domElement.removeEventListener("pointercancel",K),r.domElement.removeEventListener("wheel",oe),r.domElement.removeEventListener("pointermove",k),r.domElement.removeEventListener("pointerup",K),r._domElementKeyEvents!==null&&(r._domElementKeyEvents.removeEventListener("keydown",Te),r._domElementKeyEvents=null)};const r=this,a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=a.NONE;const s=1e-6,l=new ig,u=new ig;let c=1;const d=new ee,f=new Ge,p=new Ge,m=new Ge,S=new Ge,v=new Ge,g=new Ge,h=new Ge,y=new Ge,_=new Ge,M=new ee,A=new Ge;let R=!1;const C=[],V={};let X=!1;function b(Z){return Z!==null?2*Math.PI/60*r.autoRotateSpeed*Z:2*Math.PI/60/60*r.autoRotateSpeed}function F(Z){const xe=Math.abs(Z*.01);return Math.pow(.95,r.zoomSpeed*xe)}function I(Z){u.theta-=Z}function J(Z){u.phi-=Z}const x=function(){const Z=new ee;return function(be,Ne){Z.setFromMatrixColumn(Ne,0),Z.multiplyScalar(-be),d.add(Z)}}(),P=function(){const Z=new ee;return function(be,Ne){r.screenSpacePanning===!0?Z.setFromMatrixColumn(Ne,1):(Z.setFromMatrixColumn(Ne,0),Z.crossVectors(r.object.up,Z)),Z.multiplyScalar(be),d.add(Z)}}(),U=function(){const Z=new ee;return function(be,Ne){const j=r.domElement;if(r.object.isPerspectiveCamera){const ve=r.object.position;Z.copy(ve).sub(r.target);let ge=Z.length();ge*=Math.tan(r.object.fov/2*Math.PI/180),x(2*be*ge/j.clientHeight,r.object.matrix),P(2*Ne*ge/j.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(x(be*(r.object.right-r.object.left)/r.object.zoom/j.clientWidth,r.object.matrix),P(Ne*(r.object.top-r.object.bottom)/r.object.zoom/j.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function N(Z){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?c/=Z:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function z(Z){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?c*=Z:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function O(Z,xe){if(!r.zoomToCursor)return;R=!0;const be=r.domElement.getBoundingClientRect(),Ne=Z-be.left,j=xe-be.top,ve=be.width,ge=be.height;A.x=Ne/ve*2-1,A.y=-(j/ge)*2+1,M.set(A.x,A.y,1).unproject(r.object).sub(r.object.position).normalize()}function $(Z){return Math.max(r.minDistance,Math.min(r.maxDistance,Z))}function H(Z){f.set(Z.clientX,Z.clientY)}function W(Z){O(Z.clientX,Z.clientX),h.set(Z.clientX,Z.clientY)}function fe(Z){S.set(Z.clientX,Z.clientY)}function q(Z){p.set(Z.clientX,Z.clientY),m.subVectors(p,f).multiplyScalar(r.rotateSpeed);const xe=r.domElement;I(2*Math.PI*m.x/xe.clientHeight),J(2*Math.PI*m.y/xe.clientHeight),f.copy(p),r.update()}function ne(Z){y.set(Z.clientX,Z.clientY),_.subVectors(y,h),_.y>0?N(F(_.y)):_.y<0&&z(F(_.y)),h.copy(y),r.update()}function se(Z){v.set(Z.clientX,Z.clientY),g.subVectors(v,S).multiplyScalar(r.panSpeed),U(g.x,g.y),S.copy(v),r.update()}function Me(Z){O(Z.clientX,Z.clientY),Z.deltaY<0?z(F(Z.deltaY)):Z.deltaY>0&&N(F(Z.deltaY)),r.update()}function we(Z){let xe=!1;switch(Z.code){case r.keys.UP:Z.ctrlKey||Z.metaKey||Z.shiftKey?J(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):U(0,r.keyPanSpeed),xe=!0;break;case r.keys.BOTTOM:Z.ctrlKey||Z.metaKey||Z.shiftKey?J(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):U(0,-r.keyPanSpeed),xe=!0;break;case r.keys.LEFT:Z.ctrlKey||Z.metaKey||Z.shiftKey?I(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):U(r.keyPanSpeed,0),xe=!0;break;case r.keys.RIGHT:Z.ctrlKey||Z.metaKey||Z.shiftKey?I(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):U(-r.keyPanSpeed,0),xe=!0;break}xe&&(Z.preventDefault(),r.update())}function Se(Z){if(C.length===1)f.set(Z.pageX,Z.pageY);else{const xe=Ce(Z),be=.5*(Z.pageX+xe.x),Ne=.5*(Z.pageY+xe.y);f.set(be,Ne)}}function Ie(Z){if(C.length===1)S.set(Z.pageX,Z.pageY);else{const xe=Ce(Z),be=.5*(Z.pageX+xe.x),Ne=.5*(Z.pageY+xe.y);S.set(be,Ne)}}function ke(Z){const xe=Ce(Z),be=Z.pageX-xe.x,Ne=Z.pageY-xe.y,j=Math.sqrt(be*be+Ne*Ne);h.set(0,j)}function ie(Z){r.enableZoom&&ke(Z),r.enablePan&&Ie(Z)}function Qe(Z){r.enableZoom&&ke(Z),r.enableRotate&&Se(Z)}function T(Z){if(C.length==1)p.set(Z.pageX,Z.pageY);else{const be=Ce(Z),Ne=.5*(Z.pageX+be.x),j=.5*(Z.pageY+be.y);p.set(Ne,j)}m.subVectors(p,f).multiplyScalar(r.rotateSpeed);const xe=r.domElement;I(2*Math.PI*m.x/xe.clientHeight),J(2*Math.PI*m.y/xe.clientHeight),f.copy(p)}function re(Z){if(C.length===1)v.set(Z.pageX,Z.pageY);else{const xe=Ce(Z),be=.5*(Z.pageX+xe.x),Ne=.5*(Z.pageY+xe.y);v.set(be,Ne)}g.subVectors(v,S).multiplyScalar(r.panSpeed),U(g.x,g.y),S.copy(v)}function Q(Z){const xe=Ce(Z),be=Z.pageX-xe.x,Ne=Z.pageY-xe.y,j=Math.sqrt(be*be+Ne*Ne);y.set(0,j),_.set(0,Math.pow(y.y/h.y,r.zoomSpeed)),N(_.y),h.copy(y);const ve=(Z.pageX+xe.x)*.5,ge=(Z.pageY+xe.y)*.5;O(ve,ge)}function G(Z){r.enableZoom&&Q(Z),r.enablePan&&re(Z)}function D(Z){r.enableZoom&&Q(Z),r.enableRotate&&T(Z)}function E(Z){r.enabled!==!1&&(C.length===0&&(r.domElement.setPointerCapture(Z.pointerId),r.domElement.addEventListener("pointermove",k),r.domElement.addEventListener("pointerup",K)),He(Z),Z.pointerType==="touch"?Fe(Z):Y(Z))}function k(Z){r.enabled!==!1&&(Z.pointerType==="touch"?me(Z):te(Z))}function K(Z){switch(Ae(Z),C.length){case 0:r.domElement.releasePointerCapture(Z.pointerId),r.domElement.removeEventListener("pointermove",k),r.domElement.removeEventListener("pointerup",K),r.dispatchEvent(ag),o=a.NONE;break;case 1:const xe=C[0],be=V[xe];Fe({pointerId:xe,pageX:be.x,pageY:be.y});break}}function Y(Z){let xe;switch(Z.button){case 0:xe=r.mouseButtons.LEFT;break;case 1:xe=r.mouseButtons.MIDDLE;break;case 2:xe=r.mouseButtons.RIGHT;break;default:xe=-1}switch(xe){case Zr.DOLLY:if(r.enableZoom===!1)return;W(Z),o=a.DOLLY;break;case Zr.ROTATE:if(Z.ctrlKey||Z.metaKey||Z.shiftKey){if(r.enablePan===!1)return;fe(Z),o=a.PAN}else{if(r.enableRotate===!1)return;H(Z),o=a.ROTATE}break;case Zr.PAN:if(Z.ctrlKey||Z.metaKey||Z.shiftKey){if(r.enableRotate===!1)return;H(Z),o=a.ROTATE}else{if(r.enablePan===!1)return;fe(Z),o=a.PAN}break;default:o=a.NONE}o!==a.NONE&&r.dispatchEvent(Uc)}function te(Z){switch(o){case a.ROTATE:if(r.enableRotate===!1)return;q(Z);break;case a.DOLLY:if(r.enableZoom===!1)return;ne(Z);break;case a.PAN:if(r.enablePan===!1)return;se(Z);break}}function oe(Z){r.enabled===!1||r.enableZoom===!1||o!==a.NONE||(Z.preventDefault(),r.dispatchEvent(Uc),Me(le(Z)),r.dispatchEvent(ag))}function le(Z){const xe=Z.deltaMode,be={clientX:Z.clientX,clientY:Z.clientY,deltaY:Z.deltaY};switch(xe){case 1:be.deltaY*=16;break;case 2:be.deltaY*=100;break}return Z.ctrlKey&&!X&&(be.deltaY*=10),be}function de(Z){Z.key==="Control"&&(X=!0,r.domElement.getRootNode().addEventListener("keyup",_e,{passive:!0,capture:!0}))}function _e(Z){Z.key==="Control"&&(X=!1,r.domElement.getRootNode().removeEventListener("keyup",_e,{passive:!0,capture:!0}))}function Te(Z){r.enabled===!1||r.enablePan===!1||we(Z)}function Fe(Z){switch(De(Z),C.length){case 1:switch(r.touches.ONE){case qr.ROTATE:if(r.enableRotate===!1)return;Se(Z),o=a.TOUCH_ROTATE;break;case qr.PAN:if(r.enablePan===!1)return;Ie(Z),o=a.TOUCH_PAN;break;default:o=a.NONE}break;case 2:switch(r.touches.TWO){case qr.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ie(Z),o=a.TOUCH_DOLLY_PAN;break;case qr.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Qe(Z),o=a.TOUCH_DOLLY_ROTATE;break;default:o=a.NONE}break;default:o=a.NONE}o!==a.NONE&&r.dispatchEvent(Uc)}function me(Z){switch(De(Z),o){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;T(Z),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;re(Z),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;G(Z),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;D(Z),r.update();break;default:o=a.NONE}}function je(Z){r.enabled!==!1&&Z.preventDefault()}function He(Z){C.push(Z.pointerId)}function Ae(Z){delete V[Z.pointerId];for(let xe=0;xe<C.length;xe++)if(C[xe]==Z.pointerId){C.splice(xe,1);return}}function De(Z){let xe=V[Z.pointerId];xe===void 0&&(xe=new Ge,V[Z.pointerId]=xe),xe.set(Z.pageX,Z.pageY)}function Ce(Z){const xe=Z.pointerId===C[0]?C[1]:C[0];return V[xe]}r.domElement.addEventListener("contextmenu",je),r.domElement.addEventListener("pointerdown",E),r.domElement.addEventListener("pointercancel",K),r.domElement.addEventListener("wheel",oe,{passive:!1}),r.domElement.getRootNode().addEventListener("keydown",de,{passive:!0,capture:!0}),this.update()}}const So=new ee,yo=new ee,sg=new Je;class qk extends os{constructor(e,i=1,r=16711680){const a=new gn,o=e.geometry.attributes.normal.count,s=new bt(o*2*3,3);a.setAttribute("position",s),super(a,new Fr({color:r,toneMapped:!1})),this.object=e,this.size=i,this.type="VertexNormalsHelper",this.matrixAutoUpdate=!1,this.update()}update(){this.object.updateMatrixWorld(!0),sg.getNormalMatrix(this.object.matrixWorld);const e=this.object.matrixWorld,i=this.geometry.attributes.position,r=this.object.geometry;if(r){const a=r.attributes.position,o=r.attributes.normal;let s=0;for(let l=0,u=a.count;l<u;l++)So.fromBufferAttribute(a,l).applyMatrix4(e),yo.fromBufferAttribute(o,l),yo.applyMatrix3(sg).normalize().multiplyScalar(this.size).add(So),i.setXYZ(s,So.x,So.y,So.z),s=s+1,i.setXYZ(s,yo.x,yo.y,yo.z),s=s+1}i.needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}var Tv={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(_o,function(){var i=function(){function r(m){return s.appendChild(m.dom),m}function a(m){for(var S=0;S<s.children.length;S++)s.children[S].style.display=S===m?"block":"none";o=m}var o=0,s=document.createElement("div");s.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",s.addEventListener("click",function(m){m.preventDefault(),a(++o%s.children.length)},!1);var l=(performance||Date).now(),u=l,c=0,d=r(new i.Panel("FPS","#0ff","#002")),f=r(new i.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var p=r(new i.Panel("MB","#f08","#201"));return a(0),{REVISION:16,dom:s,addPanel:r,showPanel:a,begin:function(){l=(performance||Date).now()},end:function(){c++;var m=(performance||Date).now();if(f.update(m-l,200),m>u+1e3&&(d.update(1e3*c/(m-u),100),u=m,c=0,p)){var S=performance.memory;p.update(S.usedJSHeapSize/1048576,S.jsHeapSizeLimit/1048576)}return m},update:function(){l=this.end()},domElement:s,setMode:a}};return i.Panel=function(r,a,o){var s=1/0,l=0,u=Math.round,c=u(window.devicePixelRatio||1),d=80*c,f=48*c,p=3*c,m=2*c,S=3*c,v=15*c,g=74*c,h=30*c,y=document.createElement("canvas");y.width=d,y.height=f,y.style.cssText="width:80px;height:48px";var _=y.getContext("2d");return _.font="bold "+9*c+"px Helvetica,Arial,sans-serif",_.textBaseline="top",_.fillStyle=o,_.fillRect(0,0,d,f),_.fillStyle=a,_.fillText(r,p,m),_.fillRect(S,v,g,h),_.fillStyle=o,_.globalAlpha=.9,_.fillRect(S,v,g,h),{dom:y,update:function(M,A){s=Math.min(s,M),l=Math.max(l,M),_.fillStyle=o,_.globalAlpha=1,_.fillRect(0,0,d,v),_.fillStyle=a,_.fillText(u(M)+" "+r+" ("+u(s)+"-"+u(l)+")",p,m),_.drawImage(y,S+c,v,g-c,h,S,v,g-c,h),_.fillRect(S+g-c,v,c,h),_.fillStyle=o,_.globalAlpha=.9,_.fillRect(S+g-c,v,c,u((1-M/A)*h))}}},i})})(Tv);var Jk=Tv.exports;const $k=tu(Jk);class Qk extends no{constructor(e){super(e)}load(e,i,r,a){const o=this,s=this.path===""?Vk.extractUrlBase(e):this.path,l=new $d(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{i(o.parse(u,s))}catch(c){a?a(c):console.error(c),o.manager.itemError(e)}},r,a)}setMaterialOptions(e){return this.materialOptions=e,this}parse(e,i){const r=e.split(`
`);let a={};const o=/\s+/,s={};for(let u=0;u<r.length;u++){let c=r[u];if(c=c.trim(),c.length===0||c.charAt(0)==="#")continue;const d=c.indexOf(" ");let f=d>=0?c.substring(0,d):c;f=f.toLowerCase();let p=d>=0?c.substring(d+1):"";if(p=p.trim(),f==="newmtl")a={name:p},s[p]=a;else if(f==="ka"||f==="kd"||f==="ks"||f==="ke"){const m=p.split(o,3);a[f]=[parseFloat(m[0]),parseFloat(m[1]),parseFloat(m[2])]}else a[f]=p}const l=new eC(this.resourcePath||i,this.materialOptions);return l.setCrossOrigin(this.crossOrigin),l.setManager(this.manager),l.setMaterials(s),l}}class eC{constructor(e="",i={}){this.baseUrl=e,this.options=i,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:Ci,this.wrap=this.options.wrap!==void 0?this.options.wrap:Yl}setCrossOrigin(e){return this.crossOrigin=e,this}setManager(e){this.manager=e}setMaterials(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(e){if(!this.options)return e;const i={};for(const r in e){const a=e[r],o={};i[r]=o;for(const s in a){let l=!0,u=a[s];const c=s.toLowerCase();switch(c){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(u=[u[0]/255,u[1]/255,u[2]/255]),this.options&&this.options.ignoreZeroRGBs&&u[0]===0&&u[1]===0&&u[2]===0&&(l=!1);break}l&&(o[c]=u)}}return i}preload(){for(const e in this.materialsInfo)this.create(e)}getIndex(e){return this.nameLookup[e]}getAsArray(){let e=0;for(const i in this.materialsInfo)this.materialsArray[e]=this.create(i),this.nameLookup[i]=e,e++;return this.materialsArray}create(e){return this.materials[e]===void 0&&this.createMaterial_(e),this.materials[e]}createMaterial_(e){const i=this,r=this.materialsInfo[e],a={name:e,side:this.side};function o(l,u){return typeof u!="string"||u===""?"":/^https?:\/\//i.test(u)?u:l+u}function s(l,u){if(a[l])return;const c=i.getTextureParams(u,a),d=i.loadTexture(o(i.baseUrl,c.url));d.repeat.copy(c.scale),d.offset.copy(c.offset),d.wrapS=i.wrap,d.wrapT=i.wrap,(l==="map"||l==="emissiveMap")&&(d.colorSpace=Rt),a[l]=d}for(const l in r){const u=r[l];let c;if(u!=="")switch(l.toLowerCase()){case"kd":a.color=new Xe().fromArray(u).convertSRGBToLinear();break;case"ks":a.specular=new Xe().fromArray(u).convertSRGBToLinear();break;case"ke":a.emissive=new Xe().fromArray(u).convertSRGBToLinear();break;case"map_kd":s("map",u);break;case"map_ks":s("specularMap",u);break;case"map_ke":s("emissiveMap",u);break;case"norm":s("normalMap",u);break;case"map_bump":case"bump":s("bumpMap",u);break;case"map_d":s("alphaMap",u),a.transparent=!0;break;case"ns":a.shininess=parseFloat(u);break;case"d":c=parseFloat(u),c<1&&(a.opacity=c,a.transparent=!0);break;case"tr":c=parseFloat(u),this.options&&this.options.invertTrProperty&&(c=1-c),c>0&&(a.opacity=1-c,a.transparent=!0);break}}return this.materials[e]=new Jd(a),this.materials[e]}getTextureParams(e,i){const r={scale:new Ge(1,1),offset:new Ge(0,0)},a=e.split(/\s+/);let o;return o=a.indexOf("-bm"),o>=0&&(i.bumpScale=parseFloat(a[o+1]),a.splice(o,2)),o=a.indexOf("-s"),o>=0&&(r.scale.set(parseFloat(a[o+1]),parseFloat(a[o+2])),a.splice(o,4)),o=a.indexOf("-o"),o>=0&&(r.offset.set(parseFloat(a[o+1]),parseFloat(a[o+2])),a.splice(o,4)),r.url=a.join(" ").trim(),r}loadTexture(e,i,r,a,o){const s=this.manager!==void 0?this.manager:_v;let l=s.getHandler(e);l===null&&(l=new xv(s)),l.setCrossOrigin&&l.setCrossOrigin(this.crossOrigin);const u=l.load(e,r,a,o);return i!==void 0&&(u.mapping=i),u}}const tC=/^[og]\s*(.+)?/,nC=/^mtllib /,iC=/^usemtl /,rC=/^usemap /,lg=/\s+/,ug=new ee,Oc=new ee,cg=new ee,hg=new ee,An=new ee,sl=new Xe;function aC(){const t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,i){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=i!==!1;return}const r=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:i!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(a,o){const s=this._finalize(!1);s&&(s.inherited||s.groupCount<=0)&&this.materials.splice(s.index,1);const l={index:this.materials.length,name:a||"",mtllib:Array.isArray(o)&&o.length>0?o[o.length-1]:"",smooth:s!==void 0?s.smooth:this.smooth,groupStart:s!==void 0?s.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(u){const c={index:typeof u=="number"?u:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return c.clone=this.clone.bind(c),c}};return this.materials.push(l),l},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(a){const o=this.currentMaterial();if(o&&o.groupEnd===-1&&(o.groupEnd=this.geometry.vertices.length/3,o.groupCount=o.groupEnd-o.groupStart,o.inherited=!1),a&&this.materials.length>1)for(let s=this.materials.length-1;s>=0;s--)this.materials[s].groupCount<=0&&this.materials.splice(s,1);return a&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),o}},r&&r.name&&typeof r.clone=="function"){const a=r.clone(0);a.inherited=!0,this.object.materials.push(a)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,i){const r=parseInt(e,10);return(r>=0?r-1:r+i/3)*3},parseNormalIndex:function(e,i){const r=parseInt(e,10);return(r>=0?r-1:r+i/3)*3},parseUVIndex:function(e,i){const r=parseInt(e,10);return(r>=0?r-1:r+i/2)*2},addVertex:function(e,i,r){const a=this.vertices,o=this.object.geometry.vertices;o.push(a[e+0],a[e+1],a[e+2]),o.push(a[i+0],a[i+1],a[i+2]),o.push(a[r+0],a[r+1],a[r+2])},addVertexPoint:function(e){const i=this.vertices;this.object.geometry.vertices.push(i[e+0],i[e+1],i[e+2])},addVertexLine:function(e){const i=this.vertices;this.object.geometry.vertices.push(i[e+0],i[e+1],i[e+2])},addNormal:function(e,i,r){const a=this.normals,o=this.object.geometry.normals;o.push(a[e+0],a[e+1],a[e+2]),o.push(a[i+0],a[i+1],a[i+2]),o.push(a[r+0],a[r+1],a[r+2])},addFaceNormal:function(e,i,r){const a=this.vertices,o=this.object.geometry.normals;ug.fromArray(a,e),Oc.fromArray(a,i),cg.fromArray(a,r),An.subVectors(cg,Oc),hg.subVectors(ug,Oc),An.cross(hg),An.normalize(),o.push(An.x,An.y,An.z),o.push(An.x,An.y,An.z),o.push(An.x,An.y,An.z)},addColor:function(e,i,r){const a=this.colors,o=this.object.geometry.colors;a[e]!==void 0&&o.push(a[e+0],a[e+1],a[e+2]),a[i]!==void 0&&o.push(a[i+0],a[i+1],a[i+2]),a[r]!==void 0&&o.push(a[r+0],a[r+1],a[r+2])},addUV:function(e,i,r){const a=this.uvs,o=this.object.geometry.uvs;o.push(a[e+0],a[e+1]),o.push(a[i+0],a[i+1]),o.push(a[r+0],a[r+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const i=this.uvs;this.object.geometry.uvs.push(i[e+0],i[e+1])},addFace:function(e,i,r,a,o,s,l,u,c){const d=this.vertices.length;let f=this.parseVertexIndex(e,d),p=this.parseVertexIndex(i,d),m=this.parseVertexIndex(r,d);if(this.addVertex(f,p,m),this.addColor(f,p,m),l!==void 0&&l!==""){const S=this.normals.length;f=this.parseNormalIndex(l,S),p=this.parseNormalIndex(u,S),m=this.parseNormalIndex(c,S),this.addNormal(f,p,m)}else this.addFaceNormal(f,p,m);if(a!==void 0&&a!==""){const S=this.uvs.length;f=this.parseUVIndex(a,S),p=this.parseUVIndex(o,S),m=this.parseUVIndex(s,S),this.addUV(f,p,m),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const i=this.vertices.length;for(let r=0,a=e.length;r<a;r++){const o=this.parseVertexIndex(e[r],i);this.addVertexPoint(o),this.addColor(o)}},addLineGeometry:function(e,i){this.object.geometry.type="Line";const r=this.vertices.length,a=this.uvs.length;for(let o=0,s=e.length;o<s;o++)this.addVertexLine(this.parseVertexIndex(e[o],r));for(let o=0,s=i.length;o<s;o++)this.addUVLine(this.parseUVIndex(i[o],a))}};return t.startObject("",!1),t}class oC extends no{constructor(e){super(e),this.materials=null}load(e,i,r,a){const o=this,s=new $d(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{i(o.parse(l))}catch(u){a?a(u):console.error(u),o.manager.itemError(e)}},r,a)}setMaterials(e){return this.materials=e,this}parse(e){const i=new aC;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const r=e.split(`
`);let a=[];for(let l=0,u=r.length;l<u;l++){const c=r[l].trimStart();if(c.length===0)continue;const d=c.charAt(0);if(d!=="#")if(d==="v"){const f=c.split(lg);switch(f[0]){case"v":i.vertices.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3])),f.length>=7?(sl.setRGB(parseFloat(f[4]),parseFloat(f[5]),parseFloat(f[6])).convertSRGBToLinear(),i.colors.push(sl.r,sl.g,sl.b)):i.colors.push(void 0,void 0,void 0);break;case"vn":i.normals.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3]));break;case"vt":i.uvs.push(parseFloat(f[1]),parseFloat(f[2]));break}}else if(d==="f"){const p=c.slice(1).trim().split(lg),m=[];for(let v=0,g=p.length;v<g;v++){const h=p[v];if(h.length>0){const y=h.split("/");m.push(y)}}const S=m[0];for(let v=1,g=m.length-1;v<g;v++){const h=m[v],y=m[v+1];i.addFace(S[0],h[0],y[0],S[1],h[1],y[1],S[2],h[2],y[2])}}else if(d==="l"){const f=c.substring(1).trim().split(" ");let p=[];const m=[];if(c.indexOf("/")===-1)p=f;else for(let S=0,v=f.length;S<v;S++){const g=f[S].split("/");g[0]!==""&&p.push(g[0]),g[1]!==""&&m.push(g[1])}i.addLineGeometry(p,m)}else if(d==="p"){const p=c.slice(1).trim().split(" ");i.addPointGeometry(p)}else if((a=tC.exec(c))!==null){const f=(" "+a[0].slice(1).trim()).slice(1);i.startObject(f)}else if(iC.test(c))i.object.startMaterial(c.substring(7).trim(),i.materialLibraries);else if(nC.test(c))i.materialLibraries.push(c.substring(7).trim());else if(rC.test(c))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(d==="s"){if(a=c.split(" "),a.length>1){const p=a[1].trim().toLowerCase();i.object.smooth=p!=="0"&&p!=="off"}else i.object.smooth=!0;const f=i.object.currentMaterial();f&&(f.smooth=i.object.smooth)}else{if(c==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+c+'"')}}i.finalize();const o=new Ca;if(o.materialLibraries=[].concat(i.materialLibraries),!(i.objects.length===1&&i.objects[0].geometry.vertices.length===0)===!0)for(let l=0,u=i.objects.length;l<u;l++){const c=i.objects[l],d=c.geometry,f=c.materials,p=d.type==="Line",m=d.type==="Points";let S=!1;if(d.vertices.length===0)continue;const v=new gn;v.setAttribute("position",new bt(d.vertices,3)),d.normals.length>0&&v.setAttribute("normal",new bt(d.normals,3)),d.colors.length>0&&(S=!0,v.setAttribute("color",new bt(d.colors,3))),d.hasUVIndices===!0&&v.setAttribute("uv",new bt(d.uvs,2));const g=[];for(let y=0,_=f.length;y<_;y++){const M=f[y],A=M.name+"_"+M.smooth+"_"+S;let R=i.materials[A];if(this.materials!==null){if(R=this.materials.create(M.name),p&&R&&!(R instanceof Fr)){const C=new Fr;Ri.prototype.copy.call(C,R),C.color.copy(R.color),R=C}else if(m&&R&&!(R instanceof bo)){const C=new bo({size:10,sizeAttenuation:!1});Ri.prototype.copy.call(C,R),C.color.copy(R.color),C.map=R.map,R=C}}R===void 0&&(p?R=new Fr:m?R=new bo({size:1,sizeAttenuation:!1}):R=new Jd,R.name=M.name,R.flatShading=!M.smooth,R.vertexColors=S,i.materials[A]=R),g.push(R)}let h;if(g.length>1){for(let y=0,_=f.length;y<_;y++){const M=f[y];v.addGroup(M.groupStart,M.groupCount,y)}p?h=new os(v,g):m?h=new Lc(v,g):h=new Nn(v,g)}else p?h=new os(v,g[0]):m?h=new Lc(v,g[0]):h=new Nn(v,g[0]);h.name=c.name,o.add(h)}else if(i.vertices.length>0){const l=new bo({size:1,sizeAttenuation:!1}),u=new gn;u.setAttribute("position",new bt(i.vertices,3)),i.colors.length>0&&i.colors[0]!==void 0&&(u.setAttribute("color",new bt(i.colors,3)),l.vertexColors=!0);const c=new Lc(u,l);o.add(c)}return o}}class sC extends oC{loadV2(e,i,r,a,o,s){const l=this,u=new $d(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,c=>{try{if(c instanceof ArrayBuffer){const p=new Uint8Array(c);c=new TextDecoder().decode(p)}let d;a&&(d=this.getRelativeMtlUrl(e,c),a(d));let f=i?this.createBlobMtlForUrl(i):d??this.getRelativeMtlUrl(e,c);l.loadMtl(f,()=>{let p=l.parse(c);s&&s(p)},r,o)}catch(d){o?o(d):console.error(d),l.manager.itemError(e)}},r,o)}loadMtl(e,i,r,a){new Qk(this.manager).load(e,s=>{this.setMaterials(s),i()},r,a)}getRelativeMtlUrl(e,i){const r="mtllib ";let o=i.split(`
`).find(c=>c.startsWith(r));if(!o)throw new Error("No mtllib line found in obj file.");let s=o==null?void 0:o.substring(r.length).trim();if(!s)throw new Error("Could not find mtl filename in obj file contents.");const l=e.split("/");return l.pop(),l.push(this.urlEncode(s)),l.join("/")}createBlobMtlForUrl(e){const i=`newmtl Texture
map_Kd ${e}`,r=new Blob([i],{type:"text/plain"});return URL.createObjectURL(r)}urlEncode(e){return e.replace(/ /g,"%20")}}const Er=class Er{constructor(){this.prop_animate=!0,this.prop_frame=0,this.prop_grid=!0,this.prop_textureType=wi.Icon,this.prop_meshType=Ar.Mesh,this.prop_backgroundColor="#000000",this.prop_callback=()=>{},this.last_textureType=wi.Plain,this.clock=new jk(!0),this.vertexNormalHelper=void 0,this.initialised=!1,console.log("ModelRendererImpl constructor."),this.scene=new Fk,this.camera=new _n(45,window.innerWidth/window.innerHeight,.001,2e3),this.scene.add(this.camera),this.reposition(void 0),this.axesHelper=new Xk(.5),this.scene.add(this.axesHelper),this.horizontalGridHelper=new Kk(1,3),this.scene.add(this.horizontalGridHelper);const e=new Wk(13421772,3);this.scene.add(e);const i=new Hk(16777215,.8);this.camera.add(i),window.addEventListener("resize",r=>this.onWindowResize()),this.assetLoadComplete=this.assetLoadComplete.bind(this),this.dispose=this.dispose.bind(this),this.animate=this.animate.bind(this),this.animate()}init(){console.log(`ModelRendererImpl init. Init value: ${this.initialised}.`),this.initialised=!0,this.canvas=document.querySelector("#iconRenderCanvas"),this.stats&&this.canvas.before(this.stats.dom),this.renderer=new Sv({canvas:this.canvas,antialias:!0,logarithmicDepthBuffer:!0}),this.onWindowResize(),this.controls=new Zk(this.camera,this.renderer.domElement),this.controls.autoRotate=!0,this.controls.autoRotateSpeed=-2,this.controls.rotateSpeed=.2,this.controls.update(),this.canvas.addEventListener("click",e=>{this.controls.autoRotate=!1,this.controls.rotateSpeed=.2}),this.canvas.addEventListener("touchstart",e=>{this.controls.autoRotate=!1,this.controls.rotateSpeed=.4}),this.last_iconcode=void 0,this.last_variant=void 0,this.last_textureType=wi.Icon}async loadNewIcon(e,i,r){console.log(`ModelRendererImpl loadNewIcon. code: ${e}, variant: ${i}, textureType: ${r}.`);let a=this.last_iconcode!==e||this.last_variant!==i,o=this.last_textureType!==r,s=a;const l=new yv(()=>this.assetLoadComplete(s));let u=r===wi.Icon?void 0:r===wi.Test?"https://threejs.org/examples/textures/uv_grid_opengl.jpg":r===wi.Plain?"https://upload.wikimedia.org/wikipedia/commons/7/70/Solid_white.svg":(()=>{throw new Error("Unknown TextureType")})();a?(this.pivot&&this.scene.remove(this.pivot),this.loadModel(l,e,i,u),this.loadAnimation(e,i)):o&&this.loadTexture(l,u),this.last_iconcode=e,this.last_variant=i,this.last_textureType=r}loadModel(e,i,r,a){new sC(e).loadV2(`/icons/${i}/${r}.obj`,a,this.loadProgress,s=>{this.relativeMtlTextureUrl=s,this.fireCallback()},this.loadError,s=>{this.icon=s})}async loadAnimation(e,i){this.animData=void 0;let r=await fetch(`/icons/${e}/${i}.anim`);if(r.ok){let a=await r.text();if(a.startsWith("{")){let o=JSON.parse(a);this.animData=o}else{let o=a.substring(0,50).replaceAll(`
`,""),s=a.length>50?"...":"";console.warn(`Animation data request response did appear to be JSON. Preview: ${o}${s}`)}}else console.warn(`Request for animation data failed with status ${r.status}`);this.fireCallback()}async loadTexture(e,i){var s;const r=new xv(e);let a=i??((s=this.relativeMtlTextureUrl)==null?void 0:s.replace(".mtl",".png"))??"https://upload.wikimedia.org/wikipedia/commons/7/70/Solid_white.svg",o=await r.loadAsync(a);if(this.mesh){let l=new Jd;l.map=o,l.map.colorSpace=Rt,this.mesh.material=l}}loadProgress(e){}loadError(e){console.error(`Load error. Message: '${e.message}'`)}reposition(e){var o,s,l,u;let i=new ee;e&&e.getSize(i);let r=Math.max(i.x,i.y,i.z);this.camera.position.z=Math.min(-r*1.25,-2),this.camera.position.y=Math.max(i.x*.5,.75),this.camera.position.x=0;let a=Math.max(r,1);(o=this.horizontalGridHelper)==null||o.scale.set(a,a,a),(s=this.horizontalGridHelper)==null||s.position.setY(-i.y/2),(l=this.axesHelper)==null||l.scale.set(a,a,a),(u=this.axesHelper)==null||u.position.setY(-i.y/2),this.mesh&&(this.vertexNormalHelper=new qk(this.mesh,.1),this.scene.add(this.vertexNormalHelper))}assetLoadComplete(e){if(this.icon){this.icon.traverse(a=>{a instanceof Nn&&(this.mesh=a,this.geometry=a.geometry,a.material.wireframe=!0)});let i=new eo().setFromObject(this.icon),r=new ee;i.getCenter(r),this.pivot=new Ca,this.icon.position.sub(r),this.pivot.add(this.icon),this.scene.add(this.pivot),e&&this.reposition(i)}}fireCallback(){var e,i;this.prop_callback(((i=(e=this.animData)==null?void 0:e.frames)==null?void 0:i.length)??0,this.removePathAndExtension(this.relativeMtlTextureUrl))}createStats(){var e=new $k;return e.dom.style.position="fixed",e.dom.style.top="0px",e.dom.style.right="0px",e.dom.style.bottom="",e.dom.style.left="",e}dispose(){var e,i,r;this.animData=void 0,(e=this.geometry)==null||e.dispose(),(i=this.texture)==null||i.dispose(),(r=this.renderer)==null||r.dispose(),this.initialised=!1,console.log("ModelRendererImpl dispose.")}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer&&(this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(window.devicePixelRatio))}animate(){var e,i;requestAnimationFrame(this.animate),(e=this.controls)==null||e.update(),(i=this.stats)==null||i.update(),this.render()}render(){var i,r,a;this.axesHelper.visible=this.prop_grid,this.horizontalGridHelper.visible=this.prop_grid,(i=this.renderer)==null||i.setClearColor(new Xe(this.prop_backgroundColor)),this.mesh&&(this.mesh.material.wireframe=this.prop_meshType===Ar.Wireframe,this.vertexNormalHelper&&(this.vertexNormalHelper.visible=this.prop_meshType===Ar.Normals),this.mesh.visible=this.prop_meshType!==Ar.Normals);let e=this.clock.getElapsedTime();if(this.animData&&this.geometry){let o=this.animData.frames.length,s=Er.secondsPerAnimationFrame*o,l=this.prop_animate?Math.floor(e%s/Er.secondsPerAnimationFrame):this.clamp(this.prop_frame,0,o);console.log(`animationFrame: ${l}`);const u=this.geometry.attributes.position,c=new Float32Array(u.count*3);for(let d=0;d<u.count;d++){let[f,p,m]=this.wrappedIndex(this.animData.frames,l).vertexData.slice(d*3,d*3+3);f=-f,p=-p;let[S,v,g]=this.wrappedIndex(this.animData.frames,l+1).vertexData.slice(d*3,d*3+3);S=-S,v=-v;let h=this.prop_animate?e%Er.secondsPerAnimationFrame/Er.secondsPerAnimationFrame:0;c[d*3+0]=this.lerp(f,S,h),c[d*3+1]=this.lerp(p,v,h),c[d*3+2]=this.lerp(m,g,h)}this.geometry.setAttribute("position",new qn(c,3))}(r=this.vertexNormalHelper)!=null&&r.visible&&this.vertexNormalHelper.update(),(a=this.renderer)==null||a.render(this.scene,this.camera)}clamp(e,i,r){return Math.max(i,Math.min(e,r))}lerp(e,i,r){return e*(1-r)+i*r}wrappedIndex(e,i){return e[i%e.length]}removePathAndExtension(e){if(!e)return e;const i=/[^\/]+(?=\.[^.]*$)/,r=e.match(i);return r?r[0]:e}};Er.secondsPerAnimationFrame=.15;let jh=Er;const ei=new jh,lC=({iconcode:t,variant:e,textureType:i,animate:r,frame:a,grid:o,meshType:s,backgroundColor:l,callback:u})=>(pe.useEffect(()=>(ei.init(),ei.dispose),[]),pe.useEffect(()=>{ei.prop_callback=u,t&&e&&ei.loadNewIcon(t,e,i)},[t,e,i,u]),pe.useEffect(()=>{ei&&(ei.prop_animate=r,ei.prop_frame=a,ei.prop_grid=o,ei.prop_meshType=s,ei.prop_backgroundColor=l)},[r,a,o,s,l]),L.jsx("canvas",{id:"iconRenderCanvas"})),uC=()=>{var q,ne;const t=N0(),[e,i]=pe.useState(void 0),[r,a]=pe.useState(void 0),{iconcode:o}=F0(),[s,l]=pe.useState(),[u,c]=pe.useState(),[d,f]=pe.useState(0),[p,m]=pe.useState(),[S,v]=pe.useState(!1),[g,h]=pe.useState(0),[y,_]=pe.useState(!1),[M,A]=pe.useState(!0),[R,C]=pe.useState(0),[V,X]=pe.useState(!0),[b,F]=pe.useState(wi.Icon),[I,J]=pe.useState(Ar.Mesh),[x,P]=pe.useState("#080808"),[U,N]=pe.useState();pe.useEffect(()=>(document.addEventListener("keydown",W),()=>{document.removeEventListener("keydown",W)}),[S]),pe.useEffect(()=>{let se=Rn.flatMap(we=>we.icons).find(we=>we.code==o);c(se);async function Me(){try{var we=`/icons/${o}/iconsys.json`,Se=await fetch(we),Ie=await Se.text();if(Ie.startsWith("{")){let ke=JSON.parse(Ie);a(ke),l(ke.normal)}else throw new Error(`IconSys JSON response did not start with '{'. Body: ${Ie}.`)}catch(ke){ke instanceof Error&&i("Error loading icon data. "+ke.message)}}Me()},[o]),pe.useEffect(()=>{u&&(document.title=u.name)},[u]);function z(se,Me){f(se),m(Me)}async function O(){N("Loading..."),$().then(()=>N(void 0)).catch(se=>{console.error(se),N("Error. Check console.")})}async function $(){if(!r)return;let se=new Set([r.normal,r.copy,r.delete]),Me=[];se.forEach(T=>{Me.push(`${T}.anim`),Me.push(`${T}.mtl`),Me.push(`${T}.obj`),Me.push(`${T}.png`)}),Me.push("iconsys.json");const we=Me.map(async T=>{var re=await fetch(`/icons/${o}/${T}`);if(re.ok){if(T.endsWith(".png")&&re.headers.get("content-type")==="image/png"){var Q=await re.blob();return{file:T,content:Q}}else{var G=await re.text();if(!G.startsWith("<!DOCTYPE html>"))return{file:T,content:G}}T.endsWith(".anim")?console.warn(`Error loading ${T}, it is an anim file so there is a chance the icon just doesn't have an animation.`):console.error(`Error loading ${T}.`)}return null});var Se=await Promise.allSettled(we);const Ie=new dx;Se.forEach(T=>{T.status==="fulfilled"&&T.value&&Ie.file(T.value.file,T.value.content)});const ke=await Ie.generateAsync({type:"blob"}),ie=URL.createObjectURL(ke),Qe=document.createElement("a");Qe.href=ie,Qe.download=`ps2iodb_${o}.zip`,document.body.appendChild(Qe),Qe.click(),URL.revokeObjectURL(ie)}function H(){t(-1)}function W(se){(se.key==="Escape"||se.key=="Backspace")&&(S?v(!1):H())}function fe(se){const we=se.target.nodeName;["BUTTON","IMG"].indexOf(we)===-1&&v(!1)}return L.jsxs("div",{id:"icon",children:[L.jsx("a",{id:"back",href:"/",onClick:se=>{se.preventDefault(),H()},children:" Home"}),L.jsx("h5",{id:"title",children:u?L.jsxs(L.Fragment,{children:[u.game.name==u.name?u.name:`${u.game.name} (${u.name})`,L.jsx("br",{}),L.jsxs("h6",{children:["Contributed by ",(q=u.contributor)!=null&&q.link?L.jsx(dt,{to:u.contributor.link,target:"_blank",children:u.contributor.name}):`${(ne=u.contributor)==null?void 0:ne.name}`]})]}):"Game not found."}),L.jsx(lC,{iconcode:o,variant:s,animate:M,frame:R,grid:V,textureType:b,meshType:I,backgroundColor:x,callback:z}),e&&L.jsx("code",{children:e}),r!=null&&L.jsx("div",{id:"iconoptions",children:L.jsxs("ul",{children:[d>0&&L.jsx("li",{children:L.jsxs("label",{children:["Animate",L.jsx("input",{type:"checkbox",checked:M,onChange:se=>A(se.target.checked)})]})}),d>0&&!M&&L.jsx("li",{children:L.jsxs("label",{children:["Frame",L.jsxs("output",{style:{marginLeft:"5px"},children:[R+1,"/",d]}),L.jsx("input",{type:"range",min:0,max:d-1,value:R,onChange:se=>C(parseInt(se.target.value))})]})}),L.jsx("li",{children:L.jsxs("label",{children:["Display Grid",L.jsx("input",{type:"checkbox",checked:V,onChange:se=>X(se.target.checked)})]})}),L.jsx("li",{children:L.jsxs("label",{children:["Background Color",L.jsx("input",{type:"color",value:x,onChange:se=>P(se.target.value)})]})}),L.jsx("li",{children:L.jsxs("label",{children:["Icon Variant",L.jsx("select",{value:s,onChange:se=>l(se.target.value),children:Array.from(new Set([r.normal,r.copy,r.delete])).map(se=>L.jsx("option",{value:se,children:se},se))})]})}),L.jsx("li",{children:L.jsxs("label",{children:["Material",L.jsx("select",{value:b,onChange:se=>F(se.target.value),children:Object.values(wi).map(se=>L.jsx("option",{value:se,children:se},se))})]})}),L.jsx("li",{children:L.jsxs("label",{children:["Mesh",L.jsx("select",{value:I,onChange:se=>J(se.target.value),children:Object.values(Ar).map(se=>L.jsx("option",{value:se,children:se},se))})]})}),L.jsx("li",{children:L.jsx("button",{onClick:O,disabled:!!U,children:U??"Download Icon Assets "})})]})}),p&&L.jsx("div",{id:"texture-details",children:L.jsx("img",{onClick:()=>v(!0),src:`/icons/${o}/${p}.png`,title:`Icon texture image for '${s}'.`,style:{transform:`rotate(${g}deg)`}})}),S&&L.jsxs("div",{id:"enlarged-texture-view",className:"container-fluid",children:[L.jsx("div",{className:"row",children:L.jsx("div",{className:"d-flex flex-column justify-content-center align-items-center",onClick:se=>fe(se),children:L.jsx("a",{title:`Icon texture image for '${s}'.`,children:L.jsx("img",{src:`/icons/${o}/${p}.png`,style:{transform:`scale(${y?-1:1}, 1) rotate(${g}deg)`}})})})}),L.jsxs("div",{className:"row justify-content-center align-items-center",onClick:se=>fe(se),children:[L.jsx("div",{className:"col-4 col-md-3 col-xl-2 col-xxl-1",children:L.jsx("button",{className:"mx-auto d-block",title:"Rotate image 90 degrees anti-clockwise",onClick:se=>h(g-90),children:y?"":""})}),L.jsx("div",{className:"col-4 col-md-3 col-xl-2 col-xxl-1",children:L.jsx("button",{className:"mx-auto d-block",title:"Mirror image vertically",onClick:se=>_(!y),children:"Mirror"})}),L.jsx("div",{className:"col-4 col-md-3 col-xl-2 col-xxl-1",children:L.jsx("button",{className:"mx-auto d-block",title:"Rotate image 90 degrees clockwise",onClick:se=>h(g+90),children:y?"":""})})]})]})]})},cC=()=>L.jsxs(L.Fragment,{children:[L.jsx("div",{id:"Faq",children:L.jsx("div",{className:"container",children:L.jsx("div",{className:"row justify-content-center",children:L.jsxs("div",{className:"col-xl-8",children:[L.jsx(dt,{to:"/",children:" Home"}),L.jsx("h1",{children:"PS2 Icon Open Database"}),L.jsx("h2",{children:"Frequently Asked Questions"}),L.jsx("hr",{}),L.jsx("h4",{children:"What is this website?"}),L.jsxs("p",{children:["Video games for the Playstation 2 home console all had unique icons that were placed on the memory card with save data, these icons had distinct 3D models, textures, animations and even lighting!",L.jsx("br",{}),"This website is a community driven database that aims to archive all of the unique save icon assets from all PlayStation 2 titles.",L.jsx("br",{})]}),L.jsx("h4",{children:"Is this website official?"}),L.jsx("p",{children:"No, this website is not affiliated with Sony or any of the game developers. Contributions and uploads are made by fans in our spare time."}),L.jsx("h4",{children:"How do I use this website?"}),L.jsxs("p",{children:["At the ",L.jsx(dt,{to:"/",children:"Home Page"})," scroll downwards to find multiple techniques to search the PlayStation 2 library.",L.jsx("br",{}),"Once here, there is 3 ways to browse the library."]}),L.jsxs("ol",{children:[L.jsxs("li",{children:[L.jsx("h6",{children:"Alphabetical"}),L.jsxs("p",{children:["This technique allows you to simply browse the PlayStation 2 library via alphabetic sorting of the titles.",L.jsx("br",{}),"Some titles with unique names will show under close-match characters, for example ",L.jsx("i",{children:".hack//frgment"})," will show under ",L.jsx("i",{children:"H"}),", or ",L.jsx("i",{children:"kami"})," under ",L.jsx("i",{children:"O"}),".",L.jsx("br",{}),"Titles that start with non-english characters or numbers will be listed under ",L.jsx("i",{children:"#"}),"."]})]}),L.jsxs("li",{children:[L.jsx("h6",{children:"Category"}),L.jsx("p",{children:"With this technique you can sort the library by its contribution status (whether it has been contributed yet or is still missing), or by how many unique icons the title has, some titles only have 1 icon, while others may have 2 or 3 for the copy/delete UI states."})]}),L.jsxs("li",{children:[L.jsx("h6",{children:"Free Text Search"}),L.jsxs("p",{children:["With this method you can enter any search terms in a text box to search all titles.",L.jsx("br",{})]})]})]}),L.jsxs("p",{children:["Once you have found the title you wish to view, if it has been uploaded you may click it to go to the interactive 3D model viewer.",L.jsx("br",{}),"If the title you wish to view has not been uploaded you can contribute it yourself!"]}),L.jsx("h4",{children:"How can I help/contribute?"}),L.jsxs("p",{children:["See the ",L.jsx(dt,{to:"/contribute",children:"How to Contribute"})," page for guides on different ways to contribute.",L.jsx("br",{}),"Contributions outside of icon uploads can also be made, improvements to the website or memory card management tool are welcome in pull requests!"]}),L.jsx("h4",{children:"Who can I contact for more info?"}),L.jsxs("p",{children:["If your inquiry relates to a problem consider creating a GitHub issue, else e-mail the site founder Issun for ",L.jsx("a",{href:"mailto: issun@sonofgoran.com",children:"issun@sonofgoran.com"})," for all other inqueries."]}),L.jsx("h4",{children:"How can I issue a takedown request / DMCA?"}),L.jsxs("p",{children:["Send an email to ",L.jsx("a",{href:"mailto: issun@sonofgoran.com",children:"issun@sonofgoran.com"})," detailing your request."]})]})})})}),L.jsx(Hd,{className:"col-xl-8"})]}),hC=()=>L.jsxs(L.Fragment,{children:[L.jsx("div",{id:"Contribute",children:L.jsx("div",{className:"container",children:L.jsx("div",{className:"row justify-content-center",children:L.jsxs("div",{className:"col-xl-8",children:[L.jsx(dt,{to:"/",children:" Home"}),L.jsx("h1",{children:"PS2 Icon Open Database"}),L.jsx("h2",{children:"How to Contribute"}),L.jsx("hr",{}),L.jsx("h3",{children:"Donate"}),L.jsxs("p",{children:["If you wish to help the site but don't have the technology or technical know-how to contribute icons then donations are welcome.",L.jsx("br",{}),"The site & tools take time to maintain and hosting isn't free. Just a few dollars goes a long way, thanks for reading.",L.jsx("br",{}),L.jsx(dt,{to:"https://ko-fi.com/issung",target:"_blank",className:"btn btn-primary",children:"Ko-fi"}),L.jsx(dt,{to:"https://www.paypal.com/paypalme/Issung",target:"_blank",className:"btn btn-primary",children:"PayPal"}),L.jsx(dt,{to:"https://github.com/sponsors/Issung",target:"_blank",className:"btn btn-primary",children:"GitHub Sponsor"})]}),L.jsx("hr",{}),L.jsx("h3",{children:"Contributing Icons"}),L.jsx("p",{children:"This guide details how to extract save icons from save games, either with pre-made save files or by creating a save manually."}),L.jsx("a",{id:"iconextractionexisting",href:"#iconextractionexisting",children:L.jsx("h4",{children:"Icon Extraction: Pre-existing Save Files"})}),L.jsx("p",{children:"Around the internet many pre-existing save files are shared on forums such as:"}),L.jsxs("ul",{children:[L.jsx("li",{children:L.jsx(dt,{to:"https://gamefaqs.gamespot.com/",children:"GameFAQs"})}),L.jsx("li",{children:L.jsx(dt,{to:"https://www.ps2-home.com/forum/viewforum.php?f=70",children:"PS2-Home"})}),L.jsx("li",{children:L.jsx(dt,{to:"https://www.thetechgame.com/Downloads/cid=310/playstation-2-game-saves.html",children:"The Tech Game"})}),L.jsxs("li",{children:["Other various sources found via ",L.jsx(dt,{to:"https://www.google.com/search?q=ps2+game+save+files",children:"Google search"})]})]}),L.jsx("p",{children:"Our MYMC++ tool can be used to import these save files and then icon assets can be extracted easily. Steps:"}),L.jsxs("ol",{children:[L.jsxs("li",{children:[L.jsx(dt,{to:"https://mega.nz/file/gUMinaCS#c9eu8cAxM22MwWWK6T8Ofzi2tSI-crj3jEeFo2m72Cs",target:"_blank",children:"Download MYMC++"})," tool."]}),L.jsx("li",{children:"Download the pre-existing save file."}),L.jsx("li",{children:"Open MYMC++ and create a new memory card or open an existing one."}),L.jsx("li",{children:"Import the downloaded save file(s) by either:"}),L.jsxs("ul",{children:[L.jsx("li",{children:"Going to File  Import and navigate to the downloaded save file(s)."}),L.jsx("li",{children:"Dragging & Dropping the downloaded save file(s) onto the MYMC++ window."})]}),L.jsx("li",{children:"Once importing is complete right click on game you wish to export icon assets from."}),L.jsx("li",{children:"Enter a name for a new folder for the exported assets to be grouped under."}),L.jsx("li",{children:"Go to the MYMC++ directory and find the icon_exports folder, your exported assets will be within."})]}),L.jsx("p",{children:"A short video of the process can be viewed here:"}),L.jsx("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/wbZ59tpBIZ4?si=12EvAUgmiDxooeNd",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,style:{marginBottom:"15px"}}),L.jsx("a",{id:"iconextractionmanual",href:"#iconextractionmanual",children:L.jsx("h4",{children:"Icon Extraction: Manually Creating Saves with PCSX2"})}),L.jsx("p",{children:"For some less popular games pre-existing save files may not exist on the internet, in this case you need to emulate the game to create a save file manually, then extract icon assets from that file. Steps: "}),L.jsxs("ol",{children:[L.jsx("li",{children:"Using PCSX2 play the title you desire to extract save icons from up until a point where save data is created on a memory card."}),L.jsxs("li",{children:["Open ",L.jsx(dt,{to:"https://mega.nz/file/gUMinaCS#c9eu8cAxM22MwWWK6T8Ofzi2tSI-crj3jEeFo2m72Cs",target:"_blank",children:"the MYMC++ tool"})," and open the desired memory card, the typical location is ",L.jsx("code",{children:"%UserProfile%\\Documents\\PCSX2\\memcards"}),"."]}),L.jsxs("li",{children:["Find the desired title, right click it and chose the ",L.jsx("i",{children:"Export Icons"})," option, enter a name for a new folder for all assets to be grouped under."]}),L.jsx("li",{children:"Go to the MYMC++ directory and find the icon_exports folder, your exported assets will be within."})]}),L.jsx("a",{id:"iconuploading",href:"#iconuploading",children:L.jsx("h4",{children:"Icon Uploading: GitHub PR"})}),L.jsx("p",{children:"Now that you have extracted icon assets from a memory card using the previous guides, this is the step where you contribute the assets to the PS2IODB."}),L.jsx("p",{children:"When uploading an icon the Git flow looks like this:"}),L.jsx("img",{src:"http://placekitten.com/300/200",alt:"Git contribution diagram"})," ",L.jsx("br",{}),L.jsx("br",{}),L.jsx("p",{children:"The steps are as follows:"}),L.jsxs("ol",{children:[L.jsx("li",{children:"Create a fork of the GitHub repository."})," ",L.jsx("li",{children:"Clone your forked repository to your machine."}),L.jsx("li",{children:"Copy the exported icon folder to the /////// folder, where the rest are."}),"  ",L.jsxs("li",{children:["In ",L.jsx("code",{children:"GameList.tsx"})," find the title you are contributing, add a string parameter of the folder name you just added, and a number for the unique amount of icons."]})," ",L.jsx("li",{children:"With your Git client stage your changes and make a commit with a helpful message, then push."}),L.jsx("li",{children:"Now you can create a pull request to merge the changes in your fork with the official repo."})," ",L.jsx("li",{children:"After this is done the maintainers will inspect your changes and possibly request fixes or just accept them straight away."}),L.jsx("li",{children:"That's all you need to do! Thank you for contributing!"})]})]})})})}),L.jsx(Hd,{className:"col-xl-8"})]});function dC(){return L.jsx(nx,{children:L.jsxs(Z_,{children:[L.jsx(_r,{path:"/faq",element:L.jsx(cC,{})}),L.jsx(_r,{path:"/contribute",element:L.jsx(hC,{})}),L.jsx(_r,{path:"/icon/:iconcode",element:L.jsx(uC,{})}),L.jsx(_r,{path:"/search/:type/:index",element:L.jsx(ic,{})}),L.jsx(_r,{path:"/search/:type",element:L.jsx(ic,{})}),L.jsx(_r,{path:"*",element:L.jsx(ic,{})})," "]})})}const fC="modulepreload",pC=function(t){return"/"+t},dg={},mC=function(e,i,r){let a=Promise.resolve();if(i&&i.length>0){const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.all(i.map(u=>{if(u=pC(u),u in dg)return;dg[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!r)for(let m=o.length-1;m>=0;m--){const S=o[m];if(S.href===u&&(!c||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":fC,c||(p.as="script",p.crossOrigin=""),p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),c)return new Promise((m,S)=>{p.addEventListener("load",m),p.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${u}`)))})}))}return a.then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})},gC=t=>{t&&t instanceof Function&&mC(()=>import("./web-vitals-BhWu73fZ.js"),[]).then(({getCLS:e,getFID:i,getFCP:r,getLCP:a,getTTFB:o})=>{e(t),i(t),r(t),a(t),o(t)})};var Ev={},bv={},kv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(typeof window<"u"){var l;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(l=window).gtag.apply(l,o)}},i=e;t.default=i})(kv);var Cv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function i(l){return l.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(u,c,d){return c>0&&c+u.length!==d.length&&u.search(e)>-1&&d.charAt(c-2)!==":"&&(d.charAt(c+u.length)!=="-"||d.charAt(c-1)==="-")&&d.charAt(c-1).search(/[^\s-]/)<0?u.toLowerCase():u.substr(1).search(/[A-Z]|\../)>-1?u:u.charAt(0).toUpperCase()+u.substr(1)})}function r(l){return typeof l=="string"&&l.indexOf("@")!==-1}var a="REDACTED (Potential Email Address)";function o(l){return r(l)?(console.warn("This arg looks like an email address, redacting."),a):l}function s(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,d=l||"";return u&&(d=i(l)),c&&(d=o(d)),d}})(Cv);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var e=s(kv),i=s(Cv),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],a=["title","location"],o=["page","hitType"];function s(x){return x&&x.__esModule?x:{default:x}}function l(x,P){if(x==null)return{};var U=u(x,P),N,z;if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(x);for(z=0;z<O.length;z++)N=O[z],!(P.indexOf(N)>=0)&&Object.prototype.propertyIsEnumerable.call(x,N)&&(U[N]=x[N])}return U}function u(x,P){if(x==null)return{};var U={},N=Object.keys(x),z,O;for(O=0;O<N.length;O++)z=N[O],!(P.indexOf(z)>=0)&&(U[z]=x[z]);return U}function c(x){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},c(x)}function d(x){return m(x)||p(x)||y(x)||f()}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(x){if(typeof Symbol<"u"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}function m(x){if(Array.isArray(x))return _(x)}function S(x,P){var U=Object.keys(x);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(x);P&&(N=N.filter(function(z){return Object.getOwnPropertyDescriptor(x,z).enumerable})),U.push.apply(U,N)}return U}function v(x){for(var P=1;P<arguments.length;P++){var U=arguments[P]!=null?arguments[P]:{};P%2?S(Object(U),!0).forEach(function(N){X(x,N,U[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(U)):S(Object(U)).forEach(function(N){Object.defineProperty(x,N,Object.getOwnPropertyDescriptor(U,N))})}return x}function g(x,P){return A(x)||M(x,P)||y(x,P)||h()}function h(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(x,P){if(x){if(typeof x=="string")return _(x,P);var U=Object.prototype.toString.call(x).slice(8,-1);if(U==="Object"&&x.constructor&&(U=x.constructor.name),U==="Map"||U==="Set")return Array.from(x);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return _(x,P)}}function _(x,P){(P==null||P>x.length)&&(P=x.length);for(var U=0,N=new Array(P);U<P;U++)N[U]=x[U];return N}function M(x,P){var U=x==null?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(U!=null){var N,z,O,$,H=[],W=!0,fe=!1;try{if(O=(U=U.call(x)).next,P===0){if(Object(U)!==U)return;W=!1}else for(;!(W=(N=O.call(U)).done)&&(H.push(N.value),H.length!==P);W=!0);}catch(q){fe=!0,z=q}finally{try{if(!W&&U.return!=null&&($=U.return(),Object($)!==$))return}finally{if(fe)throw z}}return H}}function A(x){if(Array.isArray(x))return x}function R(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")}function C(x,P){for(var U=0;U<P.length;U++){var N=P[U];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,b(N.key),N)}}function V(x,P,U){return P&&C(x.prototype,P),U&&C(x,U),Object.defineProperty(x,"prototype",{writable:!1}),x}function X(x,P,U){return P=b(P),P in x?Object.defineProperty(x,P,{value:U,enumerable:!0,configurable:!0,writable:!0}):x[P]=U,x}function b(x){var P=F(x,"string");return c(P)==="symbol"?P:String(P)}function F(x,P){if(c(x)!=="object"||x===null)return x;var U=x[Symbol.toPrimitive];if(U!==void 0){var N=U.call(x,P||"default");if(c(N)!=="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(x)}var I=function(){function x(){var P=this;R(this,x),X(this,"reset",function(){P.isInitialized=!1,P._testMode=!1,P._currentMeasurementId,P._hasLoadedGA=!1,P._isQueuing=!1,P._queueGtag=[]}),X(this,"_gtag",function(){for(var U=arguments.length,N=new Array(U),z=0;z<U;z++)N[z]=arguments[z];P._testMode||P._isQueuing?P._queueGtag.push(N):e.default.apply(void 0,N)}),X(this,"_loadGA",function(U,N){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!P._hasLoadedGA){var O=document.createElement("script");O.async=!0,O.src="".concat(z,"?id=").concat(U),N&&O.setAttribute("nonce",N),document.body.appendChild(O),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},P._hasLoadedGA=!0}}),X(this,"_toGtagOptions",function(U){if(U){var N={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},z=Object.entries(U).reduce(function(O,$){var H=g($,2),W=H[0],fe=H[1];return N[W]?O[N[W]]=fe:O[W]=fe,O},{});return z}}),X(this,"initialize",function(U){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!U)throw new Error("Require GA_MEASUREMENT_ID");var z=typeof U=="string"?[{trackingId:U}]:U;P._currentMeasurementId=z[0].trackingId;var O=N.gaOptions,$=N.gtagOptions,H=N.nonce,W=N.testMode,fe=W===void 0?!1:W,q=N.gtagUrl;if(P._testMode=fe,fe||P._loadGA(P._currentMeasurementId,H,q),P.isInitialized||(P._gtag("js",new Date),z.forEach(function(Me){var we=v(v(v({},P._toGtagOptions(v(v({},O),Me.gaOptions))),$),Me.gtagOptions);Object.keys(we).length?P._gtag("config",Me.trackingId,we):P._gtag("config",Me.trackingId)})),P.isInitialized=!0,!fe){var ne=d(P._queueGtag);for(P._queueGtag=[],P._isQueuing=!1;ne.length;){var se=ne.shift();P._gtag.apply(P,d(se)),se[0]==="get"&&(P._isQueuing=!0)}}}),X(this,"set",function(U){if(!U){console.warn("`fieldsObject` is required in .set()");return}if(c(U)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(U).length===0&&console.warn("empty `fieldsObject` given to .set()"),P._gaCommand("set",U)}),X(this,"_gaCommandSendEvent",function(U,N,z,O,$){P._gtag("event",N,v(v({event_category:U,event_label:z,value:O},$&&{non_interaction:$.nonInteraction}),P._toGtagOptions($)))}),X(this,"_gaCommandSendEventParameters",function(){for(var U=arguments.length,N=new Array(U),z=0;z<U;z++)N[z]=arguments[z];if(typeof N[0]=="string")P._gaCommandSendEvent.apply(P,d(N.slice(1)));else{var O=N[0],$=O.eventCategory,H=O.eventAction,W=O.eventLabel,fe=O.eventValue;O.hitType;var q=l(O,r);P._gaCommandSendEvent($,H,W,fe,q)}}),X(this,"_gaCommandSendTiming",function(U,N,z,O){P._gtag("event","timing_complete",{name:N,value:z,event_category:U,event_label:O})}),X(this,"_gaCommandSendPageview",function(U,N){if(N&&Object.keys(N).length){var z=P._toGtagOptions(N),O=z.title,$=z.location,H=l(z,a);P._gtag("event","page_view",v(v(v(v({},U&&{page_path:U}),O&&{page_title:O}),$&&{page_location:$}),H))}else U?P._gtag("event","page_view",{page_path:U}):P._gtag("event","page_view")}),X(this,"_gaCommandSendPageviewParameters",function(){for(var U=arguments.length,N=new Array(U),z=0;z<U;z++)N[z]=arguments[z];if(typeof N[0]=="string")P._gaCommandSendPageview.apply(P,d(N.slice(1)));else{var O=N[0],$=O.page;O.hitType;var H=l(O,o);P._gaCommandSendPageview($,H)}}),X(this,"_gaCommandSend",function(){for(var U=arguments.length,N=new Array(U),z=0;z<U;z++)N[z]=arguments[z];var O=typeof N[0]=="string"?N[0]:N[0].hitType;switch(O){case"event":P._gaCommandSendEventParameters.apply(P,N);break;case"pageview":P._gaCommandSendPageviewParameters.apply(P,N);break;case"timing":P._gaCommandSendTiming.apply(P,d(N.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(O));break;default:console.warn("Send command doesn't exist: ".concat(O))}}),X(this,"_gaCommandSet",function(){for(var U=arguments.length,N=new Array(U),z=0;z<U;z++)N[z]=arguments[z];typeof N[0]=="string"&&(N[0]=X({},N[0],N[1])),P._gtag("set",P._toGtagOptions(N[0]))}),X(this,"_gaCommand",function(U){for(var N=arguments.length,z=new Array(N>1?N-1:0),O=1;O<N;O++)z[O-1]=arguments[O];switch(U){case"send":P._gaCommandSend.apply(P,z);break;case"set":P._gaCommandSet.apply(P,z);break;default:console.warn("Command doesn't exist: ".concat(U))}}),X(this,"ga",function(){for(var U=arguments.length,N=new Array(U),z=0;z<U;z++)N[z]=arguments[z];if(typeof N[0]=="string")P._gaCommand.apply(P,N);else{var O=N[0];P._gtag("get",P._currentMeasurementId,"client_id",function($){P._isQueuing=!1;var H=P._queueGtag;for(O({get:function(q){return q==="clientId"?$:q==="trackingId"?P._currentMeasurementId:q==="apiVersion"?"1":void 0}});H.length;){var W=H.shift();P._gtag.apply(P,d(W))}}),P._isQueuing=!0}return P.ga}),X(this,"event",function(U,N){if(typeof U=="string")P._gtag("event",U,P._toGtagOptions(N));else{var z=U.action,O=U.category,$=U.label,H=U.value,W=U.nonInteraction,fe=U.transport;if(!O||!z){console.warn("args.category AND args.action are required in event()");return}var q={hitType:"event",eventCategory:(0,i.default)(O),eventAction:(0,i.default)(z)};$&&(q.eventLabel=(0,i.default)($)),typeof H<"u"&&(typeof H!="number"?console.warn("Expected `args.value` arg to be a Number."):q.eventValue=H),typeof W<"u"&&(typeof W!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):q.nonInteraction=W),typeof fe<"u"&&(typeof fe!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(fe)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),q.transport=fe)),P._gaCommand("send",q)}}),X(this,"send",function(U){P._gaCommand("send",U)}),this.reset()}return V(x,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),x}();t.GA4=I;var J=new I;t.default=J})(bv);(function(t){function e(l){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},e(l)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReactGAImplementation=void 0;var i=a(bv);function r(l){if(typeof WeakMap!="function")return null;var u=new WeakMap,c=new WeakMap;return(r=function(f){return f?c:u})(l)}function a(l,u){if(!u&&l&&l.__esModule)return l;if(l===null||e(l)!=="object"&&typeof l!="function")return{default:l};var c=r(u);if(c&&c.has(l))return c.get(l);var d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in l)if(p!=="default"&&Object.prototype.hasOwnProperty.call(l,p)){var m=f?Object.getOwnPropertyDescriptor(l,p):null;m&&(m.get||m.set)?Object.defineProperty(d,p,m):d[p]=l[p]}return d.default=l,c&&c.set(l,d),d}var o=i.GA4;t.ReactGAImplementation=o;var s=i.default;t.default=s})(Ev);const wC=tu(Ev);wC.initialize("G-MTYRQV3C1G");const vC=Bc.createRoot(document.getElementById("root"));vC.render(L.jsxs(xg.StrictMode,{children:[!1,L.jsx(dC,{})]}));gC();
